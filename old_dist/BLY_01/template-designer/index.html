<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Badge Template Designer</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
<div class="app">
    <header class="app__header">
        <div class="brand">
            <h1>Badge Template Designer</h1>
            <p>Соберите макет бейджа в визуальном редакторе и получите готовый шаблон для Badge Studio.</p>
        </div>
        <div class="header-actions">
            <button id="loadTemplateButton" class="ghost">Загрузить</button>
            <button id="exportTemplateButton" class="primary">Экспорт</button>
        </div>
    </header>
    <main class="app__main">
        <aside class="panel panel--left" aria-label="Палитра элементов">
            <section class="panel-section">
                <h2>Элементы</h2>
                <div class="element-list" id="elementPalette">
                    <button data-element-type="text" class="element-button">Текст</button>
                    <button data-element-type="image" class="element-button">Изображение</button>
                    <button data-element-type="shape" class="element-button">Фигура</button>
                    <button data-element-type="field" class="element-button">Поле данных</button>
                </div>
            </section>
            <section class="panel-section">
                <h2>Слои</h2>
                <div id="layerList" class="layer-list" aria-live="polite"></div>
            </section>
            <section class="panel-section">
                <h2>Примеры</h2>
                <button type="button" id="connectTemplatesButton" class="template-button template-button--accent">
                    Подключить папку шаблонов
                </button>
                <div id="templateLibrary" class="template-library">
                    <button data-template="modern-landscape" class="template-button">Modern Landscape</button>
                    <button data-template="minimal-portrait" class="template-button">Minimal Portrait</button>
                    <button data-template="compact-grid" class="template-button">Compact Grid</button>
                </div>
            </section>
        </aside>
        <section class="canvas-area" aria-label="Рабочая область">
            <div class="canvas-toolbar">
                <div class="badge-size">
                    <label>
                        <span>Ширина, мм</span>
                        <input type="number" id="badgeWidthInput" min="40" max="200" step="1" value="90">
                    </label>
                    <label>
                        <span>Высота, мм</span>
                        <input type="number" id="badgeHeightInput" min="40" max="200" step="1" value="55">
                    </label>
                </div>
                <div class="grid-controls">
                    <label>
                        <span>Сетка</span>
                        <input type="range" id="gridSizeInput" min="0" max="20" value="8">
                    </label>
                    <label class="checkbox">
                        <input type="checkbox" id="snapToGridInput" checked>
                        <span>Привязка</span>
                    </label>
                </div>
            </div>
            <div class="canvas-wrapper">
                <div id="badgeCanvas" class="badge-canvas" tabindex="0" role="application" aria-describedby="canvasHint">
                    <div id="canvasHint" class="canvas-hint">Перетащите элементы из палитры или кликните по холсту, чтобы добавить выбранный элемент.</div>
                </div>
            </div>
        </section>
    </main>
    <footer class="properties-dock" aria-label="Свойства">
        <div class="properties-panels">
            <section class="properties-panel" id="propertiesBasics">
                <header>
                    <h2>Свойства</h2>
                </header>
                <div class="properties-body" id="propertiesBody">
                    <p class="empty-state">Выберите элемент на холсте, чтобы отредактировать его параметры.</p>
                </div>
            </section>
            <section class="properties-panel" id="codePanel">
                <header>
                    <h2>Код</h2>
                    <div class="code-tabs" role="tablist">
                        <button type="button" data-code-tab="markup" class="code-tab active" role="tab" aria-selected="true">Разметка</button>
                        <button type="button" data-code-tab="styles" class="code-tab" role="tab" aria-selected="false">Стили</button>
                        <button type="button" data-code-tab="manifest" class="code-tab" role="tab" aria-selected="false">Манифест</button>
                    </div>
                </header>
                <div class="code-editors">
                    <div class="code-editor" data-editor-id="markup" data-code-language="html">
                        <div id="markupEditor" class="code-editor__surface" contenteditable="true" aria-label="HTML редактор"></div>
                        <textarea id="markupOutput" class="code-editor__shadow" hidden></textarea>
                    </div>
                    <div class="code-editor" data-editor-id="styles" data-code-language="css">
                        <div id="stylesEditor" class="code-editor__surface" contenteditable="true" aria-label="CSS редактор"></div>
                        <textarea id="stylesOutput" class="code-editor__shadow" hidden></textarea>
                    </div>
                    <div class="code-editor" data-editor-id="manifest" data-code-language="json">
                        <div id="manifestEditor" class="code-editor__surface" contenteditable="true" aria-label="JSON редактор"></div>
                        <textarea id="manifestOutput" class="code-editor__shadow" hidden></textarea>
                    </div>
                </div>
            </section>
        </div>
    </footer>
</div>
<script src="js/utils.js"></script>
<script src="vendor/codejar.js"></script>
<script src="js/code-editor.js"></script>
<script src="js/editor-state.js"></script>
<script src="js/canvas.js"></script>
<script src="js/palette.js"></script>
<script src="js/properties.js"></script>
<script src="js/exporters.js"></script>
<script src="js/app.js"></script>
</body>
</html>
