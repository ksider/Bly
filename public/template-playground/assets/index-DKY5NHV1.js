(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const v of h)if(v.type==="childList")for(const C of v.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&u(C)}).observe(document,{childList:!0,subtree:!0});function p(h){const v={};return h.integrity&&(v.integrity=h.integrity),h.referrerPolicy&&(v.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?v.credentials="include":h.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function u(h){if(h.ep)return;h.ep=!0;const v=p(h);fetch(h.href,v)}})();const Hn=`<div class="badge-surface">
  <div class="badge-header">
    <div class="display-name">{{displayName}}</div>
    {{#title}}<div class="title">{{title}}</div>{{/title}}
    {{#company}}<div class="company">{{company}}</div>{{/company}}
  </div>
  <div class="badge-footer">
    {{#role}}<span class="role">{{role}}</span>{{/role}}
    {{#email}}<span class="contact">{{email}}</span>{{/email}}
  </div>
  {{#qrValue}}<div class="qr-holder" data-qr="{{qrValue}}"></div>{{/qrValue}}
</div>
`,Ui=`.badge-surface {
  display: grid;
  grid-template-rows: 1fr auto;
  height: 100%;
  padding: 3mm;
  background: linear-gradient(135deg, #f7fbff, #e8f1ff);
  border-radius: 1.5mm;
  border: 0.3mm solid #cfd8f3;
  color: #1b1f3b;
  position: relative;
}

.display-name {
  font-size: 7mm;
  font-weight: 700;
  letter-spacing: 0.1mm;
  line-height: 1.1;
}

.title,
.company {
  font-size: 3.2mm;
  margin-top: 0.5mm;
}

.badge-footer {
  display: flex;
  align-items: center;
  gap: 2mm;
  font-size: 3mm;
  margin-top: 2mm;
}

.role {
  background: #0b75f5;
  color: white;
  padding: 0.8mm 1.6mm;
  border-radius: 1mm;
}

.contact {
  color: #334155;
}

.qr-holder {
  position: absolute;
  right: 2mm;
  bottom: 2mm;
  width: 16mm;
  height: 16mm;
  background: white;
  border-radius: 1mm;
  border: 0.3mm solid #d6e0ff;
  display: grid;
  place-items: center;
}
`,qi=`{
  "name": "Second Template",
  "description": "Minimal badge with bold display name, role/company, and optional QR code.",
  "size": "90x55mm"
}
`;var ji=Object.prototype.toString,pt=Array.isArray||function(m){return ji.call(m)==="[object Array]"};function Rr(d){return typeof d=="function"}function zi(d){return pt(d)?"array":typeof d}function tr(d){return d.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ln(d,m){return d!=null&&typeof d=="object"&&m in d}function Hi(d,m){return d!=null&&typeof d!="object"&&d.hasOwnProperty&&d.hasOwnProperty(m)}var Gi=RegExp.prototype.test;function Ji(d,m){return Gi.call(d,m)}var Wi=/\S/;function Ki(d){return!Ji(Wi,d)}var Qi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Yi(d){return String(d).replace(/[&<>"'`=\/]/g,function(p){return Qi[p]})}var Zi=/\s*/,Xi=/\s+/,un=/\s*=/,ea=/\s*\}/,ta=/#|\^|\/|>|\{|&|=|!/;function ra(d,m){if(!d)return[];var p=!1,u=[],h=[],v=[],C=!1,S=!1,A="",O=0;function V(){if(C&&!S)for(;v.length;)delete h[v.pop()];else v=[];C=!1,S=!1}var H,T,j;function te(z){if(typeof z=="string"&&(z=z.split(Xi,2)),!pt(z)||z.length!==2)throw new Error("Invalid tags: "+z);H=new RegExp(tr(z[0])+"\\s*"),T=new RegExp("\\s*"+tr(z[1])),j=new RegExp("\\s*"+tr("}"+z[1]))}te(m||Te.tags);for(var U=new kt(d),W,J,x,P,L,D;!U.eos();){if(W=U.pos,x=U.scanUntil(H),x)for(var F=0,N=x.length;F<N;++F)P=x.charAt(F),Ki(P)?(v.push(h.length),A+=P):(S=!0,p=!0,A+=" "),h.push(["text",P,W,W+1]),W+=1,P===`
`&&(V(),A="",O=0,p=!1);if(!U.scan(H))break;if(C=!0,J=U.scan(ta)||"name",U.scan(Zi),J==="="?(x=U.scanUntil(un),U.scan(un),U.scanUntil(T)):J==="{"?(x=U.scanUntil(j),U.scan(ea),U.scanUntil(T),J="&"):x=U.scanUntil(T),!U.scan(T))throw new Error("Unclosed tag at "+U.pos);if(J==">"?L=[J,x,W,U.pos,A,O,p]:L=[J,x,W,U.pos],O++,h.push(L),J==="#"||J==="^")u.push(L);else if(J==="/"){if(D=u.pop(),!D)throw new Error('Unopened section "'+x+'" at '+W);if(D[1]!==x)throw new Error('Unclosed section "'+D[1]+'" at '+W)}else J==="name"||J==="{"||J==="&"?S=!0:J==="="&&te(x)}if(V(),D=u.pop(),D)throw new Error('Unclosed section "'+D[1]+'" at '+U.pos);return ia(na(h))}function na(d){for(var m=[],p,u,h=0,v=d.length;h<v;++h)p=d[h],p&&(p[0]==="text"&&u&&u[0]==="text"?(u[1]+=p[1],u[3]=p[3]):(m.push(p),u=p));return m}function ia(d){for(var m=[],p=m,u=[],h,v,C=0,S=d.length;C<S;++C)switch(h=d[C],h[0]){case"#":case"^":p.push(h),u.push(h),p=h[4]=[];break;case"/":v=u.pop(),v[5]=h[2],p=u.length>0?u[u.length-1][4]:m;break;default:p.push(h)}return m}function kt(d){this.string=d,this.tail=d,this.pos=0}kt.prototype.eos=function(){return this.tail===""};kt.prototype.scan=function(m){var p=this.tail.match(m);if(!p||p.index!==0)return"";var u=p[0];return this.tail=this.tail.substring(u.length),this.pos+=u.length,u};kt.prototype.scanUntil=function(m){var p=this.tail.search(m),u;switch(p){case-1:u=this.tail,this.tail="";break;case 0:u="";break;default:u=this.tail.substring(0,p),this.tail=this.tail.substring(p)}return this.pos+=u.length,u};function dt(d,m){this.view=d,this.cache={".":this.view},this.parent=m}dt.prototype.push=function(m){return new dt(m,this)};dt.prototype.lookup=function(m){var p=this.cache,u;if(p.hasOwnProperty(m))u=p[m];else{for(var h=this,v,C,S,A=!1;h;){if(m.indexOf(".")>0)for(v=h.view,C=m.split("."),S=0;v!=null&&S<C.length;)S===C.length-1&&(A=ln(v,C[S])||Hi(v,C[S])),v=v[C[S++]];else v=h.view[m],A=ln(h.view,m);if(A){u=v;break}h=h.parent}p[m]=u}return Rr(u)&&(u=u.call(this.view)),u};function Ie(){this.templateCache={_cache:{},set:function(m,p){this._cache[m]=p},get:function(m){return this._cache[m]},clear:function(){this._cache={}}}}Ie.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};Ie.prototype.parse=function(m,p){var u=this.templateCache,h=m+":"+(p||Te.tags).join(":"),v=typeof u<"u",C=v?u.get(h):void 0;return C==null&&(C=ra(m,p),v&&u.set(h,C)),C};Ie.prototype.render=function(m,p,u,h){var v=this.getConfigTags(h),C=this.parse(m,v),S=p instanceof dt?p:new dt(p,void 0);return this.renderTokens(C,S,u,m,h)};Ie.prototype.renderTokens=function(m,p,u,h,v){for(var C="",S,A,O,V=0,H=m.length;V<H;++V)O=void 0,S=m[V],A=S[0],A==="#"?O=this.renderSection(S,p,u,h,v):A==="^"?O=this.renderInverted(S,p,u,h,v):A===">"?O=this.renderPartial(S,p,u,v):A==="&"?O=this.unescapedValue(S,p):A==="name"?O=this.escapedValue(S,p,v):A==="text"&&(O=this.rawValue(S)),O!==void 0&&(C+=O);return C};Ie.prototype.renderSection=function(m,p,u,h,v){var C=this,S="",A=p.lookup(m[1]);function O(T){return C.render(T,p,u,v)}if(A){if(pt(A))for(var V=0,H=A.length;V<H;++V)S+=this.renderTokens(m[4],p.push(A[V]),u,h,v);else if(typeof A=="object"||typeof A=="string"||typeof A=="number")S+=this.renderTokens(m[4],p.push(A),u,h,v);else if(Rr(A)){if(typeof h!="string")throw new Error("Cannot use higher-order sections without the original template");A=A.call(p.view,h.slice(m[3],m[5]),O),A!=null&&(S+=A)}else S+=this.renderTokens(m[4],p,u,h,v);return S}};Ie.prototype.renderInverted=function(m,p,u,h,v){var C=p.lookup(m[1]);if(!C||pt(C)&&C.length===0)return this.renderTokens(m[4],p,u,h,v)};Ie.prototype.indentPartial=function(m,p,u){for(var h=p.replace(/[^ \t]/g,""),v=m.split(`
`),C=0;C<v.length;C++)v[C].length&&(C>0||!u)&&(v[C]=h+v[C]);return v.join(`
`)};Ie.prototype.renderPartial=function(m,p,u,h){if(u){var v=this.getConfigTags(h),C=Rr(u)?u(m[1]):u[m[1]];if(C!=null){var S=m[6],A=m[5],O=m[4],V=C;A==0&&O&&(V=this.indentPartial(C,O,S));var H=this.parse(V,v);return this.renderTokens(H,p,u,V,h)}}};Ie.prototype.unescapedValue=function(m,p){var u=p.lookup(m[1]);if(u!=null)return u};Ie.prototype.escapedValue=function(m,p,u){var h=this.getConfigEscape(u)||Te.escape,v=p.lookup(m[1]);if(v!=null)return typeof v=="number"&&h===Te.escape?String(v):h(v)};Ie.prototype.rawValue=function(m){return m[1]};Ie.prototype.getConfigTags=function(m){return pt(m)?m:m&&typeof m=="object"?m.tags:void 0};Ie.prototype.getConfigEscape=function(m){if(m&&typeof m=="object"&&!pt(m))return m.escape};var Te={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(d){Et.templateCache=d},get templateCache(){return Et.templateCache}},Et=new Ie;Te.clearCache=function(){return Et.clearCache()};Te.parse=function(m,p){return Et.parse(m,p)};Te.render=function(m,p,u,h){if(typeof m!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+zi(m)+'" was given as the first argument for mustache#render(template, view, partials)');return Et.render(m,p,u,h)};Te.escape=Yi;Te.Scanner=kt;Te.Context=dt;Te.Writer=Ie;var cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pr(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Bt={exports:{}};var aa=Bt.exports,fn;function sa(){return fn||(fn=1,(function(d,m){(function(p,u){d.exports=u()})(aa,(function(){function p(){return{javascriptEnabled:!1,depends:!1,compress:!1,lint:!1,paths:[],color:!0,strictImports:!1,insecure:!1,rootpath:"",rewriteUrls:!1,math:1,strictUnits:!1,globalVars:null,modifyVars:null,urlArgs:""}}function u(e){return e.replace(/^[a-z-]+:\/+?[^/]+/,"").replace(/[?&]livereload=\w+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^.\w-]+/g,"-").replace(/\./g,":")}function h(e,t){if(t){for(var r in t.dataset)if(Object.prototype.hasOwnProperty.call(t.dataset,r))if(r==="env"||r==="dumpLineNumbers"||r==="rootpath"||r==="errorReporting")e[r]=t.dataset[r];else try{e[r]=JSON.parse(t.dataset[r])}catch{}}}var v={createCSS:function(e,t,r){var n=r.href||"",a="less:".concat(r.title||u(n)),s=e.getElementById(a),i=!1,c=e.createElement("style");c.setAttribute("type","text/css"),r.media&&c.setAttribute("media",r.media),c.id=a,c.styleSheet||(c.appendChild(e.createTextNode(t)),i=s!==null&&s.childNodes.length>0&&c.childNodes.length>0&&s.firstChild.nodeValue===c.firstChild.nodeValue);var l=e.getElementsByTagName("head")[0];if(s===null||i===!1){var b=r&&r.nextSibling||null;b?b.parentNode.insertBefore(c,b):l.appendChild(c)}if(s&&i===!1&&s.parentNode.removeChild(s),c.styleSheet)try{c.styleSheet.cssText=t}catch{throw new Error("Couldn't reassign styleSheet.cssText.")}},currentScript:function(e){var t=e.document;return t.currentScript||(function(){var r=t.getElementsByTagName("script");return r[r.length-1]})()}},C=(function(e,t){h(t,v.currentScript(e)),t.isFileProtocol===void 0&&(t.isFileProtocol=/^(file|(chrome|safari)(-extension)?|resource|qrc|app):/.test(e.location.protocol)),t.async=t.async||!1,t.fileAsync=t.fileAsync||!1,t.poll=t.poll||(t.isFileProtocol?1e3:1500),t.env=t.env||(e.location.hostname=="127.0.0.1"||e.location.hostname=="0.0.0.0"||e.location.hostname=="localhost"||e.location.port&&e.location.port.length>0||t.isFileProtocol?"development":"production");var r=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(e.location.hash);r&&(t.dumpLineNumbers=r[1]),t.useFileCache===void 0&&(t.useFileCache=!0),t.onReady===void 0&&(t.onReady=!0),t.relativeUrls&&(t.rewriteUrls="all")}),S={error:function(e){this._fireEvent("error",e)},warn:function(e){this._fireEvent("warn",e)},info:function(e){this._fireEvent("info",e)},debug:function(e){this._fireEvent("debug",e)},addListener:function(e){this._listeners.push(e)},removeListener:function(e){for(var t=0;t<this._listeners.length;t++)if(this._listeners[t]===e){this._listeners.splice(t,1);return}},_fireEvent:function(e,t){for(var r=0;r<this._listeners.length;r++){var n=this._listeners[r][e];n&&n(t)}},_listeners:[]},A=(function(){function e(t,r){this.fileManagers=r||[],t=t||{};for(var n=["encodeBase64","mimeLookup","charsetLookup","getSourceMapGenerator"],a=[],s=a.concat(n),i=0;i<s.length;i++){var c=s[i],l=t[c];l?this[c]=l.bind(t):i<a.length&&this.warn("missing required function in environment - ".concat(c))}}return e.prototype.getFileManager=function(t,r,n,a,s){t||S.warn("getFileManager called with no filename.. Please report this issue. continuing."),r===void 0&&S.warn("getFileManager called with null directory.. Please report this issue. continuing.");var i=this.fileManagers;n.pluginManager&&(i=[].concat(i).concat(n.pluginManager.getFileManagers()));for(var c=i.length-1;c>=0;c--){var l=i[c];if(l[s?"supportsSync":"supports"](t,r,n,a))return l}return null},e.prototype.addFileManager=function(t){this.fileManagers.push(t)},e.prototype.clearFileManagers=function(){this.fileManagers=[]},e})(),O={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},V={length:{m:1,cm:.01,mm:.001,in:.0254,px:.0254/96,pt:.0254/72,pc:.0254/72*12},duration:{s:1,ms:.001},angle:{rad:1/(2*Math.PI),deg:1/360,grad:1/400,turn:1}},H={colors:O,unitConversions:V},T=(function(){function e(){this.parent=null,this.visibilityBlocks=void 0,this.nodeVisible=void 0,this.rootNode=null,this.parsed=null}return Object.defineProperty(e.prototype,"currentFileInfo",{get:function(){return this.fileInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.getIndex()},enumerable:!1,configurable:!0}),e.prototype.setParent=function(t,r){function n(a){a&&a instanceof e&&(a.parent=r)}Array.isArray(t)?t.forEach(n):n(t)},e.prototype.getIndex=function(){return this._index||this.parent&&this.parent.getIndex()||0},e.prototype.fileInfo=function(){return this._fileInfo||this.parent&&this.parent.fileInfo()||{}},e.prototype.isRulesetLike=function(){return!1},e.prototype.toCSS=function(t){var r=[];return this.genCSS(t,{add:function(n,a,s){r.push(n)},isEmpty:function(){return r.length===0}}),r.join("")},e.prototype.genCSS=function(t,r){r.add(this.value)},e.prototype.accept=function(t){this.value=t.visit(this.value)},e.prototype.eval=function(){return this},e.prototype._operate=function(t,r,n,a){switch(r){case"+":return n+a;case"-":return n-a;case"*":return n*a;case"/":return n/a}},e.prototype.fround=function(t,r){var n=t&&t.numPrecision;return n?Number((r+2e-16).toFixed(n)):r},e.compare=function(t,r){if(t.compare&&!(r.type==="Quoted"||r.type==="Anonymous"))return t.compare(r);if(r.compare)return-r.compare(t);if(t.type!==r.type)return;if(t=t.value,r=r.value,!Array.isArray(t))return t===r?0:void 0;if(t.length===r.length){for(var n=0;n<t.length;n++)if(e.compare(t[n],r[n])!==0)return;return 0}},e.numericCompare=function(t,r){return t<r?-1:t===r?0:t>r?1:void 0},e.prototype.blocksVisibility=function(){return this.visibilityBlocks===void 0&&(this.visibilityBlocks=0),this.visibilityBlocks!==0},e.prototype.addVisibilityBlock=function(){this.visibilityBlocks===void 0&&(this.visibilityBlocks=0),this.visibilityBlocks=this.visibilityBlocks+1},e.prototype.removeVisibilityBlock=function(){this.visibilityBlocks===void 0&&(this.visibilityBlocks=0),this.visibilityBlocks=this.visibilityBlocks-1},e.prototype.ensureVisibility=function(){this.nodeVisible=!0},e.prototype.ensureInvisibility=function(){this.nodeVisible=!1},e.prototype.isVisible=function(){return this.nodeVisible},e.prototype.visibilityInfo=function(){return{visibilityBlocks:this.visibilityBlocks,nodeVisible:this.nodeVisible}},e.prototype.copyVisibilityInfo=function(t){t&&(this.visibilityBlocks=t.visibilityBlocks,this.nodeVisible=t.nodeVisible)},e})(),j=function(e,t,r){var n=this;Array.isArray(e)?this.rgb=e:e.length>=6?(this.rgb=[],e.match(/.{2}/g).map(function(a,s){s<3?n.rgb.push(parseInt(a,16)):n.alpha=parseInt(a,16)/255})):(this.rgb=[],e.split("").map(function(a,s){s<3?n.rgb.push(parseInt(a+a,16)):n.alpha=parseInt(a+a,16)/255})),this.alpha=this.alpha||(typeof t=="number"?t:1),typeof r<"u"&&(this.value=r)};j.prototype=Object.assign(new T,{type:"Color",luma:function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,r=this.rgb[2]/255;return e=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),r=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),.2126*e+.7152*t+.0722*r},genCSS:function(e,t){t.add(this.toCSS(e))},toCSS:function(e,t){var r=e&&e.compress&&!t,n,a,s,i=[];if(a=this.fround(e,this.alpha),this.value)if(this.value.indexOf("rgb")===0)a<1&&(s="rgba");else if(this.value.indexOf("hsl")===0)a<1?s="hsla":s="hsl";else return this.value;else a<1&&(s="rgba");switch(s){case"rgba":i=this.rgb.map(function(l){return te(Math.round(l),255)}).concat(te(a,1));break;case"hsla":i.push(te(a,1));case"hsl":n=this.toHSL(),i=[this.fround(e,n.h),"".concat(this.fround(e,n.s*100),"%"),"".concat(this.fround(e,n.l*100),"%")].concat(i)}if(s)return"".concat(s,"(").concat(i.join(",".concat(r?"":" ")),")");if(n=this.toRGB(),r){var c=n.split("");c[1]===c[2]&&c[3]===c[4]&&c[5]===c[6]&&(n="#".concat(c[1]).concat(c[3]).concat(c[5]))}return n},operate:function(e,t,r){for(var n=new Array(3),a=this.alpha*(1-r.alpha)+r.alpha,s=0;s<3;s++)n[s]=this._operate(e,t,this.rgb[s],r.rgb[s]);return new j(n,a)},toRGB:function(){return U(this.rgb)},toHSL:function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,r=this.rgb[2]/255,n=this.alpha,a=Math.max(e,t,r),s=Math.min(e,t,r),i,c,l=(a+s)/2,b=a-s;if(a===s)i=c=0;else{switch(c=l>.5?b/(2-a-s):b/(a+s),a){case e:i=(t-r)/b+(t<r?6:0);break;case t:i=(r-e)/b+2;break;case r:i=(e-t)/b+4;break}i/=6}return{h:i*360,s:c,l,a:n}},toHSV:function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,r=this.rgb[2]/255,n=this.alpha,a=Math.max(e,t,r),s=Math.min(e,t,r),i,c,l=a,b=a-s;if(a===0?c=0:c=b/a,a===s)i=0;else{switch(a){case e:i=(t-r)/b+(t<r?6:0);break;case t:i=(r-e)/b+2;break;case r:i=(e-t)/b+4;break}i/=6}return{h:i*360,s:c,v:l,a:n}},toARGB:function(){return U([this.alpha*255].concat(this.rgb))},compare:function(e){return e.rgb&&e.rgb[0]===this.rgb[0]&&e.rgb[1]===this.rgb[1]&&e.rgb[2]===this.rgb[2]&&e.alpha===this.alpha?0:void 0}}),j.fromKeyword=function(e){var t,r=e.toLowerCase();if(O.hasOwnProperty(r)?t=new j(O[r].slice(1)):r==="transparent"&&(t=new j([0,0,0],0)),t)return t.value=e,t};function te(e,t){return Math.min(Math.max(e,0),t)}function U(e){return"#".concat(e.map(function(t){return t=te(Math.round(t),255),(t<16?"0":"")+t.toString(16)}).join(""))}var W=function(){return W=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},W.apply(this,arguments)};function J(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;var x=function(e){this.value=e};x.prototype=Object.assign(new T,{type:"Paren",genCSS:function(e,t){t.add("("),this.value.genCSS(e,t),t.add(")")},eval:function(e){var t=new x(this.value.eval(e));return this.noSpacing&&(t.noSpacing=!0),t}});var P={"":!0," ":!0,"|":!0},L=function(e){e===" "?(this.value=" ",this.emptyOrWhitespace=!0):(this.value=e?e.trim():"",this.emptyOrWhitespace=this.value==="")};L.prototype=Object.assign(new T,{type:"Combinator",genCSS:function(e,t){var r=e.compress||P[this.value]?"":" ";t.add(r+this.value+r)}});var D=function(e,t,r,n,a,s){this.combinator=e instanceof L?e:new L(e),typeof t=="string"?this.value=t.trim():t?this.value=t:this.value="",this.isVariable=r,this._index=n,this._fileInfo=a,this.copyVisibilityInfo(s),this.setParent(this.combinator,this)};D.prototype=Object.assign(new T,{type:"Element",accept:function(e){var t=this.value;this.combinator=e.visit(this.combinator),typeof t=="object"&&(this.value=e.visit(t))},eval:function(e){return new D(this.combinator,this.value.eval?this.value.eval(e):this.value,this.isVariable,this.getIndex(),this.fileInfo(),this.visibilityInfo())},clone:function(){return new D(this.combinator,this.value,this.isVariable,this.getIndex(),this.fileInfo(),this.visibilityInfo())},genCSS:function(e,t){t.add(this.toCSS(e),this.fileInfo(),this.getIndex())},toCSS:function(e){e=e||{};var t=this.value,r=e.firstSelector;return t instanceof x&&(e.firstSelector=!0),t=t.toCSS?t.toCSS(e):t,e.firstSelector=r,t===""&&this.combinator.value.charAt(0)==="&"?"":this.combinator.toCSS(e)+t}});var F={ALWAYS:0,PARENS_DIVISION:1,PARENS:2},N={OFF:0,LOCAL:1,ALL:2};function z(e){return Object.prototype.toString.call(e).slice(8,-1)}function $(e){return z(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function Y(e){return z(e)==="Array"}function Z(e,t,r,n,a){const s={}.propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";s==="enumerable"&&(e[t]=r),a&&s==="nonenumerable"&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}function X(e,t={}){if(Y(e))return e.map(a=>X(a,t));if(!$(e))return e;const r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertySymbols(e);return[...r,...n].reduce((a,s)=>{if(Y(t.props)&&!t.props.includes(s))return a;const i=e[s],c=X(i,t);return Z(a,s,c,e,t.nonenumerable),a},{})}function re(e,t){for(var r=e+1,n=null,a=-1;--r>=0&&t.charAt(r)!==`
`;)a++;return typeof e=="number"&&(n=(t.slice(0,e).match(/\n/g)||"").length),{line:n,column:a}}function ee(e){var t,r=e.length,n=new Array(r);for(t=0;t<r;t++)n[t]=e[t];return n}function ke(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function Ve(e,t){var r=t||{};if(!t._defaults){r={};var n=X(e);r._defaults=n;var a=t?X(t):{};Object.assign(r,n,a)}return r}function Ne(e,t){if(t&&t._defaults)return t;var r=Ve(e,t);if(r.strictMath&&(r.math=F.PARENS),r.relativeUrls&&(r.rewriteUrls=N.ALL),typeof r.math=="string")switch(r.math.toLowerCase()){case"always":r.math=F.ALWAYS;break;case"parens-division":r.math=F.PARENS_DIVISION;break;case"strict":case"parens":r.math=F.PARENS;break;default:r.math=F.PARENS}if(typeof r.rewriteUrls=="string")switch(r.rewriteUrls.toLowerCase()){case"off":r.rewriteUrls=N.OFF;break;case"local":r.rewriteUrls=N.LOCAL;break;case"all":r.rewriteUrls=N.ALL;break}return r}function pe(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Se(e,t){t===void 0&&(t=[]);for(var r=0,n=e.length;r<n;r++){var a=e[r];Array.isArray(a)?Se(a,t):a!==void 0&&t.push(a)}return t}function Me(e){return e==null}var _e=Object.freeze({__proto__:null,getLocation:re,copyArray:ee,clone:ke,defaults:Ve,copyOptions:Ne,merge:pe,flattenArray:Se,isNullOrUndefined:Me}),ye=/(<anonymous>|Function):(\d+):(\d+)/,le=function(e,t,r){Error.call(this);var n=e.filename||r;if(this.message=e.message,this.stack=e.stack,this.type=e.type||"Syntax",t&&n){var a=t.contents[n],s=re(e.index,a),i=s.line,c=s.column,l=e.call&&re(e.call,a).line,b=a?a.split(`
`):"";if(this.filename=n,this.index=e.index,this.line=typeof i=="number"?i+1:null,this.column=c,!this.line&&this.stack){var E=this.stack.match(ye),k=new Function("a","throw new Error()"),M=0;try{k()}catch(f){var o=f.stack.match(ye);M=1-parseInt(o[2])}E&&(E[2]&&(this.line=parseInt(E[2])+M),E[3]&&(this.column=parseInt(E[3])))}this.callLine=l+1,this.callExtract=b[l],this.extract=[b[this.line-2],b[this.line-1],b[this.line]]}};if(typeof Object.create>"u"){var Le=function(){};Le.prototype=Error.prototype,le.prototype=new Le}else le.prototype=Object.create(Error.prototype);le.prototype.constructor=le,le.prototype.toString=function(e){var t;e=e||{};var r=((t=this.type)!==null&&t!==void 0?t:"").toLowerCase().includes("warning"),n=r?this.type:"".concat(this.type,"Error"),a=r?"yellow":"red",s="",i=this.extract||[],c=[],l=function(k){return k};if(e.stylize){var b=typeof e.stylize;if(b!=="function")throw Error("options.stylize should be a function, got a ".concat(b,"!"));l=e.stylize}if(this.line!==null){if(!r&&typeof i[0]=="string"&&c.push(l("".concat(this.line-1," ").concat(i[0]),"grey")),typeof i[1]=="string"){var E="".concat(this.line," ");i[1]&&(E+=i[1].slice(0,this.column)+l(l(l(i[1].substr(this.column,1),"bold")+i[1].slice(this.column+1),"red"),"inverse")),c.push(E)}!r&&typeof i[2]=="string"&&c.push(l("".concat(this.line+1," ").concat(i[2]),"grey")),c="".concat(c.join(`
`)+l("","reset"),`
`)}return s+=l("".concat(n,": ").concat(this.message),a),this.filename&&(s+=l(" in ",a)+this.filename),this.line&&(s+=l(" on line ".concat(this.line,", column ").concat(this.column+1,":"),"grey")),s+=`
`.concat(c),this.callLine&&(s+="".concat(l("from ",a)+(this.filename||""),"/n"),s+="".concat(l(this.callLine,"grey")," ").concat(this.callExtract,"/n")),s};var De={visitDeeper:!0},Ue=!1;function me(e){return e}function Ce(e,t){var r,n;for(r in e)switch(n=e[r],typeof n){case"function":n.prototype&&n.prototype.type&&(n.prototype.typeIndex=t++);break;case"object":t=Ce(n,t);break}return t}var we=(function(){function e(t){this._implementation=t,this._visitInCache={},this._visitOutCache={},Ue||(Ce(_,1),Ue=!0)}return e.prototype.visit=function(t){if(!t)return t;var r=t.typeIndex;if(!r)return t.value&&t.value.typeIndex&&this.visit(t.value),t;var n=this._implementation,a=this._visitInCache[r],s=this._visitOutCache[r],i=De,c;if(i.visitDeeper=!0,a||(c="visit".concat(t.type),a=n[c]||me,s=n["".concat(c,"Out")]||me,this._visitInCache[r]=a,this._visitOutCache[r]=s),a!==me){var l=a.call(n,t,i);t&&n.isReplacing&&(t=l)}if(i.visitDeeper&&t)if(t.length)for(var b=0,E=t.length;b<E;b++)t[b].accept&&t[b].accept(this);else t.accept&&t.accept(this);return s!=me&&s.call(n,t),t},e.prototype.visitArray=function(t,r){if(!t)return t;var n=t.length,a;if(r||!this._implementation.isReplacing){for(a=0;a<n;a++)this.visit(t[a]);return t}var s=[];for(a=0;a<n;a++){var i=this.visit(t[a]);i!==void 0&&(i.splice?i.length&&this.flatten(i,s):s.push(i))}return s},e.prototype.flatten=function(t,r){r||(r=[]);var n,a,s,i,c,l;for(a=0,n=t.length;a<n;a++)if(s=t[a],s!==void 0){if(!s.splice){r.push(s);continue}for(c=0,i=s.length;c<i;c++)l=s[c],l!==void 0&&(l.splice?l.length&&this.flatten(l,r):r.push(l))}return r},e})(),ue={},Ye=function(t,r,n){if(t)for(var a=0;a<n.length;a++)Object.prototype.hasOwnProperty.call(t,n[a])&&(r[n[a]]=t[n[a]])},_t=["paths","rewriteUrls","rootpath","strictImports","insecure","dumpLineNumbers","compress","syncImport","mime","useFileCache","processImports","pluginManager","quiet"];ue.Parse=function(e){Ye(e,this,_t),typeof this.paths=="string"&&(this.paths=[this.paths])};var vt=["paths","compress","math","strictUnits","sourceMap","importMultiple","urlArgs","javascriptEnabled","pluginManager","importantScope","rewriteUrls"];ue.Eval=function(e,t){Ye(e,this,vt),typeof this.paths=="string"&&(this.paths=[this.paths]),this.frames=t||[],this.importantScope=this.importantScope||[]},ue.Eval.prototype.enterCalc=function(){this.calcStack||(this.calcStack=[]),this.calcStack.push(!0),this.inCalc=!0},ue.Eval.prototype.exitCalc=function(){this.calcStack.pop(),this.calcStack.length||(this.inCalc=!1)},ue.Eval.prototype.inParenthesis=function(){this.parensStack||(this.parensStack=[]),this.parensStack.push(!0)},ue.Eval.prototype.outOfParenthesis=function(){this.parensStack.pop()},ue.Eval.prototype.inCalc=!1,ue.Eval.prototype.mathOn=!0,ue.Eval.prototype.isMathOn=function(e){return!this.mathOn||e==="/"&&this.math!==F.ALWAYS&&(!this.parensStack||!this.parensStack.length)?!1:this.math>F.PARENS_DIVISION?this.parensStack&&this.parensStack.length:!0},ue.Eval.prototype.pathRequiresRewrite=function(e){var t=this.rewriteUrls===N.LOCAL?Dt:Br;return t(e)},ue.Eval.prototype.rewritePath=function(e,t){var r;return t=t||"",r=this.normalizePath(t+e),Dt(e)&&Br(t)&&Dt(r)===!1&&(r="./".concat(r)),r},ue.Eval.prototype.normalizePath=function(e){var t=e.split("/").reverse(),r;for(e=[];t.length!==0;)switch(r=t.pop(),r){case".":break;case"..":e.length===0||e[e.length-1]===".."?e.push(r):e.pop();break;default:e.push(r);break}return e.join("/")};function Br(e){return!/^(?:[a-z-]+:|\/|#)/i.test(e)}function Dt(e){return e.charAt(0)==="."}var Zn=(function(){function e(t){this.imports=[],this.variableImports=[],this._onSequencerEmpty=t,this._currentDepth=0}return e.prototype.addImport=function(t){var r=this,n={callback:t,args:null,isReady:!1};return this.imports.push(n),function(){n.args=Array.prototype.slice.call(arguments,0),n.isReady=!0,r.tryRun()}},e.prototype.addVariableImport=function(t){this.variableImports.push(t)},e.prototype.tryRun=function(){this._currentDepth++;try{for(;;){for(;this.imports.length>0;){var t=this.imports[0];if(!t.isReady)return;this.imports=this.imports.slice(1),t.callback.apply(null,t.args)}if(this.variableImports.length===0)break;var r=this.variableImports[0];this.variableImports=this.variableImports.slice(1),r()}}finally{this._currentDepth--}this._currentDepth===0&&this._onSequencerEmpty&&this._onSequencerEmpty()},e})(),Or=function(e,t){this._visitor=new we(this),this._importer=e,this._finish=t,this.context=new ue.Eval,this.importCount=0,this.onceFileDetectionMap={},this.recursionDetector={},this._sequencer=new Zn(this._onSequencerEmpty.bind(this))};Or.prototype={isReplacing:!1,run:function(e){try{this._visitor.visit(e)}catch(t){this.error=t}this.isFinished=!0,this._sequencer.tryRun()},_onSequencerEmpty:function(){this.isFinished&&this._finish(this.error)},visitImport:function(e,t){var r=e.options.inline;if(!e.css||r){var n=new ue.Eval(this.context,ee(this.context.frames)),a=n.frames[0];this.importCount++,e.isVariableImport()?this._sequencer.addVariableImport(this.processImportNode.bind(this,e,n,a)):this.processImportNode(e,n,a)}t.visitDeeper=!1},processImportNode:function(e,t,r){var n,a=e.options.inline;try{n=e.evalForImport(t)}catch(b){b.filename||(b.index=e.getIndex(),b.filename=e.fileInfo().filename),e.css=!0,e.error=b}if(n&&(!n.css||a)){n.options.multiple&&(t.importMultiple=!0);for(var s=n.css===void 0,i=0;i<r.rules.length;i++)if(r.rules[i]===e){r.rules[i]=n;break}var c=this.onImported.bind(this,n,t),l=this._sequencer.addImport(c);this._importer.push(n.getPath(),s,n.fileInfo(),n.options,l)}else this.importCount--,this.isFinished&&this._sequencer.tryRun()},onImported:function(e,t,r,n,a,s){r&&(r.filename||(r.index=e.getIndex(),r.filename=e.fileInfo().filename),this.error=r);var i=this,c=e.options.inline,l=e.options.isPlugin,b=e.options.optional,E=a||s in i.recursionDetector;if(t.importMultiple||(E?e.skip=!0:e.skip=function(){return s in i.onceFileDetectionMap?!0:(i.onceFileDetectionMap[s]=!0,!1)}),!s&&b&&(e.skip=!0),n&&(e.root=n,e.importedFilename=s,!c&&!l&&(t.importMultiple||!E))){i.recursionDetector[s]=!0;var k=this.context;this.context=t;try{this._visitor.visit(n)}catch(M){this.error=M}this.context=k}i.importCount--,i.isFinished&&i._sequencer.tryRun()},visitDeclaration:function(e,t){e.value.type==="DetachedRuleset"?this.context.frames.unshift(e):t.visitDeeper=!1},visitDeclarationOut:function(e){e.value.type==="DetachedRuleset"&&this.context.frames.shift()},visitAtRule:function(e,t){e.value?this.context.frames.unshift(e):e.declarations&&e.declarations.length?e.isRooted?this.context.frames.unshift(e):this.context.frames.unshift(e.declarations[0]):e.rules&&e.rules.length&&this.context.frames.unshift(e)},visitAtRuleOut:function(e){this.context.frames.shift()},visitMixinDefinition:function(e,t){this.context.frames.unshift(e)},visitMixinDefinitionOut:function(e){this.context.frames.shift()},visitRuleset:function(e,t){this.context.frames.unshift(e)},visitRulesetOut:function(e){this.context.frames.shift()},visitMedia:function(e,t){this.context.frames.unshift(e.rules[0])},visitMediaOut:function(e){this.context.frames.shift()}};var Xn=(function(){function e(t){this.visible=t}return e.prototype.run=function(t){this.visit(t)},e.prototype.visitArray=function(t){if(!t)return t;var r=t.length,n;for(n=0;n<r;n++)this.visit(t[n]);return t},e.prototype.visit=function(t){return t&&(t.constructor===Array?this.visitArray(t):(!t.blocksVisibility||t.blocksVisibility()||(this.visible?t.ensureVisibility():t.ensureInvisibility(),t.accept(this)),t))},e})(),ei=(function(){function e(){this._visitor=new we(this),this.contexts=[],this.allExtendsStack=[[]]}return e.prototype.run=function(t){return t=this._visitor.visit(t),t.allExtends=this.allExtendsStack[0],t},e.prototype.visitDeclaration=function(t,r){r.visitDeeper=!1},e.prototype.visitMixinDefinition=function(t,r){r.visitDeeper=!1},e.prototype.visitRuleset=function(t,r){if(!t.root){var n,a,s,i=[],c,l=t.rules,b=l?l.length:0;for(n=0;n<b;n++)t.rules[n]instanceof _.Extend&&(i.push(l[n]),t.extendOnEveryPath=!0);var E=t.paths;for(n=0;n<E.length;n++){var k=E[n],M=k[k.length-1],o=M.extendList;for(c=o?ee(o).concat(i):i,c&&(c=c.map(function(f){return f.clone()})),a=0;a<c.length;a++)this.foundExtends=!0,s=c[a],s.findSelfSelectors(k),s.ruleset=t,a===0&&(s.firstExtendOnThisSelectorPath=!0),this.allExtendsStack[this.allExtendsStack.length-1].push(s)}this.contexts.push(t.selectors)}},e.prototype.visitRulesetOut=function(t){t.root||(this.contexts.length=this.contexts.length-1)},e.prototype.visitMedia=function(t,r){t.allExtends=[],this.allExtendsStack.push(t.allExtends)},e.prototype.visitMediaOut=function(t){this.allExtendsStack.length=this.allExtendsStack.length-1},e.prototype.visitAtRule=function(t,r){t.allExtends=[],this.allExtendsStack.push(t.allExtends)},e.prototype.visitAtRuleOut=function(t){this.allExtendsStack.length=this.allExtendsStack.length-1},e})(),ti=(function(){function e(){this._visitor=new we(this)}return e.prototype.run=function(t){var r=new ei;if(this.extendIndices={},r.run(t),!r.foundExtends)return t;t.allExtends=t.allExtends.concat(this.doExtendChaining(t.allExtends,t.allExtends)),this.allExtendsStack=[t.allExtends];var n=this._visitor.visit(t);return this.checkExtendsForNonMatched(t.allExtends),n},e.prototype.checkExtendsForNonMatched=function(t){var r=this.extendIndices;t.filter(function(n){return!n.hasFoundMatches&&n.parent_ids.length==1}).forEach(function(n){var a="_unknown_";try{a=n.selector.toCSS({})}catch{}r["".concat(n.index," ").concat(a)]||(r["".concat(n.index," ").concat(a)]=!0,S.warn("WARNING: extend '".concat(a,"' has no matches")))})},e.prototype.doExtendChaining=function(t,r,n){var a,s,i,c=[],l,b=this,E,k,M,o;for(n=n||0,a=0;a<t.length;a++)for(s=0;s<r.length;s++)k=t[a],M=r[s],!(k.parent_ids.indexOf(M.object_id)>=0)&&(E=[M.selfSelectors[0]],i=b.findMatch(k,E),i.length&&(k.hasFoundMatches=!0,k.selfSelectors.forEach(function(y){var w=M.visibilityInfo();l=b.extendSelector(i,E,y,k.isVisible()),o=new _.Extend(M.selector,M.option,0,M.fileInfo(),w),o.selfSelectors=l,l[l.length-1].extendList=[o],c.push(o),o.ruleset=M.ruleset,o.parent_ids=o.parent_ids.concat(M.parent_ids,k.parent_ids),M.firstExtendOnThisSelectorPath&&(o.firstExtendOnThisSelectorPath=!0,M.ruleset.paths.push(l))})));if(c.length){if(this.extendChainCount++,n>100){var f="{unable to calculate}",g="{unable to calculate}";try{f=c[0].selfSelectors[0].toCSS(),g=c[0].selector.toCSS()}catch{}throw{message:"extend circular reference detected. One of the circular extends is currently:".concat(f,":extend(").concat(g,")")}}return c.concat(b.doExtendChaining(c,r,n+1))}else return c},e.prototype.visitDeclaration=function(t,r){r.visitDeeper=!1},e.prototype.visitMixinDefinition=function(t,r){r.visitDeeper=!1},e.prototype.visitSelector=function(t,r){r.visitDeeper=!1},e.prototype.visitRuleset=function(t,r){if(!t.root){var n,a,s,i=this.allExtendsStack[this.allExtendsStack.length-1],c=[],l=this,b;for(s=0;s<i.length;s++)for(a=0;a<t.paths.length;a++)if(b=t.paths[a],!t.extendOnEveryPath){var E=b[b.length-1].extendList;E&&E.length||(n=this.findMatch(i[s],b),n.length&&(i[s].hasFoundMatches=!0,i[s].selfSelectors.forEach(function(k){var M;M=l.extendSelector(n,b,k,i[s].isVisible()),c.push(M)})))}t.paths=t.paths.concat(c)}},e.prototype.findMatch=function(t,r){var n,a,s,i,c,l,b=this,E=t.selector.elements,k=[],M,o=[];for(n=0;n<r.length;n++)for(a=r[n],s=0;s<a.elements.length;s++)for(i=a.elements[s],(t.allowBefore||n===0&&s===0)&&k.push({pathIndex:n,index:s,matched:0,initialCombinator:i.combinator}),l=0;l<k.length;l++)M=k[l],c=i.combinator.value,c===""&&s===0&&(c=" "),!b.isElementValuesEqual(E[M.matched].value,i.value)||M.matched>0&&E[M.matched].combinator.value!==c?M=null:M.matched++,M&&(M.finished=M.matched===E.length,M.finished&&!t.allowAfter&&(s+1<a.elements.length||n+1<r.length)&&(M=null)),M?M.finished&&(M.length=E.length,M.endPathIndex=n,M.endPathElementIndex=s+1,k.length=0,o.push(M)):(k.splice(l,1),l--);return o},e.prototype.isElementValuesEqual=function(t,r){if(typeof t=="string"||typeof r=="string")return t===r;if(t instanceof _.Attribute)return t.op!==r.op||t.key!==r.key?!1:!t.value||!r.value?!(t.value||r.value):(t=t.value.value||t.value,r=r.value.value||r.value,t===r);if(t=t.value,r=r.value,t instanceof _.Selector){if(!(r instanceof _.Selector)||t.elements.length!==r.elements.length)return!1;for(var n=0;n<t.elements.length;n++)if(t.elements[n].combinator.value!==r.elements[n].combinator.value&&(n!==0||(t.elements[n].combinator.value||" ")!==(r.elements[n].combinator.value||" "))||!this.isElementValuesEqual(t.elements[n].value,r.elements[n].value))return!1;return!0}return!1},e.prototype.extendSelector=function(t,r,n,a){var s=0,i=0,c=[],l,b,E,k,M;for(l=0;l<t.length;l++)k=t[l],b=r[k.pathIndex],E=new _.Element(k.initialCombinator,n.elements[0].value,n.elements[0].isVariable,n.elements[0].getIndex(),n.elements[0].fileInfo()),k.pathIndex>s&&i>0&&(c[c.length-1].elements=c[c.length-1].elements.concat(r[s].elements.slice(i)),i=0,s++),M=b.elements.slice(i,k.index).concat([E]).concat(n.elements.slice(1)),s===k.pathIndex&&l>0?c[c.length-1].elements=c[c.length-1].elements.concat(M):(c=c.concat(r.slice(s,k.pathIndex)),c.push(new _.Selector(M))),s=k.endPathIndex,i=k.endPathElementIndex,i>=r[s].elements.length&&(i=0,s++);return s<r.length&&i>0&&(c[c.length-1].elements=c[c.length-1].elements.concat(r[s].elements.slice(i)),s++),c=c.concat(r.slice(s,r.length)),c=c.map(function(o){var f=o.createDerived(o.elements);return a?f.ensureVisibility():f.ensureInvisibility(),f}),c},e.prototype.visitMedia=function(t,r){var n=t.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);n=n.concat(this.doExtendChaining(n,t.allExtends)),this.allExtendsStack.push(n)},e.prototype.visitMediaOut=function(t){var r=this.allExtendsStack.length-1;this.allExtendsStack.length=r},e.prototype.visitAtRule=function(t,r){var n=t.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);n=n.concat(this.doExtendChaining(n,t.allExtends)),this.allExtendsStack.push(n)},e.prototype.visitAtRuleOut=function(t){var r=this.allExtendsStack.length-1;this.allExtendsStack.length=r},e})(),ri=(function(){function e(){this.contexts=[[]],this._visitor=new we(this)}return e.prototype.run=function(t){return this._visitor.visit(t)},e.prototype.visitDeclaration=function(t,r){r.visitDeeper=!1},e.prototype.visitMixinDefinition=function(t,r){r.visitDeeper=!1},e.prototype.visitRuleset=function(t,r){var n=this.contexts[this.contexts.length-1],a=[],s;this.contexts.push(a),t.root||(s=t.selectors,s&&(s=s.filter(function(i){return i.getIsOutput()}),t.selectors=s.length?s:s=null,s&&t.joinSelectors(a,n,s)),s||(t.rules=null),t.paths=a)},e.prototype.visitRulesetOut=function(t){this.contexts.length=this.contexts.length-1},e.prototype.visitMedia=function(t,r){var n=this.contexts[this.contexts.length-1];t.rules[0].root=n.length===0||n[0].multiMedia},e.prototype.visitAtRule=function(t,r){var n=this.contexts[this.contexts.length-1];t.declarations&&t.declarations.length?t.declarations[0].root=n.length===0||n[0].multiMedia:t.rules&&t.rules.length&&(t.rules[0].root=t.isRooted||n.length===0||null)},e})(),ni=(function(){function e(t){this._visitor=new we(this),this._context=t}return e.prototype.containsSilentNonBlockedChild=function(t){var r;if(!t)return!1;for(var n=0;n<t.length;n++)if(r=t[n],r.isSilent&&r.isSilent(this._context)&&!r.blocksVisibility())return!0;return!1},e.prototype.keepOnlyVisibleChilds=function(t){t&&t.rules&&(t.rules=t.rules.filter(function(r){return r.isVisible()}))},e.prototype.isEmpty=function(t){return t&&t.rules?t.rules.length===0:!0},e.prototype.hasVisibleSelector=function(t){return t&&t.paths?t.paths.length>0:!1},e.prototype.resolveVisibility=function(t){if(!t.blocksVisibility())return this.isEmpty(t)?void 0:t;var r=t.rules[0];if(this.keepOnlyVisibleChilds(r),!this.isEmpty(r))return t.ensureVisibility(),t.removeVisibilityBlock(),t},e.prototype.isVisibleRuleset=function(t){return t.firstRoot?!0:!(this.isEmpty(t)||!t.root&&!this.hasVisibleSelector(t))},e})(),Tr=function(e){this._visitor=new we(this),this._context=e,this.utils=new ni(e)};Tr.prototype={isReplacing:!0,run:function(e){return this._visitor.visit(e)},visitDeclaration:function(e,t){if(!(e.blocksVisibility()||e.variable))return e},visitMixinDefinition:function(e,t){e.frames=[]},visitExtend:function(e,t){},visitComment:function(e,t){if(!(e.blocksVisibility()||e.isSilent(this._context)))return e},visitMedia:function(e,t){var r=e.rules[0].rules;return e.accept(this._visitor),t.visitDeeper=!1,this.utils.resolveVisibility(e,r)},visitImport:function(e,t){if(!e.blocksVisibility())return e},visitAtRule:function(e,t){return e.rules&&e.rules.length?this.visitAtRuleWithBody(e,t):this.visitAtRuleWithoutBody(e,t)},visitAnonymous:function(e,t){if(!e.blocksVisibility())return e.accept(this._visitor),e},visitAtRuleWithBody:function(e,t){function r(s){var i=s.rules;return i.length===1&&(!i[0].paths||i[0].paths.length===0)}function n(s){var i=s.rules;return r(s)?i[0].rules:i}var a=n(e);return e.accept(this._visitor),t.visitDeeper=!1,this.utils.isEmpty(e)||this._mergeRules(e.rules[0].rules),this.utils.resolveVisibility(e,a)},visitAtRuleWithoutBody:function(e,t){if(!e.blocksVisibility()){if(e.name==="@charset"){if(this.charset){if(e.debugInfo){var r=new _.Comment("/* ".concat(e.toCSS(this._context).replace(/\n/g,""),` */
`));return r.debugInfo=e.debugInfo,this._visitor.visit(r)}return}this.charset=!0}return e}},checkValidNodes:function(e,t){if(e)for(var r=0;r<e.length;r++){var n=e[r];if(t&&n instanceof _.Declaration&&!n.variable)throw{message:"Properties must be inside selector blocks. They cannot be in the root",index:n.getIndex(),filename:n.fileInfo()&&n.fileInfo().filename};if(n instanceof _.Call)throw{message:"Function '".concat(n.name,"' did not return a root node"),index:n.getIndex(),filename:n.fileInfo()&&n.fileInfo().filename};if(n.type&&!n.allowRoot)throw{message:"".concat(n.type," node returned by a function is not valid here"),index:n.getIndex(),filename:n.fileInfo()&&n.fileInfo().filename}}},visitRuleset:function(e,t){var r,n=[];if(this.checkValidNodes(e.rules,e.firstRoot),e.root)e.accept(this._visitor),t.visitDeeper=!1;else{this._compileRulesetPaths(e);for(var a=e.rules,s=a?a.length:0,i=0;i<s;){if(r=a[i],r&&r.rules){n.push(this._visitor.visit(r)),a.splice(i,1),s--;continue}i++}s>0?e.accept(this._visitor):e.rules=null,t.visitDeeper=!1}return e.rules&&(this._mergeRules(e.rules),this._removeDuplicateRules(e.rules)),this.utils.isVisibleRuleset(e)&&(e.ensureVisibility(),n.splice(0,0,e)),n.length===1?n[0]:n},_compileRulesetPaths:function(e){e.paths&&(e.paths=e.paths.filter(function(t){var r;for(t[0].elements[0].combinator.value===" "&&(t[0].elements[0].combinator=new _.Combinator("")),r=0;r<t.length;r++)if(t[r].isVisible()&&t[r].getIsOutput())return!0;return!1}))},_removeDuplicateRules:function(e){if(e){var t={},r,n,a;for(a=e.length-1;a>=0;a--)if(n=e[a],n instanceof _.Declaration)if(!t[n.name])t[n.name]=n;else{r=t[n.name],r instanceof _.Declaration&&(r=t[n.name]=[t[n.name].toCSS(this._context)]);var s=n.toCSS(this._context);r.indexOf(s)!==-1?e.splice(a,1):r.push(s)}}},_mergeRules:function(e){if(e){for(var t={},r=[],n=0;n<e.length;n++){var a=e[n];if(a.merge){var s=a.name;t[s]?e.splice(n--,1):r.push(t[s]=[]),t[s].push(a)}}r.forEach(function(i){if(i.length>0){var c=i[0],l=[],b=[new _.Expression(l)];i.forEach(function(E){E.merge==="+"&&l.length>0&&b.push(new _.Expression(l=[])),l.push(E.value),c.important=c.important||E.important}),c.value=new _.Value(b)}})}}};var it={Visitor:we,ImportVisitor:Or,MarkVisibleSelectorsVisitor:Xn,ExtendVisitor:ti,JoinSelectorVisitor:ri,ToCSSVisitor:Tr},ii=(function(){var e,t,r=[],n,a,s,i,c,l={},b=32,E=9,k=10,M=13,o=43,f=44,g=47,y=57;function w(R){for(var I=l.i,B=t,q=l.i-c,G=l.i+i.length-q,Q=l.i+=R,K=e,ie,oe,ne;l.i<G;l.i++){if(ie=K.charCodeAt(l.i),l.autoCommentAbsorb&&ie===g){if(oe=K.charAt(l.i+1),oe==="/"){ne={index:l.i,isLineComment:!0};var se=K.indexOf(`
`,l.i+2);se<0&&(se=G),l.i=se,ne.text=K.substr(ne.index,l.i-ne.index),l.commentStore.push(ne);continue}else if(oe==="*"){var ce=K.indexOf("*/",l.i+2);if(ce>=0){ne={index:l.i,text:K.substr(l.i,ce+2-l.i),isLineComment:!1},l.i+=ne.text.length-1,l.commentStore.push(ne);continue}}break}if(ie!==b&&ie!==k&&ie!==E&&ie!==M)break}if(i=i.slice(R+l.i-Q+q),c=l.i,!i.length){if(t<s.length-1)return i=s[++t],w(0),!0;l.finished=!0}return I!==l.i||B!==t}return l.save=function(){c=l.i,r.push({current:i,i:l.i,j:t})},l.restore=function(R){(l.i>n||l.i===n&&R&&!a)&&(n=l.i,a=R);var I=r.pop();i=I.current,c=l.i=I.i,t=I.j},l.forget=function(){r.pop()},l.isWhitespace=function(R){var I=l.i+(R||0),B=e.charCodeAt(I);return B===b||B===M||B===E||B===k},l.$re=function(R){l.i>c&&(i=i.slice(l.i-c),c=l.i);var I=R.exec(i);return I?(w(I[0].length),typeof I=="string"?I:I.length===1?I[0]:I):null},l.$char=function(R){return e.charAt(l.i)!==R?null:(w(1),R)},l.$peekChar=function(R){return e.charAt(l.i)!==R?null:R},l.$str=function(R){for(var I=R.length,B=0;B<I;B++)if(e.charAt(l.i+B)!==R.charAt(B))return null;return w(I),R},l.$quoted=function(R){var I=R||l.i,B=e.charAt(I);if(!(B!=="'"&&B!=='"')){for(var q=e.length,G=I,Q=1;Q+G<q;Q++){var K=e.charAt(Q+G);switch(K){case"\\":Q++;continue;case"\r":case`
`:break;case B:{var ie=e.substr(G,Q+1);return!R&&R!==0?(w(Q+1),ie):[B,ie]}}}return null}},l.$parseUntil=function(R){var I="",B=null,q=!1,G=0,Q=[],K=[],ie=e.length,oe=l.i,ne=l.i,se=l.i,ce=!0,Ee;typeof R=="string"?Ee=function(Ct){return Ct===R}:Ee=function(Ct){return R.test(Ct)};do{var Be=e.charAt(se);if(G===0&&Ee(Be))B=e.substr(ne,se-ne),B?K.push(B):K.push(" "),B=K,w(se-oe),ce=!1;else{if(q){Be==="*"&&e.charAt(se+1)==="/"&&(se++,G--,q=!1),se++;continue}switch(Be){case"\\":se++,Be=e.charAt(se),K.push(e.substr(ne,se-ne+1)),ne=se+1;break;case"/":e.charAt(se+1)==="*"&&(se++,q=!0,G++);break;case"'":case'"':I=l.$quoted(se),I?(K.push(e.substr(ne,se-ne),I),se+=I[1].length-1,ne=se+1):(w(se-oe),B=Be,ce=!1);break;case"{":Q.push("}"),G++;break;case"(":Q.push(")"),G++;break;case"[":Q.push("]"),G++;break;case"}":case")":case"]":{var St=Q.pop();Be===St?G--:(w(se-oe),B=St,ce=!1)}}se++,se>ie&&(ce=!1)}}while(ce);return B||null},l.autoCommentAbsorb=!0,l.commentStore=[],l.finished=!1,l.peek=function(R){if(typeof R=="string"){for(var I=0;I<R.length;I++)if(e.charAt(l.i+I)!==R.charAt(I))return!1;return!0}else return R.test(i)},l.peekChar=function(R){return e.charAt(l.i)===R},l.currentChar=function(){return e.charAt(l.i)},l.prevChar=function(){return e.charAt(l.i-1)},l.getInput=function(){return e},l.peekNotNumeric=function(){var R=e.charCodeAt(l.i);return R>y||R<o||R===g||R===f},l.start=function(R){e=R,l.i=t=c=n=0,s=[R],i=s[0],w(0)},l.end=function(){var R,I=l.i>=e.length;return l.i<n&&(R=a,l.i=n),{isFinished:I,furthest:l.i,furthestPossibleErrorMessage:R,furthestReachedEnd:l.i>=e.length-1,furthestChar:e[l.i]}},l});function $t(e){return{_data:{},add:function(t,r){t=t.toLowerCase(),this._data.hasOwnProperty(t),this._data[t]=r},addMultiple:function(t){var r=this;Object.keys(t).forEach(function(n){r.add(n,t[n])})},get:function(t){return this._data[t]||e&&e.get(t)},getLocalFunctions:function(){return this._data},inherit:function(){return $t(this)},create:function(t){return $t(t)}}}var be=$t(null),ai={queryInParens:!0},si={queryInParens:!0},fe=function(e,t,r,n,a,s){this.value=e,this._index=t,this._fileInfo=r,this.mapLines=n,this.rulesetLike=typeof a>"u"?!1:a,this.allowRoot=!0,this.copyVisibilityInfo(s)};fe.prototype=Object.assign(new T,{type:"Anonymous",eval:function(){return new fe(this.value,this._index,this._fileInfo,this.mapLines,this.rulesetLike,this.visibilityInfo())},compare:function(e){return e.toCSS&&this.toCSS()===e.toCSS()?0:void 0},isRulesetLike:function(){return this.rulesetLike},genCSS:function(e,t){this.nodeVisible=!!this.value,this.nodeVisible&&t.add(this.value,this._fileInfo,this._index,this.mapLines)}});var Ze=function e(t,r,n,a){a=a||0;var s,i=ii();function c(o,f){throw new le({index:i.i,filename:n.filename,type:f||"Syntax",message:o},r)}function l(o,f,g){t.quiet||S.warn(new le({index:f??i.i,filename:n.filename,type:g?"".concat(g.toUpperCase()," WARNING"):"WARNING",message:o},r).toString())}function b(o,f){var g=o instanceof Function?o.call(s):i.$re(o);if(g)return g;c(f||(typeof o=="string"?"expected '".concat(o,"' got '").concat(i.currentChar(),"'"):"unexpected token"))}function E(o,f){if(i.$char(o))return o;c("expected '".concat(o,"' got '").concat(i.currentChar(),"'"))}function k(o){var f=n.filename;return{lineNumber:re(o,i.getInput()).line+1,fileName:f}}function M(o,f,g){var y,w=[],R=i;try{R.start(o);for(var I=0,B=void 0;B=f[I];I++)y=s[B](),w.push(y||null);var q=R.end();q.isFinished?g(null,w):g(!0,null)}catch(G){throw new le({index:G.index+a,message:G.message},r,n.filename)}}return{parserInput:i,imports:r,fileInfo:n,parseNode:M,parse:function(o,f,g){var y,w=null,R,I,B,q="";if(g&&g.disablePluginRule&&(s.plugin=function(){var ne=i.$re(/^@plugin?\s+/);ne&&c("@plugin statements are not allowed when disablePluginRule is set to true")}),R=g&&g.globalVars?"".concat(e.serializeVars(g.globalVars),`
`):"",I=g&&g.modifyVars?`
`.concat(e.serializeVars(g.modifyVars)):"",t.pluginManager)for(var G=t.pluginManager.getPreProcessors(),Q=0;Q<G.length;Q++)o=G[Q].process(o,{context:t,imports:r,fileInfo:n});(R||g&&g.banner)&&(q=(g&&g.banner?g.banner:"")+R,B=r.contentsIgnoredChars,B[n.filename]=B[n.filename]||0,B[n.filename]+=q.length),o=o.replace(/\r\n?/g,`
`),o=q+o.replace(/^\uFEFF/,"")+I,r.contents[n.filename]=o;try{i.start(o),_.Node.prototype.parse=this,y=new _.Ruleset(null,this.parsers.primary()),_.Node.prototype.rootNode=y,y.root=!0,y.firstRoot=!0,y.functionRegistry=be.inherit()}catch(ne){return f(new le(ne,r,n.filename))}var K=i.end();if(!K.isFinished){var ie=K.furthestPossibleErrorMessage;ie||(ie="Unrecognised input",K.furthestChar==="}"?ie+=". Possibly missing opening '{'":K.furthestChar===")"?ie+=". Possibly missing opening '('":K.furthestReachedEnd&&(ie+=". Possibly missing something")),w=new le({type:"Parse",message:ie,index:K.furthest,filename:n.filename},r)}var oe=function(ne){return ne=w||ne||r.error,ne?(ne instanceof le||(ne=new le(ne,r,n.filename)),f(ne)):f(null,y)};if(t.processImports!==!1)new it.ImportVisitor(r,oe).run(y);else return oe()},parsers:s={primary:function(){for(var o=this.mixin,f=[],g;;){for(;g=this.comment(),!!g;)f.push(g);if(i.finished||i.peek("}"))break;if(g=this.extendRule(),g){f=f.concat(g);continue}if(g=o.definition()||this.declaration()||o.call(!1,!1)||this.ruleset()||this.variableCall()||this.entities.call()||this.atrule(),g)f.push(g);else{for(var y=!1;i.$char(";");)y=!0;if(!y)break}}return f},comment:function(){if(i.commentStore.length){var o=i.commentStore.shift();return new _.Comment(o.text,o.isLineComment,o.index+a,n)}},entities:{mixinLookup:function(){return s.mixin.call(!0,!0)},quoted:function(o){var f,g=i.i,y=!1;if(i.save(),i.$char("~"))y=!0;else if(o){i.restore();return}if(f=i.$quoted(),!f){i.restore();return}return i.forget(),new _.Quoted(f.charAt(0),f.substr(1,f.length-2),y,g+a,n)},keyword:function(){var o=i.$char("%")||i.$re(/^\[?(?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+\]?/);if(o)return _.Color.fromKeyword(o)||new _.Keyword(o)},call:function(){var o,f,g,y=i.i;if(!i.peek(/^url\(/i)){if(i.save(),o=i.$re(/^([\w-]+|%|~|progid:[\w.]+)\(/),!o){i.forget();return}if(o=o[1],g=this.customFuncCall(o),g&&(f=g.parse(),f&&g.stop))return i.forget(),f;if(f=this.arguments(f),!i.$char(")")){i.restore("Could not parse call arguments or missing ')'");return}return i.forget(),new _.Call(o,f,y+a,n)}},declarationCall:function(){var o,f,g=i.i;if(i.save(),o=i.$re(/^[\w]+\(/),!o){i.forget();return}o=o.substring(0,o.length-1);var y=this.ruleProperty(),w;if(y&&(w=this.value()),y&&w&&(f=[new _.Declaration(y,w,null,null,i.i+a,n,!0)]),!i.$char(")")){i.restore("Could not parse call arguments or missing ')'");return}return i.forget(),new _.Call(o,f,g+a,n)},customFuncCall:function(o){return{alpha:f(s.ieAlpha,!0),boolean:f(g),if:f(g)}[o.toLowerCase()];function f(y,w){return{parse:y,stop:w}}function g(){return[b(s.condition,"expected condition")]}},arguments:function(o){var f=o||[],g=[],y,w;for(i.save();;){if(o)o=!1;else{if(w=s.detachedRuleset()||this.assignment()||s.expression(),!w)break;w.value&&w.value.length==1&&(w=w.value[0]),f.push(w)}i.$char(",")||(i.$char(";")||y)&&(y=!0,w=f.length<1?f[0]:new _.Value(f),g.push(w),f=[])}return i.forget(),y?g:f},literal:function(){return this.dimension()||this.color()||this.quoted()||this.unicodeDescriptor()},assignment:function(){var o,f;if(i.save(),o=i.$re(/^\w+(?=\s?=)/i),!o){i.restore();return}if(!i.$char("=")){i.restore();return}if(f=s.entity(),f)return i.forget(),new _.Assignment(o,f);i.restore()},url:function(){var o,f=i.i;if(i.autoCommentAbsorb=!1,!i.$str("url(")){i.autoCommentAbsorb=!0;return}return o=this.quoted()||this.variable()||this.property()||i.$re(/^(?:(?:\\[()'"])|[^()'"])+/)||"",i.autoCommentAbsorb=!0,E(")"),new _.URL(o.value!==void 0||o instanceof _.Variable||o instanceof _.Property?o:new _.Anonymous(o,f),f+a,n)},variable:function(){var o,f,g=i.i;if(i.save(),i.currentChar()==="@"&&(f=i.$re(/^@@?[\w-]+/))){if(o=i.currentChar(),o==="("||o==="["&&!i.prevChar().match(/^\s/)){var y=s.variableCall(f);if(y)return i.forget(),y}return i.forget(),new _.Variable(f,g+a,n)}i.restore()},variableCurly:function(){var o,f=i.i;if(i.currentChar()==="@"&&(o=i.$re(/^@\{([\w-]+)\}/)))return new _.Variable("@".concat(o[1]),f+a,n)},property:function(){var o,f=i.i;if(i.currentChar()==="$"&&(o=i.$re(/^\$[\w-]+/)))return new _.Property(o,f+a,n)},propertyCurly:function(){var o,f=i.i;if(i.currentChar()==="$"&&(o=i.$re(/^\$\{([\w-]+)\}/)))return new _.Property("$".concat(o[1]),f+a,n)},color:function(){var o;if(i.save(),i.currentChar()==="#"&&(o=i.$re(/^#([A-Fa-f0-9]{8}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3,4})([\w.#[])?/))&&!o[2])return i.forget(),new _.Color(o[1],void 0,o[0]);i.restore()},colorKeyword:function(){i.save();var o=i.autoCommentAbsorb;i.autoCommentAbsorb=!1;var f=i.$re(/^[_A-Za-z-][_A-Za-z0-9-]+/);if(i.autoCommentAbsorb=o,!f){i.forget();return}i.restore();var g=_.Color.fromKeyword(f);if(g)return i.$str(f),g},dimension:function(){if(!i.peekNotNumeric()){var o=i.$re(/^([+-]?\d*\.?\d+)(%|[a-z_]+)?/i);if(o)return new _.Dimension(o[1],o[2])}},unicodeDescriptor:function(){var o;if(o=i.$re(/^U\+[0-9a-fA-F?]+(-[0-9a-fA-F?]+)?/),o)return new _.UnicodeDescriptor(o[0])},javascript:function(){var o,f=i.i;i.save();var g=i.$char("~"),y=i.$char("`");if(!y){i.restore();return}if(o=i.$re(/^[^`]*`/),o)return i.forget(),new _.JavaScript(o.substr(0,o.length-1),!!g,f+a,n);i.restore("invalid javascript definition")}},variable:function(){var o;if(i.currentChar()==="@"&&(o=i.$re(/^(@[\w-]+)\s*:/)))return o[1]},variableCall:function(o){var f,g=i.i,y=!!o,w=o;if(i.save(),w||i.currentChar()==="@"&&(w=i.$re(/^(@[\w-]+)(\(\s*\))?/))){if(f=this.mixin.ruleLookups(),!f&&(y&&i.$str("()")!=="()"||w[2]!=="()")){i.restore("Missing '[...]' lookup in variable call");return}y||(w=w[1]);var R=new _.VariableCall(w,g,n);return!y&&s.end()?(i.forget(),R):(i.forget(),new _.NamespaceValue(R,f,g,n))}i.restore()},extend:function(o){var f,g,y=i.i,w,R,I;if(i.$str(o?"&:extend(":":extend(")){do{w=null,f=null;for(var B=!0;!(w=i.$re(/^(!?all)(?=\s*(\)|,))/))&&(g=this.element(),!!g);)!B&&g.combinator.value&&l("Targeting complex selectors can have unexpected behavior, and this behavior may change in the future.",y),B=!1,f?f.push(g):f=[g];w=w&&w[1],f||c("Missing target selector for :extend()."),I=new _.Extend(new _.Selector(f),w,y+a,n),R?R.push(I):R=[I]}while(i.$char(","));return b(/^\)/),o&&b(/^;/),R}},extendRule:function(){return this.extend(!0)},mixin:{call:function(o,f){var g=i.currentChar(),y=!1,w,R=i.i,I,B,q,G,Q=!1;if(!(g!=="."&&g!=="#")){if(i.save(),I=this.elements(),I){if(G=i.i,i.$char("(")&&(Q=i.isWhitespace(-2),B=this.args(!0).args,E(")"),q=!0,Q&&l("Whitespace between a mixin name and parentheses for a mixin call is deprecated",G,"DEPRECATED")),f!==!1&&(w=this.ruleLookups()),f===!0&&!w){i.restore();return}if(o&&!w&&!q){i.restore();return}if(!o&&s.important()&&(y=!0),o||s.end()){i.forget();var K=new _.mixin.Call(I,B,R+a,n,!w&&y);return w?new _.NamespaceValue(K,w):(q||l("Calling a mixin without parentheses is deprecated",G,"DEPRECATED"),K)}}i.restore()}},elements:function(){for(var o,f,g,y,w,R=/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/;w=i.i,f=i.$re(R),!!f;)y=new _.Element(g,f,!1,w+a,n),o?o.push(y):o=[y],g=i.$char(">");return o},args:function(o){var f=s.entities,g={args:null,variadic:!1},y=[],w=[],R=[],I,B,q,G,Q,K,ie,oe=!0;for(i.save();;){if(o)K=s.detachedRuleset()||s.expression();else{if(i.commentStore.length=0,i.$str("...")){g.variadic=!0,i.$char(";")&&!I&&(I=!0),(I?w:R).push({variadic:!0});break}K=f.variable()||f.property()||f.literal()||f.keyword()||this.call(!0)}if(!K||!oe)break;G=null,K.throwAwayComments&&K.throwAwayComments(),Q=K;var ne=null;if(o?K.value&&K.value.length==1&&(ne=K.value[0]):ne=K,ne&&(ne instanceof _.Variable||ne instanceof _.Property))if(i.$char(":")){if(y.length>0&&(I&&c("Cannot mix ; and , as delimiter types"),B=!0),Q=s.detachedRuleset()||s.expression(),!Q)if(o)c("could not understand value for named argument");else return i.restore(),g.args=[],g;G=q=ne.name}else if(i.$str("..."))if(o)ie=!0;else{g.variadic=!0,i.$char(";")&&!I&&(I=!0),(I?w:R).push({name:K.name,variadic:!0});break}else o||(q=G=ne.name,Q=null);if(Q&&y.push(Q),R.push({name:G,value:Q,expand:ie}),i.$char(",")){oe=!0;continue}oe=i.$char(";")===";",(oe||I)&&(B&&c("Cannot mix ; and , as delimiter types"),I=!0,y.length>1&&(Q=new _.Value(y)),w.push({name:q,value:Q,expand:ie}),q=null,y=[],B=!1)}return i.forget(),g.args=I?w:R,g},definition:function(){var o,f=[],g,y,w,R=!1;if(!(i.currentChar()!=="."&&i.currentChar()!=="#"||i.peek(/^[^{]*\}/)))if(i.save(),g=i.$re(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/),g){o=g[1];var I=this.args(!1);if(f=I.args,R=I.variadic,!i.$char(")")){i.restore("Missing closing ')'");return}if(i.commentStore.length=0,i.$str("when")&&(w=b(s.conditions,"expected condition")),y=s.block(),y)return i.forget(),new _.mixin.Definition(o,f,y,w,R);i.restore()}else i.restore()},ruleLookups:function(){var o,f=[];if(i.currentChar()==="["){for(;;){if(i.save(),o=this.lookupValue(),!o&&o!==""){i.restore();break}f.push(o),i.forget()}if(f.length>0)return f}},lookupValue:function(){if(i.save(),!i.$char("[")){i.restore();return}var o=i.$re(/^(?:[@$]{0,2})[_a-zA-Z0-9-]*/);if(!i.$char("]")){i.restore();return}if(o||o==="")return i.forget(),o;i.restore()}},entity:function(){var o=this.entities;return this.comment()||o.literal()||o.variable()||o.url()||o.property()||o.call()||o.keyword()||this.mixin.call(!0)||o.javascript()},end:function(){return i.$char(";")||i.peek("}")},ieAlpha:function(){var o;if(i.$re(/^opacity=/i))return o=i.$re(/^\d+/),o||(o=b(s.entities.variable,"Could not parse alpha"),o="@{".concat(o.name.slice(1),"}")),E(")"),new _.Quoted("","alpha(opacity=".concat(o,")"))},element:function(){var o,f,g,y=i.i;if(f=this.combinator(),o=i.$re(/^(?:\d+\.\d+|\d+)%/)||i.$re(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||i.$char("*")||i.$char("&")||this.attribute()||i.$re(/^\([^&()@]+\)/)||i.$re(/^[.#:](?=@)/)||this.entities.variableCurly(),!o)if(i.save(),i.$char("("))if(g=this.selector(!1)){for(var w=[];i.$char(",");)w.push(g),w.push(new fe(",")),g=this.selector(!1);w.push(g),i.$char(")")?(w.length>1?o=new _.Paren(new de(w)):o=new _.Paren(g),i.forget()):i.restore("Missing closing ')'")}else i.restore("Missing closing ')'");else i.forget();if(o)return new _.Element(f,o,o instanceof _.Variable,y+a,n)},combinator:function(){var o=i.currentChar();if(o==="/"){i.save();var f=i.$re(/^\/[a-z]+\//i);if(f)return i.forget(),new _.Combinator(f);i.restore()}if(o===">"||o==="+"||o==="~"||o==="|"||o==="^"){for(i.i++,o==="^"&&i.currentChar()==="^"&&(o="^^",i.i++);i.isWhitespace();)i.i++;return new _.Combinator(o)}else return i.isWhitespace(-1)?new _.Combinator(" "):new _.Combinator(null)},selector:function(o){var f=i.i,g,y,w,R,I,B,q;for(o=o!==!1;(o&&(y=this.extend())||o&&(B=i.$str("when"))||(R=this.element()))&&(B?q=b(this.conditions,"expected condition"):q?c("CSS guard can only be used at the end of selector"):y?I?I=I.concat(y):I=y:(I&&c("Extend can only be used at the end of selector"),w=i.currentChar(),Array.isArray(R)&&R.forEach(function(G){return g.push(G)}),g?g.push(R):g=[R],R=null),!(w==="{"||w==="}"||w===";"||w===","||w===")")););if(g)return new _.Selector(g,I,q,f+a,n);I&&c("Extend must be used to extend a selector, it cannot be used on its own")},selectors:function(){for(var o,f;o=this.selector(),!(!o||(f?f.push(o):f=[o],i.commentStore.length=0,o.condition&&f.length>1&&c("Guards are only currently allowed on a single selector."),!i.$char(",")));)o.condition&&c("Guards are only currently allowed on a single selector."),i.commentStore.length=0;return f},attribute:function(){if(i.$char("[")){var o=this.entities,f,g,y,w;return(f=o.variableCurly())||(f=b(/^(?:[_A-Za-z0-9-*]*\|)?(?:[_A-Za-z0-9-]|\\.)+/)),y=i.$re(/^[|~*$^]?=/),y&&(g=o.quoted()||i.$re(/^[0-9]+%/)||i.$re(/^[\w-]+/)||o.variableCurly(),g&&(w=i.$re(/^[iIsS]/))),E("]"),new _.Attribute(f,y,g,w)}},block:function(){var o;if(i.$char("{")&&(o=this.primary())&&i.$char("}"))return o},blockRuleset:function(){var o=this.block();return o&&(o=new _.Ruleset(null,o)),o},detachedRuleset:function(){var o,f,g;if(i.save(),i.$re(/^[.#]\(/)&&(o=this.mixin.args(!1),f=o.args,g=o.variadic,!i.$char(")"))){i.restore();return}var y=this.blockRuleset();if(y)return i.forget(),f?new _.mixin.Definition(null,f,y,null,g):new _.DetachedRuleset(y);i.restore()},ruleset:function(){var o,f,g;if(i.save(),t.dumpLineNumbers&&(g=k(i.i)),o=this.selectors(),o&&(f=this.block())){i.forget();var y=new _.Ruleset(o,f,t.strictImports);return t.dumpLineNumbers&&(y.debugInfo=g),y}else i.restore()},declaration:function(){var o,f,g=i.i,y,w=i.currentChar(),R,I,B;if(!(w==="."||w==="#"||w==="&"||w===":"))if(i.save(),o=this.variable()||this.ruleProperty(),o){if(B=typeof o=="string",B&&(f=this.detachedRuleset(),f&&(y=!0)),i.commentStore.length=0,!f){if(I=!B&&o.length>1&&o.pop().value,o[0].value&&o[0].value.slice(0,2)==="--"?i.$char(";")?f=new fe(""):f=this.permissiveValue(/[;}]/,!0):f=this.anonymousValue(),f)return i.forget(),new _.Declaration(o,f,!1,I,g+a,n);f||(f=this.value()),f?R=this.important():B&&(f=this.permissiveValue())}if(f&&(this.end()||y))return i.forget(),new _.Declaration(o,f,R,I,g+a,n);i.restore()}else i.restore()},anonymousValue:function(){var o=i.i,f=i.$re(/^([^.#@$+/'"*`(;{}-]*);/);if(f)return new _.Anonymous(f[1],o+a)},permissiveValue:function(o){var f,g,y,w,R=o||";",I=i.i,B=[];function q(){var oe=i.currentChar();return typeof R=="string"?oe===R:R.test(oe)}if(!q()){w=[];do{if(g=this.comment(),g){w.push(g);continue}g=this.entity(),g&&w.push(g),i.peek(",")&&(w.push(new _.Anonymous(",",i.i)),i.$char(","))}while(g);if(y=q(),w.length>0){if(w=new _.Expression(w),y)return w;B.push(w),i.prevChar()===" "&&B.push(new _.Anonymous(" ",I))}if(i.save(),w=i.$parseUntil(R),w){if(typeof w=="string"&&c("Expected '".concat(w,"'"),"Parse"),w.length===1&&w[0]===" ")return i.forget(),new _.Anonymous("",I);var G=void 0;for(f=0;f<w.length;f++)if(G=w[f],Array.isArray(G))B.push(new _.Quoted(G[0],G[1],!0,I,n));else{f===w.length-1&&(G=G.trim());var Q=new _.Quoted("'",G,!0,I,n),K=/@([\w-]+)/g,ie=/\$([\w-]+)/g;K.test(G)&&l("@[ident] in unknown values will not be evaluated as variables in the future. Use @{[ident]}",I,"DEPRECATED"),ie.test(G)&&l("$[ident] in unknown values will not be evaluated as property references in the future. Use ${[ident]}",I,"DEPRECATED"),Q.variableRegex=/@([\w-]+)|@{([\w-]+)}/g,Q.propRegex=/\$([\w-]+)|\${([\w-]+)}/g,B.push(Q)}return i.forget(),new _.Expression(B,!0)}i.restore()}},import:function(){var o,f,g=i.i,y=i.$re(/^@import\s+/);if(y){var w=(y?this.importOptions():null)||{};if(o=this.entities.quoted()||this.entities.url())return f=this.mediaFeatures({}),i.$char(";")||(i.i=g,c("missing semi-colon or unrecognised media features on import")),f=f&&new _.Value(f),new _.Import(o,f,w,g+a,n);i.i=g,c("malformed import statement")}},importOptions:function(){var o,f={},g,y;if(!i.$char("("))return null;do if(o=this.importOption(),o){switch(g=o,y=!0,g){case"css":g="less",y=!1;break;case"once":g="multiple",y=!1;break}if(f[g]=y,!i.$char(","))break}while(o);return E(")"),f},importOption:function(){var o=i.$re(/^(less|css|multiple|once|inline|reference|optional)/);if(o)return o[1]},mediaFeature:function(o){var f=this.entities,g=[],y,w,R,I=!1;i.save();do i.save(),i.$re(/^[0-9a-z-]*\s+\(/)&&(I=!0),i.restore(),y=f.declarationCall.bind(this)()||f.keyword()||f.variable()||f.mixinLookup(),y?g.push(y):i.$char("(")&&(w=this.property(),i.save(),!w&&o.queryInParens&&i.$re(/^[0-9a-z-]*\s*([<>]=|<=|>=|[<>]|=)/)?(i.restore(),w=this.condition(),i.save(),R=this.atomicCondition(null,w.rvalue),R||i.restore()):(i.restore(),y=this.value()),i.$char(")")?w&&!y?(g.push(new _.Paren(new _.QueryInParens(w.op,w.lvalue,w.rvalue,R?R.op:null,R?R.rvalue:null,w._index))),y=w):w&&y?(g.push(new _.Paren(new _.Declaration(w,y,null,null,i.i+a,n,!0))),I||(g[g.length-1].noSpacing=!0),I=!1):y?(g.push(new _.Paren(y)),I=!1):c("badly formed media feature definition"):c("Missing closing ')'","Parse"));while(y);if(i.forget(),g.length>0)return new _.Expression(g)},mediaFeatures:function(o){var f=this.entities,g=[],y;do if(y=this.mediaFeature(o),y)if(g.push(y),i.$char(","))g[g.length-1].noSpacing||(g[g.length-1].noSpacing=!1);else break;else if(y=f.variable()||f.mixinLookup(),y)if(g.push(y),i.$char(","))g[g.length-1].noSpacing||(g[g.length-1].noSpacing=!1);else break;while(y);return g.length>0?g:null},prepareAndGetNestableAtRule:function(o,f,g,y){var w=this.mediaFeatures(y),R=this.block();R||c("media definitions require block statements after any features"),i.forget();var I=new o(R,w,f+a,n);return t.dumpLineNumbers&&(I.debugInfo=g),I},nestableAtRule:function(){var o,f=i.i;if(t.dumpLineNumbers&&(o=k(f)),i.save(),i.$peekChar("@")){if(i.$str("@media"))return this.prepareAndGetNestableAtRule(_.Media,f,o,ai);if(i.$str("@container"))return this.prepareAndGetNestableAtRule(_.Container,f,o,si)}i.restore()},plugin:function(){var o,f,g,y=i.i,w=i.$re(/^@plugin\s+/);if(w){if(f=this.pluginArgs(),f?g={pluginArgs:f,isPlugin:!0}:g={isPlugin:!0},o=this.entities.quoted()||this.entities.url())return i.$char(";")||(i.i=y,c("missing semi-colon on @plugin")),new _.Import(o,null,g,y+a,n);i.i=y,c("malformed @plugin statement")}},pluginArgs:function(){if(i.save(),!i.$char("("))return i.restore(),null;var o=i.$re(/^\s*([^);]+)\)\s*/);return o[1]?(i.forget(),o[1].trim()):(i.restore(),null)},atruleUnknown:function(o,f,g){return o=this.permissiveValue(/^[{;]/),g=i.currentChar()==="{",o?o.value||(o=null):!g&&i.currentChar()!==";"&&c("".concat(f," rule is missing block or ending semi-colon")),[o,g]},atruleBlock:function(o,f,g,y){if(o=this.blockRuleset(),i.save(),!o&&!g&&(f=this.entity(),o=this.blockRuleset()),!o&&!g){i.restore();var w=[];for(f=this.entity();i.$char(",");)w.push(f),f=this.entity();f&&w.length>0?(w.push(f),f=w,y=!0):o=this.blockRuleset()}else i.forget();return[o,f,y]},atrule:function(){var o=i.i,f,g,y,w,R,I,B,q=!0,G=!0,Q=!1;if(i.currentChar()==="@"){if(g=this.import()||this.plugin()||this.nestableAtRule(),g)return g;if(i.save(),f=i.$re(/^@[a-z-]+/),!!f){switch(w=f,f.charAt(1)=="-"&&f.indexOf("-",2)>0&&(w="@".concat(f.slice(f.indexOf("-",2)+1))),w){case"@charset":R=!0,q=!1;break;case"@namespace":I=!0,q=!1;break;case"@keyframes":case"@counter-style":R=!0;break;case"@document":case"@supports":B=!0,G=!1;break;case"@starting-style":G=!1;break;case"@layer":G=!1;break;default:B=!0;break}if(i.commentStore.length=0,R)g=this.entity(),g||c("expected ".concat(f," identifier"));else if(I)g=this.expression(),g||c("expected ".concat(f," expression"));else if(B){var K=this.atruleUnknown(g,f,q);g=K[0],q=K[1]}if(q){var ie=this.atruleBlock(y,g,G,Q);if(y=ie[0],g=ie[1],Q=ie[2],!y&&!B){i.restore(),f=i.$re(/^@[a-z-]+/);var K=this.atruleUnknown(g,f,q);g=K[0],q=K[1],q&&(ie=this.atruleBlock(y,g,G,Q),y=ie[0],g=ie[1],Q=ie[2])}}if(y||Q||!q&&g&&i.$char(";"))return i.forget(),new _.AtRule(f,g,y,o+a,n,t.dumpLineNumbers?k(o):null,G);i.restore("at-rule options not recognised")}}},value:function(){var o,f=[],g=i.i;do if(o=this.expression(),o&&(f.push(o),!i.$char(",")))break;while(o);if(f.length>0)return new _.Value(f,g+a)},important:function(){if(i.currentChar()==="!")return i.$re(/^! *important/)},sub:function(){var o,f;if(i.save(),i.$char("(")){if(o=this.addition(),o&&i.$char(")"))return i.forget(),f=new _.Expression([o]),f.parens=!0,f;i.restore("Expected ')'");return}i.restore()},colorOperand:function(){i.save();var o=i.$re(/^[lchrgbs]\s+/);if(o)return new _.Keyword(o[0]);i.restore()},multiplication:function(){var o,f,g,y,w;if(o=this.operand(),o){for(w=i.isWhitespace(-1);!i.peek(/^\/[*/]/);){if(i.save(),g=i.$char("/")||i.$char("*"),!g){var R=i.i;g=i.$str("./"),g&&l("./ operator is deprecated",R,"DEPRECATED")}if(!g){i.forget();break}if(f=this.operand(),!f){i.restore();break}i.forget(),o.parensInOp=!0,f.parensInOp=!0,y=new _.Operation(g,[y||o,f],w),w=i.isWhitespace(-1)}return y||o}},addition:function(){var o,f,g,y,w;if(o=this.multiplication(),o){for(w=i.isWhitespace(-1);g=i.$re(/^[-+]\s+/)||!w&&(i.$char("+")||i.$char("-")),!(!g||(f=this.multiplication(),!f));)o.parensInOp=!0,f.parensInOp=!0,y=new _.Operation(g,[y||o,f],w),w=i.isWhitespace(-1);return y||o}},conditions:function(){var o,f,g=i.i,y;if(o=this.condition(!0),o){for(;!(!i.peek(/^,\s*(not\s*)?\(/)||!i.$char(",")||(f=this.condition(!0),!f));)y=new _.Condition("or",y||o,f,g+a);return y||o}},condition:function(o){var f,g,y;function w(){return i.$str("or")}if(f=this.conditionAnd(o),!!f){if(g=w(),g)if(y=this.condition(o),y)f=new _.Condition(g,f,y);else return;return f}},conditionAnd:function(o){var f,g,y,w=this;function R(){var B=w.negatedCondition(o)||w.parenthesisCondition(o);return!B&&!o?w.atomicCondition(o):B}function I(){return i.$str("and")}if(f=R(),!!f){if(g=I(),g)if(y=this.conditionAnd(o),y)f=new _.Condition(g,f,y);else return;return f}},negatedCondition:function(o){if(i.$str("not")){var f=this.parenthesisCondition(o);return f&&(f.negate=!f.negate),f}},parenthesisCondition:function(o){function f(y){var w;if(i.save(),w=y.condition(o),!w){i.restore();return}if(!i.$char(")")){i.restore();return}return i.forget(),w}var g;if(i.save(),!i.$str("(")){i.restore();return}if(g=f(this),g)return i.forget(),g;if(g=this.atomicCondition(o),!g){i.restore();return}if(!i.$char(")")){i.restore("expected ')' got '".concat(i.currentChar(),"'"));return}return i.forget(),g},atomicCondition:function(o,f){var g=this.entities,y=i.i,w,R,I,B,q=(function(){return this.addition()||g.keyword()||g.quoted()||g.mixinLookup()}).bind(this);if(f?w=f:w=q(),w)return i.$char(">")?i.$char("=")?B=">=":B=">":i.$char("<")?i.$char("=")?B="<=":B="<":i.$char("=")&&(i.$char(">")?B="=>":i.$char("<")?B="=<":B="="),B?(R=q(),R?I=new _.Condition(B,w,R,y+a,!1):c("expected expression")):f||(I=new _.Condition("=",w,new _.Keyword("true"),y+a,!1)),I},operand:function(){var o=this.entities,f;i.peek(/^-[@$(]/)&&(f=i.$char("-"));var g=this.sub()||o.dimension()||o.color()||o.variable()||o.property()||o.call()||o.quoted(!0)||o.colorKeyword()||this.colorOperand()||o.mixinLookup();return f&&(g.parensInOp=!0,g=new _.Negative(g)),g},expression:function(){var o=[],f,g,y=i.i;do{if(f=this.comment(),f&&!f.isLineComment){o.push(f);continue}f=this.addition()||this.entity(),f instanceof _.Comment&&(f=null),f&&(o.push(f),i.peek(/^\/[/*]/)||(g=i.$char("/"),g&&o.push(new _.Anonymous(g,y+a))))}while(f);if(o.length>0)return new _.Expression(o)},property:function(){var o=i.$re(/^(\*?-?[_a-zA-Z0-9-]+)\s*:/);if(o)return o[1]},ruleProperty:function(){var o=[],f=[],g,y;i.save();var w=i.$re(/^([_a-zA-Z0-9-]+)\s*:/);if(w)return o=[new _.Keyword(w[1])],i.forget(),o;function R(I){var B=i.i,q=i.$re(I);if(q)return f.push(B),o.push(q[1])}for(R(/^(\*?)/);R(/^((?:[\w-]+)|(?:[@$]\{[\w-]+\}))/););if(o.length>1&&R(/^((?:\+_|\+)?)\s*:/)){for(i.forget(),o[0]===""&&(o.shift(),f.shift()),y=0;y<o.length;y++)g=o[y],o[y]=g.charAt(0)!=="@"&&g.charAt(0)!=="$"?new _.Keyword(g):g.charAt(0)==="@"?new _.Variable("@".concat(g.slice(2,-1)),f[y]+a,n):new _.Property("$".concat(g.slice(2,-1)),f[y]+a,n);return o}i.restore()}}}};Ze.serializeVars=function(e){var t="";for(var r in e)if(Object.hasOwnProperty.call(e,r)){var n=e[r];t+="".concat((r[0]==="@"?"":"@")+r,": ").concat(n).concat(String(n).slice(-1)===";"?"":";")}return t};var de=function(e,t,r,n,a,s){this.extendList=t,this.condition=r,this.evaldCondition=!r,this._index=n,this._fileInfo=a,this.elements=this.getElements(e),this.mixinElements_=void 0,this.copyVisibilityInfo(s),this.setParent(this.elements,this)};de.prototype=Object.assign(new T,{type:"Selector",accept:function(e){this.elements&&(this.elements=e.visitArray(this.elements)),this.extendList&&(this.extendList=e.visitArray(this.extendList)),this.condition&&(this.condition=e.visit(this.condition))},createDerived:function(e,t,r){e=this.getElements(e);var n=new de(e,t||this.extendList,null,this.getIndex(),this.fileInfo(),this.visibilityInfo());return n.evaldCondition=Me(r)?this.evaldCondition:r,n.mediaEmpty=this.mediaEmpty,n},getElements:function(e){return e?(typeof e=="string"&&new Ze(this.parse.context,this.parse.importManager,this._fileInfo,this._index).parseNode(e,["selector"],function(t,r){if(t)throw new le({index:t.index,message:t.message},this.parse.imports,this._fileInfo.filename);e=r[0].elements}),e):[new D("","&",!1,this._index,this._fileInfo)]},createEmptySelectors:function(){var e=new D("","&",!1,this._index,this._fileInfo),t=[new de([e],null,null,this._index,this._fileInfo)];return t[0].mediaEmpty=!0,t},match:function(e){var t=this.elements,r=t.length,n,a;if(e=e.mixinElements(),n=e.length,n===0||r<n)return 0;for(a=0;a<n;a++)if(t[a].value!==e[a])return 0;return n},mixinElements:function(){if(this.mixinElements_)return this.mixinElements_;var e=this.elements.map(function(t){return t.combinator.value+(t.value.value||t.value)}).join("").match(/[,&#*.\w-]([\w-]|(\\.))*/g);return e?e[0]==="&"&&e.shift():e=[],this.mixinElements_=e},isJustParentSelector:function(){return!this.mediaEmpty&&this.elements.length===1&&this.elements[0].value==="&"&&(this.elements[0].combinator.value===" "||this.elements[0].combinator.value==="")},eval:function(e){var t=this.condition&&this.condition.eval(e),r=this.elements,n=this.extendList;return r=r&&r.map(function(a){return a.eval(e)}),n=n&&n.map(function(a){return a.eval(e)}),this.createDerived(r,n,t)},genCSS:function(e,t){var r,n;for((!e||!e.firstSelector)&&this.elements[0].combinator.value===""&&t.add(" ",this.fileInfo(),this.getIndex()),r=0;r<this.elements.length;r++)n=this.elements[r],n.genCSS(e,t)},getIsOutput:function(){return this.evaldCondition}});var Je=function(e){if(!e)throw new Error("Value requires an array argument");Array.isArray(e)?this.value=e:this.value=[e]};Je.prototype=Object.assign(new T,{type:"Value",accept:function(e){this.value&&(this.value=e.visitArray(this.value))},eval:function(e){return this.value.length===1?this.value[0].eval(e):new Je(this.value.map(function(t){return t.eval(e)}))},genCSS:function(e,t){var r;for(r=0;r<this.value.length;r++)this.value[r].genCSS(e,t),r+1<this.value.length&&t.add(e&&e.compress?",":", ")}});var ve=function(e){this.value=e};ve.prototype=Object.assign(new T,{type:"Keyword",genCSS:function(e,t){if(this.value==="%")throw{type:"Syntax",message:"Invalid % without number"};t.add(this.value)}}),ve.True=new ve("true"),ve.False=new ve("false");var _r=F;function oi(e,t){var r="",n,a=t.length,s={add:function(i){r+=i}};for(n=0;n<a;n++)t[n].eval(e).genCSS(e,s);return r}var ge=function(e,t,r,n,a,s,i,c){this.name=e,this.value=t instanceof T?t:new Je([t?new fe(t):null]),this.important=r?" ".concat(r.trim()):"",this.merge=n,this._index=a,this._fileInfo=s,this.inline=i||!1,this.variable=c!==void 0?c:e.charAt&&e.charAt(0)==="@",this.allowRoot=!0,this.setParent(this.value,this)};ge.prototype=Object.assign(new T,{type:"Declaration",genCSS:function(e,t){t.add(this.name+(e.compress?":":": "),this.fileInfo(),this.getIndex());try{this.value.genCSS(e,t)}catch(r){throw r.index=this._index,r.filename=this._fileInfo.filename,r}t.add(this.important+(this.inline||e.lastRule&&e.compress?"":";"),this._fileInfo,this._index)},eval:function(e){var t=!1,r,n=this.name,a,s=this.variable;typeof n!="string"&&(n=n.length===1&&n[0]instanceof ve?n[0].value:oi(e,n),s=!1),n==="font"&&e.math===_r.ALWAYS&&(t=!0,r=e.math,e.math=_r.PARENS_DIVISION);try{if(e.importantScope.push({}),a=this.value.eval(e),!this.variable&&a.type==="DetachedRuleset")throw{message:"Rulesets cannot be evaluated on a property.",index:this.getIndex(),filename:this.fileInfo().filename};var i=this.important,c=e.importantScope.pop();return!i&&c.important&&(i=c.important),new ge(n,a,i,this.merge,this.getIndex(),this.fileInfo(),this.inline,s)}catch(l){throw typeof l.index!="number"&&(l.index=this.getIndex(),l.filename=this.fileInfo().filename),l}finally{t&&(e.math=r)}},makeImportant:function(){return new ge(this.name,this.value,"!important",this.merge,this.getIndex(),this.fileInfo(),this.inline)}});function Dr(e){return"/* line ".concat(e.debugInfo.lineNumber,", ").concat(e.debugInfo.fileName,` */
`)}function $r(e){var t=e.debugInfo.fileName;return/^[a-z]+:\/\//i.test(t)||(t="file://".concat(t)),"@media -sass-debug-info{filename{font-family:".concat(t.replace(/([.:/\\])/g,function(r){return r=="\\"&&(r="/"),"\\".concat(r)}),"}line{font-family:\\00003").concat(e.debugInfo.lineNumber,`}}
`)}function Vr(e,t,r){var n="";if(e.dumpLineNumbers&&!e.compress)switch(e.dumpLineNumbers){case"comments":n=Dr(t);break;case"mediaquery":n=$r(t);break;case"all":n=Dr(t)+(r||"")+$r(t);break}return n}var gt=function(e,t,r,n){this.value=e,this.isLineComment=t,this._index=r,this._fileInfo=n,this.allowRoot=!0};gt.prototype=Object.assign(new T,{type:"Comment",genCSS:function(e,t){this.debugInfo&&t.add(Vr(e,this),this.fileInfo(),this.getIndex()),t.add(this.value)},isSilent:function(e){var t=e.compress&&this.value[2]!=="!";return this.isLineComment||t}});var at={eval:function(){var e=this.value_,t=this.error_;if(t)throw t;if(!Me(e))return e?ve.True:ve.False},value:function(e){this.value_=e},error:function(e){this.error_=e},reset:function(){this.value_=this.error_=null}},he=function(e,t,r,n){this.selectors=e,this.rules=t,this._lookups={},this._variables=null,this._properties=null,this.strictImports=r,this.copyVisibilityInfo(n),this.allowRoot=!0,this.setParent(this.selectors,this),this.setParent(this.rules,this)};he.prototype=Object.assign(new T,{type:"Ruleset",isRuleset:!0,isRulesetLike:function(){return!0},accept:function(e){this.paths?this.paths=e.visitArray(this.paths,!0):this.selectors&&(this.selectors=e.visitArray(this.selectors)),this.rules&&this.rules.length&&(this.rules=e.visitArray(this.rules))},eval:function(e){var t,r,n,a,s,i=!1;if(this.selectors&&(r=this.selectors.length)){for(t=new Array(r),at.error({type:"Syntax",message:"it is currently only allowed in parametric mixin guards,"}),a=0;a<r;a++){n=this.selectors[a].eval(e);for(var c=0;c<n.elements.length;c++)if(n.elements[c].isVariable){s=!0;break}t[a]=n,n.evaldCondition&&(i=!0)}if(s){var l=new Array(r);for(a=0;a<r;a++)n=t[a],l[a]=n.toCSS(e);var b=t[0].getIndex(),E=t[0].fileInfo();new Ze(e,this.parse.importManager,E,b).parseNode(l.join(","),["selectors"],function(I,B){B&&(t=Se(B))})}at.reset()}else i=!0;var k=this.rules?ee(this.rules):null,M=new he(t,k,this.strictImports,this.visibilityInfo()),o,f;M.originalRuleset=this,M.root=this.root,M.firstRoot=this.firstRoot,M.allowImports=this.allowImports,this.debugInfo&&(M.debugInfo=this.debugInfo),i||(k.length=0),M.functionRegistry=(function(I){for(var B=0,q=I.length,G;B!==q;++B)if(G=I[B].functionRegistry,G)return G;return be})(e.frames).inherit();var g=e.frames;g.unshift(M);var y=e.selectors;y||(e.selectors=y=[]),y.unshift(this.selectors),(M.root||M.allowImports||!M.strictImports)&&M.evalImports(e);var w=M.rules;for(a=0;o=w[a];a++)o.evalFirst&&(w[a]=o.eval(e));var R=e.mediaBlocks&&e.mediaBlocks.length||0;for(a=0;o=w[a];a++)o.type==="MixinCall"?(k=o.eval(e).filter(function(I){return I instanceof ge&&I.variable?!M.variable(I.name):!0}),w.splice.apply(w,[a,1].concat(k)),a+=k.length-1,M.resetCache()):o.type==="VariableCall"&&(k=o.eval(e).rules.filter(function(I){return!(I instanceof ge&&I.variable)}),w.splice.apply(w,[a,1].concat(k)),a+=k.length-1,M.resetCache());for(a=0;o=w[a];a++)o.evalFirst||(w[a]=o=o.eval?o.eval(e):o);for(a=0;o=w[a];a++)if(o instanceof he&&o.selectors&&o.selectors.length===1&&o.selectors[0]&&o.selectors[0].isJustParentSelector()){w.splice(a--,1);for(var c=0;f=o.rules[c];c++)f instanceof T&&(f.copyVisibilityInfo(o.visibilityInfo()),(!(f instanceof ge)||!f.variable)&&w.splice(++a,0,f))}if(g.shift(),y.shift(),e.mediaBlocks)for(a=R;a<e.mediaBlocks.length;a++)e.mediaBlocks[a].bubbleSelectors(t);return M},evalImports:function(e){var t=this.rules,r,n;if(t)for(r=0;r<t.length;r++)t[r].type==="Import"&&(n=t[r].eval(e),n&&(n.length||n.length===0)?(t.splice.apply(t,[r,1].concat(n)),r+=n.length-1):t.splice(r,1,n),this.resetCache())},makeImportant:function(){var e=new he(this.selectors,this.rules.map(function(t){return t.makeImportant?t.makeImportant():t}),this.strictImports,this.visibilityInfo());return e},matchArgs:function(e){return!e||e.length===0},matchCondition:function(e,t){var r=this.selectors[this.selectors.length-1];return!(!r.evaldCondition||r.condition&&!r.condition.eval(new ue.Eval(t,t.frames)))},resetCache:function(){this._rulesets=null,this._variables=null,this._properties=null,this._lookups={}},variables:function(){return this._variables||(this._variables=this.rules?this.rules.reduce(function(e,t){if(t instanceof ge&&t.variable===!0&&(e[t.name]=t),t.type==="Import"&&t.root&&t.root.variables){var r=t.root.variables();for(var n in r)r.hasOwnProperty(n)&&(e[n]=t.root.variable(n))}return e},{}):{}),this._variables},properties:function(){return this._properties||(this._properties=this.rules?this.rules.reduce(function(e,t){if(t instanceof ge&&t.variable!==!0){var r=t.name.length===1&&t.name[0]instanceof ve?t.name[0].value:t.name;e["$".concat(r)]?e["$".concat(r)].push(t):e["$".concat(r)]=[t]}return e},{}):{}),this._properties},variable:function(e){var t=this.variables()[e];if(t)return this.parseValue(t)},property:function(e){var t=this.properties()[e];if(t)return this.parseValue(t)},lastDeclaration:function(){for(var e=this.rules.length;e>0;e--){var t=this.rules[e-1];if(t instanceof ge)return this.parseValue(t)}},parseValue:function(e){var t=this;function r(a){return a.value instanceof fe&&!a.parsed&&(typeof a.value.value=="string"?new Ze(this.parse.context,this.parse.importManager,a.fileInfo(),a.value.getIndex()).parseNode(a.value.value,["value","important"],function(s,i){s&&(a.parsed=!0),i&&(a.value=i[0],a.important=i[1]||"",a.parsed=!0)}):a.parsed=!0),a}if(Array.isArray(e)){var n=[];return e.forEach(function(a){n.push(r.call(t,a))}),n}else return r.call(t,e)},rulesets:function(){if(!this.rules)return[];var e=[],t=this.rules,r,n;for(r=0;n=t[r];r++)n.isRuleset&&e.push(n);return e},prependRule:function(e){var t=this.rules;t?t.unshift(e):this.rules=[e],this.setParent(e,this)},find:function(e,t,r){t=t||this;var n=[],a,s,i=e.toCSS();return i in this._lookups?this._lookups[i]:(this.rulesets().forEach(function(c){if(c!==t){for(var l=0;l<c.selectors.length;l++)if(a=e.match(c.selectors[l]),a){if(e.elements.length>a){if(!r||r(c)){s=c.find(new de(e.elements.slice(a)),t,r);for(var b=0;b<s.length;++b)s[b].path.push(c);Array.prototype.push.apply(n,s)}}else n.push({rule:c,path:[]});break}}}),this._lookups[i]=n,n)},genCSS:function(e,t){var r,n,a=[],s=[],i,c,l;e.tabLevel=e.tabLevel||0,this.root||e.tabLevel++;var b=e.compress?"":Array(e.tabLevel+1).join("  "),E=e.compress?"":Array(e.tabLevel).join("  "),k,M=0,o=0;for(r=0;c=this.rules[r];r++)c instanceof gt?(o===r&&o++,s.push(c)):c.isCharset&&c.isCharset()?(s.splice(M,0,c),M++,o++):c.type==="Import"?(s.splice(o,0,c),o++):s.push(c);if(s=a.concat(s),!this.root){i=Vr(e,this,E),i&&(t.add(i),t.add(E));var f=this.paths,g=f.length,y=void 0;for(k=e.compress?",":`,
`.concat(E),r=0;r<g;r++)if(l=f[r],!!(y=l.length))for(r>0&&t.add(k),e.firstSelector=!0,l[0].genCSS(e,t),e.firstSelector=!1,n=1;n<y;n++)l[n].genCSS(e,t);t.add((e.compress?"{":` {
`)+b)}for(r=0;c=s[r];r++){r+1===s.length&&(e.lastRule=!0);var w=e.lastRule;c.isRulesetLike(c)&&(e.lastRule=!1),c.genCSS?c.genCSS(e,t):c.value&&t.add(c.value.toString()),e.lastRule=w,!e.lastRule&&c.isVisible()?t.add(e.compress?"":`
`.concat(b)):e.lastRule=!1}this.root||(t.add(e.compress?"}":`
`.concat(E,"}")),e.tabLevel--),!t.isEmpty()&&!e.compress&&this.firstRoot&&t.add(`
`)},joinSelectors:function(e,t,r){for(var n=0;n<r.length;n++)this.joinSelector(e,t,r[n])},joinSelector:function(e,t,r){function n(f,g){var y,w;if(f.length===0)y=new x(f[0]);else{var R=new Array(f.length);for(w=0;w<f.length;w++)R[w]=new D(null,f[w],g.isVariable,g._index,g._fileInfo);y=new x(new de(R))}return y}function a(f,g){var y,w;return y=new D(null,f,g.isVariable,g._index,g._fileInfo),w=new de([y]),w}function s(f,g,y,w){var R,I,B;if(R=[],f.length>0?(R=ee(f),I=R.pop(),B=w.createDerived(ee(I.elements))):B=w.createDerived([]),g.length>0){var q=y.combinator,G=g[0].elements[0];q.emptyOrWhitespace&&!G.combinator.emptyOrWhitespace&&(q=G.combinator),B.elements.push(new D(q,G.value,y.isVariable,y._index,y._fileInfo)),B.elements=B.elements.concat(g[0].elements.slice(1))}if(B.elements.length!==0&&R.push(B),g.length>1){var Q=g.slice(1);Q=Q.map(function(K){return K.createDerived(K.elements,[])}),R=R.concat(Q)}return R}function i(f,g,y,w,R){var I;for(I=0;I<f.length;I++){var B=s(f[I],g,y,w);R.push(B)}return R}function c(f,g){var y,w;if(f.length!==0){if(g.length===0){g.push([new de(f)]);return}for(y=0;w=g[y];y++)w.length>0?w[w.length-1]=w[w.length-1].createDerived(w[w.length-1].elements.concat(f)):w.push(new de(f))}}function l(f,g,y){var w,R,I,B,q,G,Q,K,ie=!1,oe,ne;function se(on){var er;return!(on.value instanceof x)||(er=on.value.value,!(er instanceof de))?null:er}for(B=[],q=[[]],w=0;K=y.elements[w];w++)if(K.value!=="&"){var ce=se(K);if(ce!==null){c(B,q);var Ee=[],Be=void 0,St=[];for(Be=l(Ee,g,ce),ie=ie||Be,I=0;I<Ee.length;I++){var Ct=a(n(Ee[I],K),K);i(q,[Ct],K,y,St)}q=St,B=[]}else B.push(K)}else{for(ie=!0,G=[],c(B,q),R=0;R<q.length;R++)if(Q=q[R],g.length===0)Q.length>0&&Q[0].elements.push(new D(K.combinator,"",K.isVariable,K._index,K._fileInfo)),G.push(Q);else for(I=0;I<g.length;I++){var Ni=s(Q,g[I],K,y);G.push(Ni)}q=G,B=[]}for(c(B,q),w=0;w<q.length;w++)oe=q[w].length,oe>0&&(f.push(q[w]),ne=q[w][oe-1],q[w][oe-1]=ne.createDerived(ne.elements,y.extendList));return ie}function b(f,g){var y=g.createDerived(g.elements,g.extendList,g.evaldCondition);return y.copyVisibilityInfo(f),y}var E,k,M;if(k=[],M=l(k,t,r),!M)if(t.length>0)for(k=[],E=0;E<t.length;E++){var o=t[E].map(b.bind(this,r.visibilityInfo()));o.push(r),k.push(o)}else k=[[r]];for(E=0;E<k.length;E++)e.push(k[E])}});var mt=function(e,t,r){this.numerator=e?ee(e).sort():[],this.denominator=t?ee(t).sort():[],r?this.backupUnit=r:e&&e.length&&(this.backupUnit=e[0])};mt.prototype=Object.assign(new T,{type:"Unit",clone:function(){return new mt(ee(this.numerator),ee(this.denominator),this.backupUnit)},genCSS:function(e,t){var r=e&&e.strictUnits;this.numerator.length===1?t.add(this.numerator[0]):!r&&this.backupUnit?t.add(this.backupUnit):!r&&this.denominator.length&&t.add(this.denominator[0])},toString:function(){var e,t=this.numerator.join("*");for(e=0;e<this.denominator.length;e++)t+="/".concat(this.denominator[e]);return t},compare:function(e){return this.is(e.toString())?0:void 0},is:function(e){return this.toString().toUpperCase()===e.toUpperCase()},isLength:function(){return RegExp("^(px|em|ex|ch|rem|in|cm|mm|pc|pt|ex|vw|vh|vmin|vmax)$","gi").test(this.toCSS())},isEmpty:function(){return this.numerator.length===0&&this.denominator.length===0},isSingular:function(){return this.numerator.length<=1&&this.denominator.length===0},map:function(e){var t;for(t=0;t<this.numerator.length;t++)this.numerator[t]=e(this.numerator[t],!1);for(t=0;t<this.denominator.length;t++)this.denominator[t]=e(this.denominator[t],!0)},usedUnits:function(){var e,t={},r,n;r=function(a){return e.hasOwnProperty(a)&&!t[n]&&(t[n]=a),a};for(n in V)V.hasOwnProperty(n)&&(e=V[n],this.map(r));return t},cancel:function(){var e={},t,r;for(r=0;r<this.numerator.length;r++)t=this.numerator[r],e[t]=(e[t]||0)+1;for(r=0;r<this.denominator.length;r++)t=this.denominator[r],e[t]=(e[t]||0)-1;this.numerator=[],this.denominator=[];for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(n>0)for(r=0;r<n;r++)this.numerator.push(t);else if(n<0)for(r=0;r<-n;r++)this.denominator.push(t)}this.numerator.sort(),this.denominator.sort()}});var ae=function(e,t){if(this.value=parseFloat(e),isNaN(this.value))throw new Error("Dimension is not a number.");this.unit=t&&t instanceof mt?t:new mt(t?[t]:void 0),this.setParent(this.unit,this)};ae.prototype=Object.assign(new T,{type:"Dimension",accept:function(e){this.unit=e.visit(this.unit)},eval:function(e){return this},toColor:function(){return new j([this.value,this.value,this.value])},genCSS:function(e,t){if(e&&e.strictUnits&&!this.unit.isSingular())throw new Error("Multiple units in dimension. Correct the units or use the unit function. Bad unit: ".concat(this.unit.toString()));var r=this.fround(e,this.value),n=String(r);if(r!==0&&r<1e-6&&r>-1e-6&&(n=r.toFixed(20).replace(/0+$/,"")),e&&e.compress){if(r===0&&this.unit.isLength()){t.add(n);return}r>0&&r<1&&(n=n.substr(1))}t.add(n),this.unit.genCSS(e,t)},operate:function(e,t,r){var n=this._operate(e,t,this.value,r.value),a=this.unit.clone();if(t==="+"||t==="-"){if(a.numerator.length===0&&a.denominator.length===0)a=r.unit.clone(),this.unit.backupUnit&&(a.backupUnit=this.unit.backupUnit);else if(!(r.unit.numerator.length===0&&a.denominator.length===0)){if(r=r.convertTo(this.unit.usedUnits()),e.strictUnits&&r.unit.toString()!==a.toString())throw new Error("Incompatible units. Change the units or use the unit function. "+"Bad units: '".concat(a.toString(),"' and '").concat(r.unit.toString(),"'."));n=this._operate(e,t,this.value,r.value)}}else t==="*"?(a.numerator=a.numerator.concat(r.unit.numerator).sort(),a.denominator=a.denominator.concat(r.unit.denominator).sort(),a.cancel()):t==="/"&&(a.numerator=a.numerator.concat(r.unit.denominator).sort(),a.denominator=a.denominator.concat(r.unit.numerator).sort(),a.cancel());return new ae(n,a)},compare:function(e){var t,r;if(e instanceof ae){if(this.unit.isEmpty()||e.unit.isEmpty())t=this,r=e;else if(t=this.unify(),r=e.unify(),t.unit.compare(r.unit)!==0)return;return T.numericCompare(t.value,r.value)}},unify:function(){return this.convertTo({length:"px",duration:"s",angle:"rad"})},convertTo:function(e){var t=this.value,r=this.unit.clone(),n,a,s,i,c={},l;if(typeof e=="string"){for(n in V)V[n].hasOwnProperty(e)&&(c={},c[n]=e);e=c}l=function(b,E){return s.hasOwnProperty(b)?(E?t=t/(s[b]/s[i]):t=t*(s[b]/s[i]),i):b};for(a in e)e.hasOwnProperty(a)&&(i=e[a],s=V[a],r.map(l));return r.cancel(),new ae(t,r)}});var xe=function(e,t){if(this.value=e,this.noSpacing=t,!e)throw new Error("Expression requires an array parameter")};xe.prototype=Object.assign(new T,{type:"Expression",accept:function(e){this.value=e.visitArray(this.value)},eval:function(e){var t=this.noSpacing,r,n=e.isMathOn(),a=this.parens,s=!1;return a&&e.inParenthesis(),this.value.length>1?r=new xe(this.value.map(function(i){return i.eval?i.eval(e):i}),this.noSpacing):this.value.length===1?(this.value[0].parens&&!this.value[0].parensInOp&&!e.inCalc&&(s=!0),r=this.value[0].eval(e)):r=this,a&&e.outOfParenthesis(),this.parens&&this.parensInOp&&!n&&!s&&!(r instanceof ae)&&(r=new x(r)),r.noSpacing=r.noSpacing||t,r},genCSS:function(e,t){for(var r=0;r<this.value.length;r++)this.value[r].genCSS(e,t),!this.noSpacing&&r+1<this.value.length&&(r+1<this.value.length&&!(this.value[r+1]instanceof fe)||this.value[r+1]instanceof fe&&this.value[r+1].value!==",")&&t.add(" ")},throwAwayComments:function(){this.value=this.value.filter(function(e){return!(e instanceof gt)})}});var Vt={isRulesetLike:function(){return!0},accept:function(e){this.features&&(this.features=e.visit(this.features)),this.rules&&(this.rules=e.visitArray(this.rules))},evalFunction:function(){if(!(!this.features||!Array.isArray(this.features.value)||this.features.value.length<1))for(var e=this.features.value,t,r,n=0;n<e.length;++n)t=e[n],t.type==="Keyword"&&n+1<e.length&&(t.noSpacing||t.noSpacing==null)&&(r=e[n+1],r.type==="Paren"&&r.noSpacing&&(e[n]=new xe([t,r]),e.splice(n+1,1),e[n].noSpacing=!0))},evalTop:function(e){this.evalFunction();var t=this;if(e.mediaBlocks.length>1){var r=new de([],null,null,this.getIndex(),this.fileInfo()).createEmptySelectors();t=new he(r,e.mediaBlocks),t.multiMedia=!0,t.copyVisibilityInfo(this.visibilityInfo()),this.setParent(t,this)}return delete e.mediaBlocks,delete e.mediaPath,t},evalNested:function(e){this.evalFunction();var t,r,n=e.mediaPath.concat([this]);for(t=0;t<n.length;t++){if(n[t].type!==this.type)return e.mediaBlocks.splice(t,1),this;r=n[t].features instanceof Je?n[t].features.value:n[t].features,n[t]=Array.isArray(r)?r:[r]}return this.features=new Je(this.permute(n).map(function(a){for(a=a.map(function(s){return s.toCSS?s:new fe(s)}),t=a.length-1;t>0;t--)a.splice(t,0,new fe("and"));return new xe(a)})),this.setParent(this.features,this),new he([],[])},permute:function(e){if(e.length===0)return[];if(e.length===1)return e[0];for(var t=[],r=this.permute(e.slice(1)),n=0;n<r.length;n++)for(var a=0;a<e[0].length;a++)t.push([e[0][a]].concat(r[n]));return t},bubbleSelectors:function(e){e&&(this.rules=[new he(ee(e),[this.rules[0]])],this.setParent(this.rules,this))}},yt=function(e,t,r,n,a,s,i,c){var l=this,b,E=new de([],null,null,this._index,this._fileInfo).createEmptySelectors();if(this.name=e,this.value=t instanceof T?t:t&&new fe(t),r){if(Array.isArray(r)){var k=this.declarationsBlock(r),M=!0;r.forEach(function(o){o.type==="Ruleset"&&o.rules&&(M=M&&l.declarationsBlock(o.rules,!0))}),k&&!i?(this.simpleBlock=!0,this.declarations=r):M&&r.length===1&&!i&&!t?(this.simpleBlock=!0,this.declarations=r[0].rules?r[0].rules:r):this.rules=r}else{var k=this.declarationsBlock(r.rules);k&&!i&&!t?(this.simpleBlock=!0,this.declarations=r.rules):(this.rules=[r],this.rules[0].selectors=new de([],null,null,n,a).createEmptySelectors())}if(!this.simpleBlock)for(b=0;b<this.rules.length;b++)this.rules[b].allowImports=!0;this.setParent(E,this),this.setParent(this.rules,this)}this._index=n,this._fileInfo=a,this.debugInfo=s,this.isRooted=i||!1,this.copyVisibilityInfo(c),this.allowRoot=!0};yt.prototype=Object.assign(new T,W(W({type:"AtRule"},Vt),{declarationsBlock:function(e,t){return t===void 0&&(t=!1),t?e.filter(function(r){return r.type==="Declaration"||r.type==="Comment"}).length===e.length:e.filter(function(r){return(r.type==="Declaration"||r.type==="Comment")&&!r.merge}).length===e.length},keywordList:function(e){return Array.isArray(e)?e.filter(function(t){return t.type==="Keyword"||t.type==="Comment"}).length===e.length:!1},accept:function(e){var t=this.value,r=this.rules,n=this.declarations;r?this.rules=e.visitArray(r):n&&(this.declarations=e.visitArray(n)),t&&(this.value=e.visit(t))},isRulesetLike:function(){return this.rules||!this.isCharset()},isCharset:function(){return this.name==="@charset"},genCSS:function(e,t){var r=this.value,n=this.rules||this.declarations;t.add(this.name,this.fileInfo(),this.getIndex()),r&&(t.add(" "),r.genCSS(e,t)),this.simpleBlock?this.outputRuleset(e,t,this.declarations):n?this.outputRuleset(e,t,n):t.add(";")},eval:function(e){var t,r,n=this.value,a=this.rules||this.declarations;if(t=e.mediaPath,r=e.mediaBlocks,e.mediaPath=[],e.mediaBlocks=[],n&&(n=n.eval(e),n.value&&this.keywordList(n.value)&&(n=new fe(n.value.map(function(c){return c.value}).join(", "),this.getIndex(),this.fileInfo()))),a&&(a=this.evalRoot(e,a)),Array.isArray(a)&&a[0].rules&&Array.isArray(a[0].rules)&&a[0].rules.length){var s=this.declarationsBlock(a[0].rules,!0);if(s&&!this.isRooted&&!n){var i=e.pluginManager.less.visitors.ToCSSVisitor.prototype._mergeRules;i(a[0].rules),a=a[0].rules,a.forEach(function(c){return c.merge=!1})}}return this.simpleBlock&&a&&(a[0].functionRegistry=e.frames[0].functionRegistry.inherit(),a=a.map(function(c){return c.eval(e)})),e.mediaPath=t,e.mediaBlocks=r,new yt(this.name,n,a,this.getIndex(),this.fileInfo(),this.debugInfo,this.isRooted,this.visibilityInfo())},evalRoot:function(e,t){var r=0,n=0,a=!0,s=!1;this.simpleBlock||(t=[t[0].eval(e)]);var i=[];if(e.frames.length>0)for(var c=function(E){var k=e.frames[E];if(k.type==="Ruleset"&&k.rules&&k.rules.length>0&&k&&!k.root&&k.selectors&&k.selectors.length>0&&(i=i.concat(k.selectors)),i.length>0){for(var M="",o={add:function(g){M+=g}},f=0;f<i.length;f++)i[f].genCSS(e,o);/^&+$/.test(M.replace(/\s+/g,""))?(a=!1,n++):(s=!1,r++)}},l=0;l<e.frames.length;l++)c(l);var b=r>0&&n>0&&!s&&!a;return(this.isRooted&&r>0&&n===0&&!s&&a||!b)&&(t[0].root=!0),t},variable:function(e){if(this.rules)return he.prototype.variable.call(this.rules[0],e)},find:function(){if(this.rules)return he.prototype.find.apply(this.rules[0],arguments)},rulesets:function(){if(this.rules)return he.prototype.rulesets.apply(this.rules[0])},outputRuleset:function(e,t,r){var n=r.length,a;if(e.tabLevel=(e.tabLevel|0)+1,e.compress){for(t.add("{"),a=0;a<n;a++)r[a].genCSS(e,t);t.add("}"),e.tabLevel--;return}var s=`
`.concat(Array(e.tabLevel).join("  ")),i="".concat(s,"  ");if(!n)t.add(" {".concat(s,"}"));else{for(t.add(" {".concat(i)),r[0].genCSS(e,t),a=1;a<n;a++)t.add(i),r[a].genCSS(e,t);t.add("".concat(s,"}"))}e.tabLevel--}}));var st=function(e,t){this.ruleset=e,this.frames=t,this.setParent(this.ruleset,this)};st.prototype=Object.assign(new T,{type:"DetachedRuleset",evalFirst:!0,accept:function(e){this.ruleset=e.visit(this.ruleset)},eval:function(e){var t=this.frames||ee(e.frames);return new st(this.ruleset,t)},callEval:function(e){return this.ruleset.eval(this.frames?new ue.Eval(e,this.frames.concat(e.frames)):e)}});var li=F,qe=function(e,t,r){this.op=e.trim(),this.operands=t,this.isSpaced=r};qe.prototype=Object.assign(new T,{type:"Operation",accept:function(e){this.operands=e.visitArray(this.operands)},eval:function(e){var t=this.operands[0].eval(e),r=this.operands[1].eval(e),n;if(e.isMathOn(this.op)){if(n=this.op==="./"?"/":this.op,t instanceof ae&&r instanceof j&&(t=t.toColor()),r instanceof ae&&t instanceof j&&(r=r.toColor()),!t.operate||!r.operate){if((t instanceof qe||r instanceof qe)&&t.op==="/"&&e.math===li.PARENS_DIVISION)return new qe(this.op,[t,r],this.isSpaced);throw{type:"Operation",message:"Operation on an invalid type"}}return t.operate(e,n,r)}else return new qe(this.op,[t,r],this.isSpaced)},genCSS:function(e,t){this.operands[0].genCSS(e,t),this.isSpaced&&t.add(" "),t.add(this.op),this.isSpaced&&t.add(" "),this.operands[1].genCSS(e,t)}});var Nr=(function(){function e(t,r,n,a){this.name=t.toLowerCase(),this.index=n,this.context=r,this.currentFileInfo=a,this.func=r.frames[0].functionRegistry.get(this.name)}return e.prototype.isValid=function(){return!!this.func},e.prototype.call=function(t){var r=this;Array.isArray(t)||(t=[t]);var n=this.func.evalArgs;n!==!1&&(t=t.map(function(s){return s.eval(r.context)}));var a=function(s){return s.type!=="Comment"};return t=t.filter(a).map(function(s){if(s.type==="Expression"){var i=s.value.filter(a);return i.length===1?s.parens&&i[0].op==="/"?s:i[0]:new xe(i)}return s}),n===!1?this.func.apply(this,J([this.context],t,!1)):this.func.apply(this,t)},e})(),Mt=function(e,t,r,n){this.name=e,this.args=t,this.calc=e==="calc",this._index=r,this._fileInfo=n};Mt.prototype=Object.assign(new T,{type:"Call",accept:function(e){this.args&&(this.args=e.visitArray(this.args))},eval:function(e){var t=this,r=e.mathOn;e.mathOn=!this.calc,(this.calc||e.inCalc)&&e.enterCalc();var n=function(){(t.calc||e.inCalc)&&e.exitCalc(),e.mathOn=r},a,s=new Nr(this.name,e,this.getIndex(),this.fileInfo());if(s.isValid())try{a=s.call(this.args),n()}catch(c){throw c.hasOwnProperty("line")&&c.hasOwnProperty("column")?c:{type:c.type||"Runtime",message:"Error evaluating function `".concat(this.name,"`").concat(c.message?": ".concat(c.message):""),index:this.getIndex(),filename:this.fileInfo().filename,line:c.lineNumber,column:c.columnNumber}}if(a!=null)return a instanceof T||(!a||a===!0?a=new fe(null):a=new fe(a.toString())),a._index=this._index,a._fileInfo=this._fileInfo,a;var i=this.args.map(function(c){return c.eval(e)});return n(),new Mt(this.name,i,this.getIndex(),this.fileInfo())},genCSS:function(e,t){t.add("".concat(this.name,"("),this.fileInfo(),this.getIndex());for(var r=0;r<this.args.length;r++)this.args[r].genCSS(e,t),r+1<this.args.length&&t.add(", ");t.add(")")}});var je=function(e,t,r){this.name=e,this._index=t,this._fileInfo=r};je.prototype=Object.assign(new T,{type:"Variable",eval:function(e){var t,r=this.name;if(r.indexOf("@@")===0&&(r="@".concat(new je(r.slice(1),this.getIndex(),this.fileInfo()).eval(e).value)),this.evaluating)throw{type:"Name",message:"Recursive variable definition for ".concat(r),filename:this.fileInfo().filename,index:this.getIndex()};if(this.evaluating=!0,t=this.find(e.frames,function(n){var a=n.variable(r);if(a){if(a.important){var s=e.importantScope[e.importantScope.length-1];s.important=a.important}return e.inCalc?new Mt("_SELF",[a.value]).eval(e):a.value.eval(e)}}),t)return this.evaluating=!1,t;throw{type:"Name",message:"variable ".concat(r," is undefined"),filename:this.fileInfo().filename,index:this.getIndex()}},find:function(e,t){for(var r=0,n=void 0;r<e.length;r++)if(n=t.call(e,e[r]),n)return n;return null}});var Nt=function(e,t,r){this.name=e,this._index=t,this._fileInfo=r};Nt.prototype=Object.assign(new T,{type:"Property",eval:function(e){var t,r=this.name,n=e.pluginManager.less.visitors.ToCSSVisitor.prototype._mergeRules;if(this.evaluating)throw{type:"Name",message:"Recursive property reference for ".concat(r),filename:this.fileInfo().filename,index:this.getIndex()};if(this.evaluating=!0,t=this.find(e.frames,function(a){var s,i=a.property(r);if(i){for(var c=0;c<i.length;c++)s=i[c],i[c]=new ge(s.name,s.value,s.important,s.merge,s.index,s.currentFileInfo,s.inline,s.variable);if(n(i),s=i[i.length-1],s.important){var l=e.importantScope[e.importantScope.length-1];l.important=s.important}return s=s.value.eval(e),s}}),t)return this.evaluating=!1,t;throw{type:"Name",message:"Property '".concat(r,"' is undefined"),filename:this.currentFileInfo.filename,index:this.index}},find:function(e,t){for(var r=0,n=void 0;r<e.length;r++)if(n=t.call(e,e[r]),n)return n;return null}});var Ut=function(e,t,r,n){this.key=e,this.op=t,this.value=r,this.cif=n};Ut.prototype=Object.assign(new T,{type:"Attribute",eval:function(e){return new Ut(this.key.eval?this.key.eval(e):this.key,this.op,this.value&&this.value.eval?this.value.eval(e):this.value,this.cif)},genCSS:function(e,t){t.add(this.toCSS(e))},toCSS:function(e){var t=this.key.toCSS?this.key.toCSS(e):this.key;return this.op&&(t+=this.op,t+=this.value.toCSS?this.value.toCSS(e):this.value),this.cif&&(t=t+" "+this.cif),"[".concat(t,"]")}});var Ae=function(e,t,r,n,a){this.escaped=r===void 0?!0:r,this.value=t||"",this.quote=e.charAt(0),this._index=n,this._fileInfo=a,this.variableRegex=/@\{([\w-]+)\}/g,this.propRegex=/\$\{([\w-]+)\}/g,this.allowRoot=r};Ae.prototype=Object.assign(new T,{type:"Quoted",genCSS:function(e,t){this.escaped||t.add(this.quote,this.fileInfo(),this.getIndex()),t.add(this.value),this.escaped||t.add(this.quote)},containsVariables:function(){return this.value.match(this.variableRegex)},eval:function(e){var t=this,r=this.value,n=function(i,c,l){var b=new je("@".concat(c??l),t.getIndex(),t.fileInfo()).eval(e,!0);return b instanceof Ae?b.value:b.toCSS()},a=function(i,c,l){var b=new Nt("$".concat(c??l),t.getIndex(),t.fileInfo()).eval(e,!0);return b instanceof Ae?b.value:b.toCSS()};function s(i,c,l){var b=i;do i=b.toString(),b=i.replace(c,l);while(i!==b);return b}return r=s(r,this.variableRegex,n),r=s(r,this.propRegex,a),new Ae(this.quote+r+this.quote,r,this.escaped,this.getIndex(),this.fileInfo())},compare:function(e){return e.type==="Quoted"&&!this.escaped&&!e.escaped?T.numericCompare(this.value,e.value):e.toCSS&&this.toCSS()===e.toCSS()?0:void 0}});function ui(e){return e.replace(/[()'"\s]/g,function(t){return"\\".concat(t)})}var $e=function(e,t,r,n){this.value=e,this._index=t,this._fileInfo=r,this.isEvald=n};$e.prototype=Object.assign(new T,{type:"Url",accept:function(e){this.value=e.visit(this.value)},genCSS:function(e,t){t.add("url("),this.value.genCSS(e,t),t.add(")")},eval:function(e){var t=this.value.eval(e),r;if(!this.isEvald&&(r=this.fileInfo()&&this.fileInfo().rootpath,typeof r=="string"&&typeof t.value=="string"&&e.pathRequiresRewrite(t.value)?(t.quote||(r=ui(r)),t.value=e.rewritePath(t.value,r)):t.value=e.normalizePath(t.value),e.urlArgs&&!t.value.match(/^\s*data:/))){var n=t.value.indexOf("?")===-1?"?":"&",a=n+e.urlArgs;t.value.indexOf("#")!==-1?t.value=t.value.replace("#","".concat(a,"#")):t.value+=a}return new $e(t,this.getIndex(),this.fileInfo(),!0)}});var wt=function(e,t,r,n,a){this._index=r,this._fileInfo=n;var s=new de([],null,null,this._index,this._fileInfo).createEmptySelectors();this.features=new Je(t),this.rules=[new he(s,e)],this.rules[0].allowImports=!0,this.copyVisibilityInfo(a),this.allowRoot=!0,this.setParent(s,this),this.setParent(this.features,this),this.setParent(this.rules,this)};wt.prototype=Object.assign(new yt,W(W({type:"Media"},Vt),{genCSS:function(e,t){t.add("@media ",this._fileInfo,this._index),this.features.genCSS(e,t),this.outputRuleset(e,t,this.rules)},eval:function(e){e.mediaBlocks||(e.mediaBlocks=[],e.mediaPath=[]);var t=new wt(null,[],this._index,this._fileInfo,this.visibilityInfo());return this.debugInfo&&(this.rules[0].debugInfo=this.debugInfo,t.debugInfo=this.debugInfo),t.features=this.features.eval(e),e.mediaPath.push(t),e.mediaBlocks.push(t),this.rules[0].functionRegistry=e.frames[0].functionRegistry.inherit(),e.frames.unshift(this.rules[0]),t.rules=[this.rules[0].eval(e)],e.frames.shift(),e.mediaPath.pop(),e.mediaPath.length===0?t.evalTop(e):t.evalNested(e)}}));var xt=function(e,t,r,n,a,s){if(this.options=r,this._index=n,this._fileInfo=a,this.path=e,this.features=t,this.allowRoot=!0,this.options.less!==void 0||this.options.inline)this.css=!this.options.less||this.options.inline;else{var i=this.getPath();i&&/[#.&?]css([?;].*)?$/.test(i)&&(this.css=!0)}this.copyVisibilityInfo(s),this.setParent(this.features,this),this.setParent(this.path,this)};xt.prototype=Object.assign(new T,{type:"Import",accept:function(e){this.features&&(this.features=e.visit(this.features)),this.path=e.visit(this.path),!this.options.isPlugin&&!this.options.inline&&this.root&&(this.root=e.visit(this.root))},genCSS:function(e,t){this.css&&this.path._fileInfo.reference===void 0&&(t.add("@import ",this._fileInfo,this._index),this.path.genCSS(e,t),this.features&&(t.add(" "),this.features.genCSS(e,t)),t.add(";"))},getPath:function(){return this.path instanceof $e?this.path.value.value:this.path.value},isVariableImport:function(){var e=this.path;return e instanceof $e&&(e=e.value),e instanceof Ae?e.containsVariables():!0},evalForImport:function(e){var t=this.path;return t instanceof $e&&(t=t.value),new xt(t.eval(e),this.features,this.options,this._index,this._fileInfo,this.visibilityInfo())},evalPath:function(e){var t=this.path.eval(e),r=this._fileInfo;if(!(t instanceof $e)){var n=t.value;r&&n&&e.pathRequiresRewrite(n)?t.value=e.rewritePath(n,r.rootpath):t.value=e.normalizePath(t.value)}return t},eval:function(e){var t=this.doEval(e);return(this.options.reference||this.blocksVisibility())&&(t.length||t.length===0?t.forEach(function(r){r.addVisibilityBlock()}):t.addVisibilityBlock()),t},doEval:function(e){var t,r,n=this.features&&this.features.eval(e);if(this.options.isPlugin){if(this.root&&this.root.eval)try{this.root.eval(e)}catch(b){throw b.message="Plugin error during evaluation",new le(b,this.root.imports,this.root.filename)}return r=e.frames[0]&&e.frames[0].functionRegistry,r&&this.root&&this.root.functions&&r.addMultiple(this.root.functions),[]}if(this.skip&&(typeof this.skip=="function"&&(this.skip=this.skip()),this.skip))return[];if(this.features){var a=this.features.value;if(Array.isArray(a)&&a.length>=1){var s=a[0];if(s.type==="Expression"&&Array.isArray(s.value)&&s.value.length>=2){a=s.value;var i=a[0].type==="Keyword"&&a[0].value==="layer"&&a[1].type==="Paren";i&&(this.css=!1)}}}if(this.options.inline){var c=new fe(this.root,0,{filename:this.importedFilename,reference:this.path._fileInfo&&this.path._fileInfo.reference},!0,!0);return this.features?new wt([c],this.features.value):[c]}else if(this.css||this.layerCss){var l=new xt(this.evalPath(e),n,this.options,this._index);if(this.layerCss&&(l.css=this.layerCss,l.path._fileInfo=this._fileInfo),!l.css&&this.error)throw this.error;return l}else if(this.root){if(this.features){var a=this.features.value;if(Array.isArray(a)&&a.length===1){var s=a[0];if(s.type==="Expression"&&Array.isArray(s.value)&&s.value.length>=2){a=s.value;var i=a[0].type==="Keyword"&&a[0].value==="layer"&&a[1].type==="Paren";if(i)return this.layerCss=!0,a[0]=new xe(a.slice(0,2)),a.splice(1,1),a[0].noSpacing=!0,this}}}return t=new he(null,ee(this.root.rules)),t.evalImports(e),this.features?new wt(t.rules,this.features.value):t.rules}else{if(this.features){var a=this.features.value;if(Array.isArray(a)&&a.length>=1&&(a=a[0].value,Array.isArray(a)&&a.length>=2)){var i=a[0].type==="Keyword"&&a[0].value==="layer"&&a[1].type==="Paren";if(i)return this.css=!0,a[0]=new xe(a.slice(0,2)),a.splice(1,1),a[0].noSpacing=!0,this}}return[]}}});var Ur=function(){};Ur.prototype=Object.assign(new T,{evaluateJavaScript:function(e,t){var r,n=this,a={};if(!t.javascriptEnabled)throw{message:"Inline JavaScript is not enabled. Is it set in your options?",filename:this.fileInfo().filename,index:this.getIndex()};e=e.replace(/@\{([\w-]+)\}/g,function(c,l){return n.jsify(new je("@".concat(l),n.getIndex(),n.fileInfo()).eval(t))});try{e=new Function("return (".concat(e,")"))}catch(c){throw{message:"JavaScript evaluation error: ".concat(c.message," from `").concat(e,"`"),filename:this.fileInfo().filename,index:this.getIndex()}}var s=t.frames[0].variables();for(var i in s)s.hasOwnProperty(i)&&(a[i.slice(1)]={value:s[i].value,toJS:function(){return this.value.eval(t).toCSS()}});try{r=e.call(a)}catch(c){throw{message:"JavaScript evaluation error: '".concat(c.name,": ").concat(c.message.replace(/["]/g,"'"),"'"),filename:this.fileInfo().filename,index:this.getIndex()}}return r},jsify:function(e){return Array.isArray(e.value)&&e.value.length>1?"[".concat(e.value.map(function(t){return t.toCSS()}).join(", "),"]"):e.toCSS()}});var qt=function(e,t,r,n){this.escaped=t,this.expression=e,this._index=r,this._fileInfo=n};qt.prototype=Object.assign(new Ur,{type:"JavaScript",eval:function(e){var t=this.evaluateJavaScript(this.expression,e),r=typeof t;return r==="number"&&!isNaN(t)?new ae(t):r==="string"?new Ae('"'.concat(t,'"'),t,this.escaped,this._index):Array.isArray(t)?new fe(t.join(", ")):new fe(t)}});var jt=function(e,t){this.key=e,this.value=t};jt.prototype=Object.assign(new T,{type:"Assignment",accept:function(e){this.value=e.visit(this.value)},eval:function(e){return this.value.eval?new jt(this.key,this.value.eval(e)):this},genCSS:function(e,t){t.add("".concat(this.key,"=")),this.value.genCSS?this.value.genCSS(e,t):t.add(this.value)}});var qr=function(e,t,r,n,a){this.op=e.trim(),this.lvalue=t,this.rvalue=r,this._index=n,this.negate=a};qr.prototype=Object.assign(new T,{type:"Condition",accept:function(e){this.lvalue=e.visit(this.lvalue),this.rvalue=e.visit(this.rvalue)},eval:function(e){var t=(function(r,n,a){switch(r){case"and":return n&&a;case"or":return n||a;default:switch(T.compare(n,a)){case-1:return r==="<"||r==="=<"||r==="<=";case 0:return r==="="||r===">="||r==="=<"||r==="<=";case 1:return r===">"||r===">=";default:return!1}}})(this.op,this.lvalue.eval(e),this.rvalue.eval(e));return this.negate?!t:t}});var jr=function(e,t,r,n,a,s){this.op=e.trim(),this.lvalue=t,this.mvalue=r,this.op2=n?n.trim():null,this.rvalue=a,this._index=s,this.mvalues=[]};jr.prototype=Object.assign(new T,{type:"QueryInParens",accept:function(e){this.lvalue=e.visit(this.lvalue),this.mvalue=e.visit(this.mvalue),this.rvalue&&(this.rvalue=e.visit(this.rvalue))},eval:function(e){this.lvalue=this.lvalue.eval(e);for(var t,r,n=0;(r=e.frames[n])&&!(r.type==="Ruleset"&&(t=r.rules.find(function(a){return!!(a instanceof ge&&a.variable)}),t));n++);return this.mvalueCopy||(this.mvalueCopy=X(this.mvalue)),t?(this.mvalue=this.mvalueCopy,this.mvalue=this.mvalue.eval(e),this.mvalues.push(this.mvalue)):this.mvalue=this.mvalue.eval(e),this.rvalue&&(this.rvalue=this.rvalue.eval(e)),this},genCSS:function(e,t){this.lvalue.genCSS(e,t),t.add(" "+this.op+" "),this.mvalues.length>0&&(this.mvalue=this.mvalues.shift()),this.mvalue.genCSS(e,t),this.rvalue&&(t.add(" "+this.op2+" "),this.rvalue.genCSS(e,t))}});var zt=function(e,t,r,n,a){this._index=r,this._fileInfo=n;var s=new de([],null,null,this._index,this._fileInfo).createEmptySelectors();this.features=new Je(t),this.rules=[new he(s,e)],this.rules[0].allowImports=!0,this.copyVisibilityInfo(a),this.allowRoot=!0,this.setParent(s,this),this.setParent(this.features,this),this.setParent(this.rules,this)};zt.prototype=Object.assign(new yt,W(W({type:"Container"},Vt),{genCSS:function(e,t){t.add("@container ",this._fileInfo,this._index),this.features.genCSS(e,t),this.outputRuleset(e,t,this.rules)},eval:function(e){e.mediaBlocks||(e.mediaBlocks=[],e.mediaPath=[]);var t=new zt(null,[],this._index,this._fileInfo,this.visibilityInfo());return this.debugInfo&&(this.rules[0].debugInfo=this.debugInfo,t.debugInfo=this.debugInfo),t.features=this.features.eval(e),e.mediaPath.push(t),e.mediaBlocks.push(t),this.rules[0].functionRegistry=e.frames[0].functionRegistry.inherit(),e.frames.unshift(this.rules[0]),t.rules=[this.rules[0].eval(e)],e.frames.shift(),e.mediaPath.pop(),e.mediaPath.length===0?t.evalTop(e):t.evalNested(e)}}));var zr=function(e){this.value=e};zr.prototype=Object.assign(new T,{type:"UnicodeDescriptor"});var Ht=function(e){this.value=e};Ht.prototype=Object.assign(new T,{type:"Negative",genCSS:function(e,t){t.add("-"),this.value.genCSS(e,t)},eval:function(e){return e.isMathOn()?new qe("*",[new ae(-1),this.value]).eval(e):new Ht(this.value.eval(e))}});var ot=function(e,t,r,n,a){switch(this.selector=e,this.option=t,this.object_id=ot.next_id++,this.parent_ids=[this.object_id],this._index=r,this._fileInfo=n,this.copyVisibilityInfo(a),this.allowRoot=!0,t){case"!all":case"all":this.allowBefore=!0,this.allowAfter=!0;break;default:this.allowBefore=!1,this.allowAfter=!1;break}this.setParent(this.selector,this)};ot.prototype=Object.assign(new T,{type:"Extend",accept:function(e){this.selector=e.visit(this.selector)},eval:function(e){return new ot(this.selector.eval(e),this.option,this.getIndex(),this.fileInfo(),this.visibilityInfo())},clone:function(e){return new ot(this.selector,this.option,this.getIndex(),this.fileInfo(),this.visibilityInfo())},findSelfSelectors:function(e){var t=[],r,n;for(r=0;r<e.length;r++)n=e[r].elements,r>0&&n.length&&n[0].combinator.value===""&&(n[0].combinator.value=" "),t=t.concat(e[r].elements);this.selfSelectors=[new de(t)],this.selfSelectors[0].copyVisibilityInfo(this.visibilityInfo())}}),ot.next_id=0;var Hr=function(e,t,r){this.variable=e,this._index=t,this._fileInfo=r,this.allowRoot=!0};Hr.prototype=Object.assign(new T,{type:"VariableCall",eval:function(e){var t,r=new je(this.variable,this.getIndex(),this.fileInfo()).eval(e),n=new le({message:"Could not evaluate variable call ".concat(this.variable)});if(!r.ruleset){if(r.rules)t=r;else if(Array.isArray(r))t=new he("",r);else if(Array.isArray(r.value))t=new he("",r.value);else throw n;r=new st(t)}if(r.ruleset)return r.callEval(e);throw n}});var Gr=function(e,t,r,n){this.value=e,this.lookups=t,this._index=r,this._fileInfo=n};Gr.prototype=Object.assign(new T,{type:"NamespaceValue",eval:function(e){var t,r,n=this.value.eval(e);for(t=0;t<this.lookups.length;t++){if(r=this.lookups[t],Array.isArray(n)&&(n=new he([new de],n)),r==="")n=n.lastDeclaration();else if(r.charAt(0)==="@"){if(r.charAt(1)==="@"&&(r="@".concat(new je(r.substr(1)).eval(e).value)),n.variables&&(n=n.variable(r)),!n)throw{type:"Name",message:"variable ".concat(r," not found"),filename:this.fileInfo().filename,index:this.getIndex()}}else{if(r.substring(0,2)==="$@"?r="$".concat(new je(r.substr(1)).eval(e).value):r=r.charAt(0)==="$"?r:"$".concat(r),n.properties&&(n=n.property(r)),!n)throw{type:"Name",message:'property "'.concat(r.substr(1),'" not found'),filename:this.fileInfo().filename,index:this.getIndex()};n=n[n.length-1]}n.value&&(n=n.eval(e).value),n.ruleset&&(n=n.ruleset.eval(e))}return n}});var Xe=function(e,t,r,n,a,s,i){this.name=e||"anonymous mixin",this.selectors=[new de([new D(null,e,!1,this._index,this._fileInfo)])],this.params=t,this.condition=n,this.variadic=a,this.arity=t.length,this.rules=r,this._lookups={};var c=[];this.required=t.reduce(function(l,b){return!b.name||b.name&&!b.value?l+1:(c.push(b.name),l)},0),this.optionalParameters=c,this.frames=s,this.copyVisibilityInfo(i),this.allowRoot=!0};Xe.prototype=Object.assign(new he,{type:"MixinDefinition",evalFirst:!0,accept:function(e){this.params&&this.params.length&&(this.params=e.visitArray(this.params)),this.rules=e.visitArray(this.rules),this.condition&&(this.condition=e.visit(this.condition))},evalParams:function(e,t,r,n){var a=new he(null,null),s,i,c=ee(this.params),l,b,E,k,M,o,f=0;if(t.frames&&t.frames[0]&&t.frames[0].functionRegistry&&(a.functionRegistry=t.frames[0].functionRegistry.inherit()),t=new ue.Eval(t,[a].concat(t.frames)),r){for(r=ee(r),f=r.length,l=0;l<f;l++)if(i=r[l],k=i&&i.name){for(M=!1,b=0;b<c.length;b++)if(!n[b]&&k===c[b].name){n[b]=i.value.eval(e),a.prependRule(new ge(k,i.value.eval(e))),M=!0;break}if(M){r.splice(l,1),l--;continue}else throw{type:"Runtime",message:"Named argument for ".concat(this.name," ").concat(r[l].name," not found")}}}for(o=0,l=0;l<c.length;l++)if(!n[l]){if(i=r&&r[o],k=c[l].name)if(c[l].variadic){for(s=[],b=o;b<f;b++)s.push(r[b].value.eval(e));a.prependRule(new ge(k,new xe(s).eval(e)))}else{if(E=i&&i.value,E)Array.isArray(E)?E=new st(new he("",E)):E=E.eval(e);else if(c[l].value)E=c[l].value.eval(t),a.resetCache();else throw{type:"Runtime",message:"wrong number of arguments for ".concat(this.name," (").concat(f," for ").concat(this.arity,")")};a.prependRule(new ge(k,E)),n[l]=E}if(c[l].variadic&&r)for(b=o;b<f;b++)n[b]=r[b].value.eval(e);o++}return a},makeImportant:function(){var e=this.rules?this.rules.map(function(r){return r.makeImportant?r.makeImportant(!0):r}):this.rules,t=new Xe(this.name,this.params,e,this.condition,this.variadic,this.frames);return t},eval:function(e){return new Xe(this.name,this.params,this.rules,this.condition,this.variadic,this.frames||ee(e.frames))},evalCall:function(e,t,r){var n=[],a=this.frames?this.frames.concat(e.frames):e.frames,s=this.evalParams(e,new ue.Eval(e,a),t,n),i,c;return s.prependRule(new ge("@arguments",new xe(n).eval(e))),i=ee(this.rules),c=new he(null,i),c.originalRuleset=this,c=c.eval(new ue.Eval(e,[this,s].concat(a))),r&&(c=c.makeImportant()),c},matchCondition:function(e,t){return!(this.condition&&!this.condition.eval(new ue.Eval(t,[this.evalParams(t,new ue.Eval(t,this.frames?this.frames.concat(t.frames):t.frames),e,[])].concat(this.frames||[]).concat(t.frames))))},matchArgs:function(e,t){var r=e&&e.length||0,n,a=this.optionalParameters,s=e?e.reduce(function(c,l){return a.indexOf(l.name)<0?c+1:c},0):0;if(this.variadic){if(s<this.required-1)return!1}else if(s<this.required||r>this.params.length)return!1;n=Math.min(s,this.arity);for(var i=0;i<n;i++)if(!this.params[i].name&&!this.params[i].variadic&&e[i].value.eval(t).toCSS()!=this.params[i].value.eval(t).toCSS())return!1;return!0}});var Jr=function(e,t,r,n,a){this.selector=new de(e),this.arguments=t||[],this._index=r,this._fileInfo=n,this.important=a,this.allowRoot=!0,this.setParent(this.selector,this)};Jr.prototype=Object.assign(new T,{type:"MixinCall",accept:function(e){this.selector&&(this.selector=e.visit(this.selector)),this.arguments.length&&(this.arguments=e.visitArray(this.arguments))},eval:function(e){var t,r,n,a=[],s,i,c=[],l=!1,b,E,k,M,o,f=[],g,y=[],w,R=-1,I=0,B=1,q=2,G,Q,K;this.selector=this.selector.eval(e);function ie(ne,se){var ce,Ee,Be;for(ce=0;ce<2;ce++){for(y[ce]=!0,at.value(ce),Ee=0;Ee<se.length&&y[ce];Ee++)Be=se[Ee],Be.matchCondition&&(y[ce]=y[ce]&&Be.matchCondition(null,e));ne.matchCondition&&(y[ce]=y[ce]&&ne.matchCondition(a,e))}return y[0]||y[1]?y[0]!=y[1]?y[1]?B:q:I:R}for(b=0;b<this.arguments.length;b++)if(s=this.arguments[b],i=s.value.eval(e),s.expand&&Array.isArray(i.value))for(i=i.value,E=0;E<i.length;E++)a.push({value:i[E]});else a.push({name:s.name,value:i});for(K=function(ne){return ne.matchArgs(null,e)},b=0;b<e.frames.length;b++)if((t=e.frames[b].find(this.selector,null,K)).length>0){for(o=!0,E=0;E<t.length;E++){for(r=t[E].rule,n=t[E].path,M=!1,k=0;k<e.frames.length;k++)if(!(r instanceof Xe)&&r===(e.frames[k].originalRuleset||e.frames[k])){M=!0;break}M||r.matchArgs(a,e)&&(g={mixin:r,group:ie(r,n)},g.group!==R&&f.push(g),l=!0)}for(at.reset(),G=[0,0,0],E=0;E<f.length;E++)G[f[E].group]++;if(G[I]>0)w=q;else if(w=B,G[B]+G[q]>1)throw{type:"Runtime",message:"Ambiguous use of `default()` found when matching for `".concat(this.format(a),"`"),index:this.getIndex(),filename:this.fileInfo().filename};for(E=0;E<f.length;E++)if(g=f[E].group,g===I||g===w)try{r=f[E].mixin,r instanceof Xe||(Q=r.originalRuleset||r,r=new Xe("",[],r.rules,null,!1,null,Q.visibilityInfo()),r.originalRuleset=Q);var oe=r.evalCall(e,a,this.important).rules;this._setVisibilityToReplacement(oe),Array.prototype.push.apply(c,oe)}catch(ne){throw{message:ne.message,index:this.getIndex(),filename:this.fileInfo().filename,stack:ne.stack}}if(l)return c}throw o?{type:"Runtime",message:"No matching definition was found for `".concat(this.format(a),"`"),index:this.getIndex(),filename:this.fileInfo().filename}:{type:"Name",message:"".concat(this.selector.toCSS().trim()," is undefined"),index:this.getIndex(),filename:this.fileInfo().filename}},_setVisibilityToReplacement:function(e){var t,r;if(this.blocksVisibility())for(t=0;t<e.length;t++)r=e[t],r.addVisibilityBlock()},format:function(e){return"".concat(this.selector.toCSS().trim(),"(").concat(e?e.map(function(t){var r="";return t.name&&(r+="".concat(t.name,":")),t.value.toCSS?r+=t.value.toCSS():r+="???",r}).join(", "):"",")")}});var _={Node:T,Color:j,AtRule:yt,DetachedRuleset:st,Operation:qe,Dimension:ae,Unit:mt,Keyword:ve,Variable:je,Property:Nt,Ruleset:he,Element:D,Attribute:Ut,Combinator:L,Selector:de,Quoted:Ae,Expression:xe,Declaration:ge,Call:Mt,URL:$e,Import:xt,Comment:gt,Anonymous:fe,Value:Je,JavaScript:qt,Assignment:jt,Condition:qr,Paren:x,Media:wt,Container:zt,QueryInParens:jr,UnicodeDescriptor:zr,Negative:Ht,Extend:ot,VariableCall:Hr,NamespaceValue:Gr,mixin:{Call:Jr,Definition:Xe}},Wr=(function(){function e(){}return e.prototype.getPath=function(t){var r=t.lastIndexOf("?");return r>0&&(t=t.slice(0,r)),r=t.lastIndexOf("/"),r<0&&(r=t.lastIndexOf("\\")),r<0?"":t.slice(0,r+1)},e.prototype.tryAppendExtension=function(t,r){return/(\.[a-z]*$)|([?;].*)$/.test(t)?t:t+r},e.prototype.tryAppendLessExtension=function(t){return this.tryAppendExtension(t,".less")},e.prototype.supportsSync=function(){return!1},e.prototype.alwaysMakePathsAbsolute=function(){return!1},e.prototype.isPathAbsolute=function(t){return/^(?:[a-z-]+:|\/|\\|#)/i.test(t)},e.prototype.join=function(t,r){return t?t+r:r},e.prototype.pathDiff=function(t,r){var n=this.extractUrlParts(t),a=this.extractUrlParts(r),s,i,c,l,b="";if(n.hostPart!==a.hostPart)return"";for(i=Math.max(a.directories.length,n.directories.length),s=0;s<i&&a.directories[s]===n.directories[s];s++);for(l=a.directories.slice(s),c=n.directories.slice(s),s=0;s<l.length-1;s++)b+="../";for(s=0;s<c.length-1;s++)b+="".concat(c[s],"/");return b},e.prototype.extractUrlParts=function(t,r){var n=/^((?:[a-z-]+:)?\/{2}(?:[^/?#]*\/)|([/\\]))?((?:[^/\\?#]*[/\\])*)([^/\\?#]*)([#?].*)?$/i,a=t.match(n),s={},i=[],c=[],l,b;if(!a)throw new Error("Could not parse sheet href - '".concat(t,"'"));if(r&&(!a[1]||a[2])){if(b=r.match(n),!b)throw new Error("Could not parse page url - '".concat(r,"'"));a[1]=a[1]||b[1]||"",a[2]||(a[3]=b[3]+a[3])}if(a[3])for(i=a[3].replace(/\\/g,"/").split("/"),l=0;l<i.length;l++)i[l]===".."?c.pop():i[l]!=="."&&c.push(i[l]);return s.hostPart=a[1],s.directories=c,s.rawPath=(a[1]||"")+i.join("/"),s.path=(a[1]||"")+c.join("/"),s.filename=a[4],s.fileUrl=s.path+(a[4]||""),s.url=s.fileUrl+(a[5]||""),s},e})(),Kr=(function(){function e(){this.require=function(){return null}}return e.prototype.evalPlugin=function(t,r,n,a,s){var i,c,l,b,E,k,M;E=r.pluginManager,s&&(typeof s=="string"?k=s:k=s.filename);var o=new this.less.FileManager().extractUrlParts(k).filename;if(k&&(l=E.get(k),l)){if(M=this.trySetOptions(l,k,o,a),M)return M;try{l.use&&l.use.call(this.context,l)}catch(g){return g.message=g.message||"Error during @plugin call",new le(g,n,k)}return l}b={exports:{},pluginManager:E,fileInfo:s},c=be.create();var f=function(g){l=g};try{i=new Function("module","require","registerPlugin","functions","tree","less","fileInfo",t),i(b,this.require(k),f,c,this.less.tree,this.less,s)}catch(g){return new le(g,n,k)}if(l||(l=b.exports),l=this.validatePlugin(l,k,o),l instanceof le)return l;if(l){if(l.imports=n,l.filename=k,(!l.minVersion||this.compareVersion("3.0.0",l.minVersion)<0)&&(M=this.trySetOptions(l,k,o,a),M)||(E.addPlugin(l,s.filename,c),l.functions=c.getLocalFunctions(),M=this.trySetOptions(l,k,o,a),M))return M;try{l.use&&l.use.call(this.context,l)}catch(g){return g.message=g.message||"Error during @plugin call",new le(g,n,k)}}else return new le({message:"Not a valid plugin"},n,k);return l},e.prototype.trySetOptions=function(t,r,n,a){if(a&&!t.setOptions)return new le({message:"Options have been provided but the plugin ".concat(n," does not support any options.")});try{t.setOptions&&t.setOptions(a)}catch(s){return new le(s)}},e.prototype.validatePlugin=function(t,r,n){return t?(typeof t=="function"&&(t=new t),t.minVersion&&this.compareVersion(t.minVersion,this.less.version)<0?new le({message:"Plugin ".concat(n," requires version ").concat(this.versionToString(t.minVersion))}):t):null},e.prototype.compareVersion=function(t,r){typeof t=="string"&&(t=t.match(/^(\d+)\.?(\d+)?\.?(\d+)?/),t.shift());for(var n=0;n<t.length;n++)if(t[n]!==r[n])return parseInt(t[n])>parseInt(r[n])?-1:1;return 0},e.prototype.versionToString=function(t){for(var r="",n=0;n<t.length;n++)r+=(r?".":"")+t[n];return r},e.prototype.printUsage=function(t){for(var r=0;r<t.length;r++){var n=t[r];n.printUsage&&n.printUsage()}},e})();function ci(e){return e?ve.True:ve.False}function Qr(e,t,r,n){return t.eval(e)?r.eval(e):n?n.eval(e):new fe}Qr.evalArgs=!1;function Yr(e,t){try{return t.eval(e),ve.True}catch{return ve.False}}Yr.evalArgs=!1;var fi={isdefined:Yr,boolean:ci,if:Qr},Re;function ze(e){return Math.min(1,Math.max(0,e))}function Ke(e,t){var r=Re.hsla(t.h,t.s,t.l,t.a);if(r)return e.value&&/^(rgb|hsl)/.test(e.value)?r.value=e.value:r.value="rgb",r}function Pe(e){if(e.toHSL)return e.toHSL();throw new Error("Argument cannot be evaluated to a color")}function Gt(e){if(e.toHSV)return e.toHSV();throw new Error("Argument cannot be evaluated to a color")}function Fe(e){if(e instanceof ae)return parseFloat(e.unit.is("%")?e.value/100:e.value);if(typeof e=="number")return e;throw{type:"Argument",message:"color functions take numbers as parameters"}}function hi(e,t){return e instanceof ae&&e.unit.is("%")?parseFloat(e.value*t/100):Fe(e)}Re={rgb:function(e,t,r){var n=1;if(e instanceof xe){var a=e.value;if(e=a[0],t=a[1],r=a[2],r instanceof qe){var s=r;r=s.operands[0],n=s.operands[1]}}var i=Re.rgba(e,t,r,n);if(i)return i.value="rgb",i},rgba:function(e,t,r,n){try{if(e instanceof j)return t?n=Fe(t):n=e.alpha,new j(e.rgb,n,"rgba");var a=[e,t,r].map(function(s){return hi(s,255)});return n=Fe(n),new j(a,n,"rgba")}catch{}},hsl:function(e,t,r){var n=1;if(e instanceof xe){var a=e.value;if(e=a[0],t=a[1],r=a[2],r instanceof qe){var s=r;r=s.operands[0],n=s.operands[1]}}var i=Re.hsla(e,t,r,n);if(i)return i.value="hsl",i},hsla:function(e,t,r,n){var a,s;function i(l){return l=l<0?l+1:l>1?l-1:l,l*6<1?a+(s-a)*l*6:l*2<1?s:l*3<2?a+(s-a)*(2/3-l)*6:a}try{if(e instanceof j)return t?n=Fe(t):n=e.alpha,new j(e.rgb,n,"hsla");e=Fe(e)%360/360,t=ze(Fe(t)),r=ze(Fe(r)),n=ze(Fe(n)),s=r<=.5?r*(t+1):r+t-r*t,a=r*2-s;var c=[i(e+1/3)*255,i(e)*255,i(e-1/3)*255];return n=Fe(n),new j(c,n,"hsla")}catch{}},hsv:function(e,t,r){return Re.hsva(e,t,r,1)},hsva:function(e,t,r,n){e=Fe(e)%360/360*360,t=Fe(t),r=Fe(r),n=Fe(n);var a,s;a=Math.floor(e/60%6),s=e/60-a;var i=[r,r*(1-t),r*(1-s*t),r*(1-(1-s)*t)],c=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return Re.rgba(i[c[a][0]]*255,i[c[a][1]]*255,i[c[a][2]]*255,n)},hue:function(e){return new ae(Pe(e).h)},saturation:function(e){return new ae(Pe(e).s*100,"%")},lightness:function(e){return new ae(Pe(e).l*100,"%")},hsvhue:function(e){return new ae(Gt(e).h)},hsvsaturation:function(e){return new ae(Gt(e).s*100,"%")},hsvvalue:function(e){return new ae(Gt(e).v*100,"%")},red:function(e){return new ae(e.rgb[0])},green:function(e){return new ae(e.rgb[1])},blue:function(e){return new ae(e.rgb[2])},alpha:function(e){return new ae(Pe(e).a)},luma:function(e){return new ae(e.luma()*e.alpha*100,"%")},luminance:function(e){var t=.2126*e.rgb[0]/255+.7152*e.rgb[1]/255+.0722*e.rgb[2]/255;return new ae(t*e.alpha*100,"%")},saturate:function(e,t,r){if(!e.rgb)return null;var n=Pe(e);return typeof r<"u"&&r.value==="relative"?n.s+=n.s*t.value/100:n.s+=t.value/100,n.s=ze(n.s),Ke(e,n)},desaturate:function(e,t,r){var n=Pe(e);return typeof r<"u"&&r.value==="relative"?n.s-=n.s*t.value/100:n.s-=t.value/100,n.s=ze(n.s),Ke(e,n)},lighten:function(e,t,r){var n=Pe(e);return typeof r<"u"&&r.value==="relative"?n.l+=n.l*t.value/100:n.l+=t.value/100,n.l=ze(n.l),Ke(e,n)},darken:function(e,t,r){var n=Pe(e);return typeof r<"u"&&r.value==="relative"?n.l-=n.l*t.value/100:n.l-=t.value/100,n.l=ze(n.l),Ke(e,n)},fadein:function(e,t,r){var n=Pe(e);return typeof r<"u"&&r.value==="relative"?n.a+=n.a*t.value/100:n.a+=t.value/100,n.a=ze(n.a),Ke(e,n)},fadeout:function(e,t,r){var n=Pe(e);return typeof r<"u"&&r.value==="relative"?n.a-=n.a*t.value/100:n.a-=t.value/100,n.a=ze(n.a),Ke(e,n)},fade:function(e,t){var r=Pe(e);return r.a=t.value/100,r.a=ze(r.a),Ke(e,r)},spin:function(e,t){var r=Pe(e),n=(r.h+t.value)%360;return r.h=n<0?360+n:n,Ke(e,r)},mix:function(e,t,r){r||(r=new ae(50));var n=r.value/100,a=n*2-1,s=Pe(e).a-Pe(t).a,i=((a*s==-1?a:(a+s)/(1+a*s))+1)/2,c=1-i,l=[e.rgb[0]*i+t.rgb[0]*c,e.rgb[1]*i+t.rgb[1]*c,e.rgb[2]*i+t.rgb[2]*c],b=e.alpha*n+t.alpha*(1-n);return new j(l,b)},greyscale:function(e){return Re.desaturate(e,new ae(100))},contrast:function(e,t,r,n){if(!e.rgb)return null;if(typeof r>"u"&&(r=Re.rgba(255,255,255,1)),typeof t>"u"&&(t=Re.rgba(0,0,0,1)),t.luma()>r.luma()){var a=r;r=t,t=a}return typeof n>"u"?n=.43:n=Fe(n),e.luma()<n?r:t},argb:function(e){return new fe(e.toARGB())},color:function(e){if(e instanceof Ae&&/^#([A-Fa-f0-9]{8}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3,4})$/i.test(e.value)){var t=e.value.slice(1);return new j(t,void 0,"#".concat(t))}if(e instanceof j||(e=j.fromKeyword(e.value)))return e.value=void 0,e;throw{type:"Argument",message:"argument must be a color keyword or 3|4|6|8 digit hex e.g. #FFF"}},tint:function(e,t){return Re.mix(Re.rgb(255,255,255),e,t)},shade:function(e,t){return Re.mix(Re.rgb(0,0,0),e,t)}};var di=Re;function Jt(e,t,r){var n=t.alpha,a,s=r.alpha,i,c,l,b=[];c=s+n*(1-s);for(var E=0;E<3;E++)a=t.rgb[E]/255,i=r.rgb[E]/255,l=e(a,i),c&&(l=(s*i+n*(a-s*(a+i-l)))/c),b[E]=l*255;return new j(b,c)}var lt={multiply:function(e,t){return e*t},screen:function(e,t){return e+t-e*t},overlay:function(e,t){return e*=2,e<=1?lt.multiply(e,t):lt.screen(e-1,t)},softlight:function(e,t){var r=1,n=e;return t>.5&&(n=1,r=e>.25?Math.sqrt(e):((16*e-12)*e+4)*e),e-(1-2*t)*n*(r-e)},hardlight:function(e,t){return lt.overlay(t,e)},difference:function(e,t){return Math.abs(e-t)},exclusion:function(e,t){return e+t-2*e*t},average:function(e,t){return(e+t)/2},negation:function(e,t){return 1-Math.abs(e+t-1)}};for(var Wt in lt)lt.hasOwnProperty(Wt)&&(Jt[Wt]=Jt.bind(null,lt[Wt]));var pi=(function(e){var t=function(r,n){return new $e(n,r.index,r.currentFileInfo).eval(r.context)};return{"data-uri":function(r,n){n||(n=r,r=null);var a=r&&r.value,s=n.value,i=this.currentFileInfo,c=i.rewriteUrls?i.currentDirectory:i.entryPath,l=s.indexOf("#"),b="";l!==-1&&(b=s.slice(l),s=s.slice(0,l));var E=ke(this.context);E.rawBuffer=!0;var k=e.getFileManager(s,c,E,e,!0);if(!k)return t(this,n);var M=!1;if(r)M=/;base64$/.test(a);else{if(a=e.mimeLookup(s),a==="image/svg+xml")M=!1;else{var o=e.charsetLookup(a);M=["US-ASCII","UTF-8"].indexOf(o)<0}M&&(a+=";base64")}var f=k.loadFileSync(s,c,E,e);if(!f.contents)return S.warn("Skipped data-uri embedding of ".concat(s," because file not found")),t(this,n||r);var g=f.contents;if(M&&!e.encodeBase64)return t(this,n);g=M?e.encodeBase64(g):encodeURIComponent(g);var y="data:".concat(a,",").concat(g).concat(b);return new $e(new Ae('"'.concat(y,'"'),y,!1,this.index,this.currentFileInfo),this.index,this.currentFileInfo)}}}),Zr=function(e){var t=Array.isArray(e.value)?e.value:Array(e);return t},vi={_SELF:function(e){return e},"~":function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===1?e[0]:new Je(e)},extract:function(e,t){return t=t.value-1,Zr(e)[t]},length:function(e){return new ae(Zr(e).length)},range:function(e,t,r){var n,a,s=1,i=[];t?(a=t,n=e.value,r&&(s=r.value)):(n=1,a=e);for(var c=n;c<=a.value;c+=s)i.push(new ae(c,a.unit));return new xe(i)},each:function(e,t){var r=this,n=[],a,s,i=function(f){return f instanceof T?f.eval(r.context):f};e.value&&!(e instanceof Ae)?Array.isArray(e.value)?s=e.value.map(i):s=[i(e.value)]:e.ruleset?s=i(e.ruleset).rules:e.rules?s=e.rules.map(i):Array.isArray(e)?s=e.map(i):s=[i(e)];var c="@value",l="@key",b="@index";t.params?(c=t.params[0]&&t.params[0].name,l=t.params[1]&&t.params[1].name,b=t.params[2]&&t.params[2].name,t=t.rules):t=t.ruleset;for(var E=0;E<s.length;E++){var k=void 0,M=void 0,o=s[E];o instanceof ge?(k=typeof o.name=="string"?o.name:o.name[0].value,M=o.value):(k=new ae(E+1),M=o),!(o instanceof gt)&&(a=t.rules.slice(0),c&&a.push(new ge(c,M,!1,!1,this.index,this.currentFileInfo)),b&&a.push(new ge(b,new ae(E+1),!1,!1,this.index,this.currentFileInfo)),l&&a.push(new ge(l,k,!1,!1,this.index,this.currentFileInfo)),n.push(new he([new de([new D("","&")])],a,t.strictImports,t.visibilityInfo())))}return new he([new de([new D("","&")])],n,t.strictImports,t.visibilityInfo()).eval(this.context)}},Kt=function(e,t,r){if(!(r instanceof ae))throw{type:"Argument",message:"argument must be a number"};return t===null?t=r.unit:r=r.unify(),new ae(e(parseFloat(r.value)),t)},ut={ceil:null,floor:null,sqrt:null,abs:null,tan:"",sin:"",cos:"",atan:"rad",asin:"rad",acos:"rad"};for(var Rt in ut)ut.hasOwnProperty(Rt)&&(ut[Rt]=Kt.bind(null,Math[Rt],ut[Rt]));ut.round=function(e,t){var r=typeof t>"u"?0:t.value;return Kt(function(n){return n.toFixed(r)},null,e)};var Xr=function(e,t){var r=this;if(t=Array.prototype.slice.call(t),t.length===0)throw{type:"Argument",message:"one or more arguments required"};var n,a,s,i,c,l,b,E,k=[],M={};for(n=0;n<t.length;n++){if(s=t[n],!(s instanceof ae))if(Array.isArray(t[n].value)){Array.prototype.push.apply(t,Array.prototype.slice.call(t[n].value));continue}else throw{type:"Argument",message:"incompatible types"};if(i=s.unit.toString()===""&&E!==void 0?new ae(s.value,E).unify():s.unify(),l=i.unit.toString()===""&&b!==void 0?b:i.unit.toString(),b=l!==""&&b===void 0||l!==""&&k[0].unify().unit.toString()===""?l:b,E=l!==""&&E===void 0?s.unit.toString():E,a=M[""]!==void 0&&l!==""&&l===b?M[""]:M[l],a===void 0){if(b!==void 0&&l!==b)throw{type:"Argument",message:"incompatible types"};M[l]=k.length,k.push(s);continue}c=k[a].unit.toString()===""&&E!==void 0?new ae(k[a].value,E).unify():k[a].unify(),(e&&i.value<c.value||!e&&i.value>c.value)&&(k[a]=s)}return k.length==1?k[0]:(t=k.map(function(o){return o.toCSS(r.context)}).join(this.context.compress?",":", "),new fe("".concat(e?"min":"max","(").concat(t,")")))},gi={min:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Xr.call(this,!0,e)}catch{}},max:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Xr.call(this,!1,e)}catch{}},convert:function(e,t){return e.convertTo(t.value)},pi:function(){return new ae(Math.PI)},mod:function(e,t){return new ae(e.value%t.value,e.unit)},pow:function(e,t){if(typeof e=="number"&&typeof t=="number")e=new ae(e),t=new ae(t);else if(!(e instanceof ae)||!(t instanceof ae))throw{type:"Argument",message:"arguments must be numbers"};return new ae(Math.pow(e.value,t.value),e.unit)},percentage:function(e){var t=Kt(function(r){return r*100},"%",e);return t}},mi={e:function(e){return new Ae('"',e instanceof qt?e.evaluated:e.value,!0)},escape:function(e){return new fe(encodeURI(e.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},replace:function(e,t,r,n){var a=e.value;return r=r.type==="Quoted"?r.value:r.toCSS(),a=a.replace(new RegExp(t.value,n?n.value:""),r),new Ae(e.quote||"",a,e.escaped)},"%":function(e){for(var t=Array.prototype.slice.call(arguments,1),r=e.value,n=function(s){r=r.replace(/%[sda]/i,function(i){var c=t[s].type==="Quoted"&&i.match(/s/i)?t[s].value:t[s].toCSS();return i.match(/[A-Z]$/)?encodeURIComponent(c):c})},a=0;a<t.length;a++)n(a);return r=r.replace(/%%/g,"%"),new Ae(e.quote||"",r,e.escaped)}},yi=(function(){return{"svg-gradient":function(e){var t,r,n="linear",a='x="0" y="0" width="1" height="1"',s={compress:!1},i,c=e.toCSS(s),l,b,E,k,M;function o(){throw{type:"Argument",message:"svg-gradient expects direction, start_color [start_position], [color position,]..., end_color [end_position] or direction, color list"}}switch(arguments.length==2?(arguments[1].value.length<2&&o(),t=arguments[1].value):arguments.length<3?o():t=Array.prototype.slice.call(arguments,1),c){case"to bottom":r='x1="0%" y1="0%" x2="0%" y2="100%"';break;case"to right":r='x1="0%" y1="0%" x2="100%" y2="0%"';break;case"to bottom right":r='x1="0%" y1="0%" x2="100%" y2="100%"';break;case"to top right":r='x1="0%" y1="100%" x2="100%" y2="0%"';break;case"ellipse":case"ellipse at center":n="radial",r='cx="50%" cy="50%" r="75%"',a='x="-50" y="-50" width="101" height="101"';break;default:throw{type:"Argument",message:"svg-gradient direction must be 'to bottom', 'to right', 'to bottom right', 'to top right' or 'ellipse at center'"}}for(i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1 1"><'.concat(n,'Gradient id="g" ').concat(r,">"),l=0;l<t.length;l+=1)t[l]instanceof xe?(b=t[l].value[0],E=t[l].value[1]):(b=t[l],E=void 0),(!(b instanceof j)||!((l===0||l+1===t.length)&&E===void 0)&&!(E instanceof ae))&&o(),k=E?E.toCSS(s):l===0?"0%":"100%",M=b.alpha,i+='<stop offset="'.concat(k,'" stop-color="').concat(b.toRGB(),'"').concat(M<1?' stop-opacity="'.concat(M,'"'):"","/>");return i+="</".concat(n,"Gradient><rect ").concat(a,' fill="url(#g)" /></svg>'),i=encodeURIComponent(i),i="data:image/svg+xml,".concat(i),new $e(new Ae("'".concat(i,"'"),i,!1,this.index,this.currentFileInfo),this.index,this.currentFileInfo)}}}),ct=function(e,t){return e instanceof t?ve.True:ve.False},Pt=function(e,t){if(t===void 0)throw{type:"Argument",message:"missing the required second argument to isunit."};if(t=typeof t.value=="string"?t.value:t,typeof t!="string")throw{type:"Argument",message:"Second argument to isunit should be a unit or a string."};return e instanceof ae&&e.unit.is(t)?ve.True:ve.False},wi={isruleset:function(e){return ct(e,st)},iscolor:function(e){return ct(e,j)},isnumber:function(e){return ct(e,ae)},isstring:function(e){return ct(e,Ae)},iskeyword:function(e){return ct(e,ve)},isurl:function(e){return ct(e,$e)},ispixel:function(e){return Pt(e,"px")},ispercentage:function(e){return Pt(e,"%")},isem:function(e){return Pt(e,"em")},isunit:Pt,unit:function(e,t){if(!(e instanceof ae))throw{type:"Argument",message:"the first argument to unit must be a number".concat(e instanceof qe?". Have you forgotten parenthesis?":"")};return t?t instanceof ve?t=t.value:t=t.toCSS():t="",new ae(e.value,t)},"get-unit":function(e){return new fe(e.unit)}},bi=function(e){var t=this;if(e=Array.prototype.slice.call(e),e.length===0)throw{type:"Argument",message:"one or more arguments required"};var r=[new je(e[0].value,this.index,this.currentFileInfo).eval(this.context)];return e=r.map(function(n){return n.toCSS(t.context)}).join(this.context.compress?",":", "),new je("style(".concat(e,")"))},Si={style:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return bi.call(this,e)}catch{}}},Ci=(function(e){var t={functionRegistry:be,functionCaller:Nr};return be.addMultiple(fi),be.add("default",at.eval.bind(at)),be.addMultiple(di),be.addMultiple(Jt),be.addMultiple(pi(e)),be.addMultiple(vi),be.addMultiple(ut),be.addMultiple(gi),be.addMultiple(mi),be.addMultiple(yi()),be.addMultiple(wi),be.addMultiple(Si),t});function en(e,t){t=t||{};var r,n=t.variables,a=new ue.Eval(t);typeof n=="object"&&!Array.isArray(n)&&(n=Object.keys(n).map(function(k){var M=n[k];return M instanceof _.Value||(M instanceof _.Expression||(M=new _.Expression([M])),M=new _.Value([M])),new _.Declaration("@".concat(k),M,!1,null,0)}),a.frames=[new _.Ruleset(null,n)]);var s=[new it.JoinSelectorVisitor,new it.MarkVisibleSelectorsVisitor(!0),new it.ExtendVisitor,new it.ToCSSVisitor({compress:!!t.compress})],i=[],c,l;if(t.pluginManager){l=t.pluginManager.visitor();for(var b=0;b<2;b++)for(l.first();c=l.get();)c.isPreEvalVisitor?(b===0||i.indexOf(c)===-1)&&(i.push(c),c.run(e)):(b===0||s.indexOf(c)===-1)&&(c.isPreVisitor?s.unshift(c):s.push(c))}r=e.eval(a);for(var E=0;E<s.length;E++)s[E].run(r);if(t.pluginManager)for(l.first();c=l.get();)s.indexOf(c)===-1&&i.indexOf(c)===-1&&c.run(r);return r}var Ai=(function(){function e(t){this.less=t,this.visitors=[],this.preProcessors=[],this.postProcessors=[],this.installedPlugins=[],this.fileManagers=[],this.iterator=-1,this.pluginCache={},this.Loader=new t.PluginLoader(t)}return e.prototype.addPlugins=function(t){if(t)for(var r=0;r<t.length;r++)this.addPlugin(t[r])},e.prototype.addPlugin=function(t,r,n){this.installedPlugins.push(t),r&&(this.pluginCache[r]=t),t.install&&t.install(this.less,this,n||this.less.functions.functionRegistry)},e.prototype.get=function(t){return this.pluginCache[t]},e.prototype.addVisitor=function(t){this.visitors.push(t)},e.prototype.addPreProcessor=function(t,r){var n;for(n=0;n<this.preProcessors.length&&!(this.preProcessors[n].priority>=r);n++);this.preProcessors.splice(n,0,{preProcessor:t,priority:r})},e.prototype.addPostProcessor=function(t,r){var n;for(n=0;n<this.postProcessors.length&&!(this.postProcessors[n].priority>=r);n++);this.postProcessors.splice(n,0,{postProcessor:t,priority:r})},e.prototype.addFileManager=function(t){this.fileManagers.push(t)},e.prototype.getPreProcessors=function(){for(var t=[],r=0;r<this.preProcessors.length;r++)t.push(this.preProcessors[r].preProcessor);return t},e.prototype.getPostProcessors=function(){for(var t=[],r=0;r<this.postProcessors.length;r++)t.push(this.postProcessors[r].postProcessor);return t},e.prototype.getVisitors=function(){return this.visitors},e.prototype.visitor=function(){var t=this;return{first:function(){return t.iterator=-1,t.visitors[t.iterator]},get:function(){return t.iterator+=1,t.visitors[t.iterator]}}},e.prototype.getFileManagers=function(){return this.fileManagers},e})(),Qt,tn=function(e,t){return(t||!Qt)&&(Qt=new Ai(e)),Qt};function Ei(e){var t=(function(){function r(n){this._css=[],this._rootNode=n.rootNode,this._contentsMap=n.contentsMap,this._contentsIgnoredCharsMap=n.contentsIgnoredCharsMap,n.sourceMapFilename&&(this._sourceMapFilename=n.sourceMapFilename.replace(/\\/g,"/")),this._outputFilename=n.outputFilename?n.outputFilename.replace(/\\/g,"/"):n.outputFilename,this.sourceMapURL=n.sourceMapURL,n.sourceMapBasepath&&(this._sourceMapBasepath=n.sourceMapBasepath.replace(/\\/g,"/")),n.sourceMapRootpath?(this._sourceMapRootpath=n.sourceMapRootpath.replace(/\\/g,"/"),this._sourceMapRootpath.charAt(this._sourceMapRootpath.length-1)!=="/"&&(this._sourceMapRootpath+="/")):this._sourceMapRootpath="",this._outputSourceFiles=n.outputSourceFiles,this._sourceMapGeneratorConstructor=e.getSourceMapGenerator(),this._lineNumber=0,this._column=0}return r.prototype.removeBasepath=function(n){return this._sourceMapBasepath&&n.indexOf(this._sourceMapBasepath)===0&&(n=n.substring(this._sourceMapBasepath.length),(n.charAt(0)==="\\"||n.charAt(0)==="/")&&(n=n.substring(1))),n},r.prototype.normalizeFilename=function(n){return n=n.replace(/\\/g,"/"),n=this.removeBasepath(n),(this._sourceMapRootpath||"")+n},r.prototype.add=function(n,a,s,i){if(n){var c,l,b,E,k;if(a&&a.filename){var M=this._contentsMap[a.filename];if(this._contentsIgnoredCharsMap[a.filename]&&(s-=this._contentsIgnoredCharsMap[a.filename],s<0&&(s=0),M=M.slice(this._contentsIgnoredCharsMap[a.filename])),M===void 0){this._css.push(n);return}M=M.substring(0,s),l=M.split(`
`),E=l[l.length-1]}if(c=n.split(`
`),b=c[c.length-1],a&&a.filename)if(!i)this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+1,column:this._column},original:{line:l.length,column:E.length},source:this.normalizeFilename(a.filename)});else for(k=0;k<c.length;k++)this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+k+1,column:k===0?this._column:0},original:{line:l.length+k,column:k===0?E.length:0},source:this.normalizeFilename(a.filename)});c.length===1?this._column+=b.length:(this._lineNumber+=c.length-1,this._column=b.length),this._css.push(n)}},r.prototype.isEmpty=function(){return this._css.length===0},r.prototype.toCSS=function(n){if(this._sourceMapGenerator=new this._sourceMapGeneratorConstructor({file:this._outputFilename,sourceRoot:null}),this._outputSourceFiles){for(var a in this._contentsMap)if(this._contentsMap.hasOwnProperty(a)){var s=this._contentsMap[a];this._contentsIgnoredCharsMap[a]&&(s=s.slice(this._contentsIgnoredCharsMap[a])),this._sourceMapGenerator.setSourceContent(this.normalizeFilename(a),s)}}if(this._rootNode.genCSS(n,this),this._css.length>0){var i=void 0,c=JSON.stringify(this._sourceMapGenerator.toJSON());this.sourceMapURL?i=this.sourceMapURL:this._sourceMapFilename&&(i=this._sourceMapFilename),this.sourceMapURL=i,this.sourceMap=c}return this._css.join("")},r})();return t}function Ii(e,t){var r=(function(){function n(a){this.options=a}return n.prototype.toCSS=function(a,s,i){var c=new e({contentsIgnoredCharsMap:i.contentsIgnoredChars,rootNode:a,contentsMap:i.contents,sourceMapFilename:this.options.sourceMapFilename,sourceMapURL:this.options.sourceMapURL,outputFilename:this.options.sourceMapOutputFilename,sourceMapBasepath:this.options.sourceMapBasepath,sourceMapRootpath:this.options.sourceMapRootpath,outputSourceFiles:this.options.outputSourceFiles,sourceMapGenerator:this.options.sourceMapGenerator,sourceMapFileInline:this.options.sourceMapFileInline,disableSourcemapAnnotation:this.options.disableSourcemapAnnotation}),l=c.toCSS(s);return this.sourceMap=c.sourceMap,this.sourceMapURL=c.sourceMapURL,this.options.sourceMapInputFilename&&(this.sourceMapInputFilename=c.normalizeFilename(this.options.sourceMapInputFilename)),this.options.sourceMapBasepath!==void 0&&this.sourceMapURL!==void 0&&(this.sourceMapURL=c.removeBasepath(this.sourceMapURL)),l+this.getCSSAppendage()},n.prototype.getCSSAppendage=function(){var a=this.sourceMapURL;if(this.options.sourceMapFileInline){if(this.sourceMap===void 0)return"";a="data:application/json;base64,".concat(t.encodeBase64(this.sourceMap))}return this.options.disableSourcemapAnnotation?"":a?"/*# sourceMappingURL=".concat(a," */"):""},n.prototype.getExternalSourceMap=function(){return this.sourceMap},n.prototype.setExternalSourceMap=function(a){this.sourceMap=a},n.prototype.isInline=function(){return this.options.sourceMapFileInline},n.prototype.getSourceMapURL=function(){return this.sourceMapURL},n.prototype.getOutputFilename=function(){return this.options.sourceMapOutputFilename},n.prototype.getInputFilename=function(){return this.sourceMapInputFilename},n})();return r}function ki(e){var t=(function(){function r(n,a){this.root=n,this.imports=a}return r.prototype.toCSS=function(n){var a,s={},i;try{a=en(this.root,n)}catch(y){throw new le(y,this.imports)}try{var c=!!n.compress;c&&S.warn("The compress option has been deprecated. We recommend you use a dedicated css minifier, for instance see less-plugin-clean-css.");var l={compress:c,dumpLineNumbers:n.dumpLineNumbers,strictUnits:!!n.strictUnits,numPrecision:8};if(n.sourceMap){n.sourceMap===!0&&(n.sourceMap={});var b=n.sourceMap;if(!b.sourceMapInputFilename&&n.filename&&(b.sourceMapInputFilename=n.filename),b.sourceMapBasepath===void 0&&n.filename){var E=Math.max(n.filename.lastIndexOf("/"),n.filename.lastIndexOf("\\"));E>=0?b.sourceMapBasepath=n.filename.substring(0,E):b.sourceMapBasepath="."}if(b.sourceMapFullFilename&&!b.sourceMapFileInline){if(!b.sourceMapFilename&&!b.sourceMapURL){var k=b.sourceMapFullFilename.split(/[/\\]/).pop();b.sourceMapFilename=k}}else if(!b.sourceMapFilename&&!b.sourceMapURL){if(b.sourceMapOutputFilename)b.sourceMapFilename=b.sourceMapOutputFilename+".map";else if(n.filename){var M=n.filename.replace(/\.[^/.]+$/,"");b.sourceMapFilename=M+".css.map"}}if(!b.sourceMapOutputFilename)if(n.filename){var M=n.filename.replace(/\.[^/.]+$/,"");b.sourceMapOutputFilename=M+".css"}else b.sourceMapOutputFilename="output.css";i=new e(b),s.css=i.toCSS(a,l,this.imports)}else s.css=a.toCSS(l)}catch(y){throw new le(y,this.imports)}if(n.pluginManager)for(var o=n.pluginManager.getPostProcessors(),f=0;f<o.length;f++)s.css=o[f].process(s.css,{sourceMap:i,options:n,imports:this.imports});n.sourceMap&&(s.map=i.getExternalSourceMap()),s.imports=[];for(var g in this.imports.files)Object.prototype.hasOwnProperty.call(this.imports.files,g)&&g!==this.imports.rootFilename&&s.imports.push(g);return s},r})();return t}function Mi(e){var t=(function(){function r(n,a,s){this.less=n,this.rootFilename=s.filename,this.paths=a.paths||[],this.contents={},this.contentsIgnoredChars={},this.mime=a.mime,this.error=null,this.context=a,this.queue=[],this.files={}}return r.prototype.push=function(n,a,s,i,c){var l=this,b=this.context.pluginManager.Loader;this.queue.push(n);var E=function(w,R,I){l.queue.splice(l.queue.indexOf(n),1);var B=I===l.rootFilename;i.optional&&w?(c(null,{rules:[]},!1,null),S.info("The file ".concat(I," was skipped because it was not found and the import was marked optional."))):(!l.files[I]&&!i.inline&&(l.files[I]={root:R,options:i}),w&&!l.error&&(l.error=w),c(w,R,B,I))},k={rewriteUrls:this.context.rewriteUrls,entryPath:s.entryPath,rootpath:s.rootpath,rootFilename:s.rootFilename},M=e.getFileManager(n,s.currentDirectory,this.context,e);if(!M){E({message:"Could not find a file-manager for ".concat(n)});return}var o=function(w){var R,I=w.filename,B=w.contents.replace(/^\uFEFF/,"");k.currentDirectory=M.getPath(I),k.rewriteUrls&&(k.rootpath=M.join(l.context.rootpath||"",M.pathDiff(k.currentDirectory,k.entryPath)),!M.isPathAbsolute(k.rootpath)&&M.alwaysMakePathsAbsolute()&&(k.rootpath=M.join(k.entryPath,k.rootpath))),k.filename=I;var q=new ue.Parse(l.context);q.processImports=!1,l.contents[I]=B,(s.reference||i.reference)&&(k.reference=!0),i.isPlugin?(R=b.evalPlugin(B,q,l,i.pluginArgs,k),R instanceof le?E(R,null,I):E(null,R,I)):i.inline?E(null,B,I):l.files[I]&&!l.files[I].options.multiple&&!i.multiple?E(null,l.files[I].root,I):new Ze(q,l,k).parse(B,function(G,Q){E(G,Q,I)})},f,g,y=ke(this.context);a&&(y.ext=i.isPlugin?".js":".less"),i.isPlugin?(y.mime="application/javascript",y.syncImport?f=b.loadPluginSync(n,s.currentDirectory,y,e,M):g=b.loadPlugin(n,s.currentDirectory,y,e,M)):y.syncImport?f=M.loadFileSync(n,s.currentDirectory,y,e):g=M.loadFile(n,s.currentDirectory,y,e,function(w,R){w?E(w):o(R)}),f?f.filename?o(f):E(f):g&&g.then(o,E)},r})();return t}function xi(e,t,r){var n=function(a,s,i){if(typeof s=="function"?(i=s,s=Ne(this.options,{})):s=Ne(this.options,s||{}),i){var l,b=void 0,E=new tn(this,!s.reUsePluginManager);if(s.pluginManager=E,l=new ue.Parse(s),s.rootFileInfo)b=s.rootFileInfo;else{var k=s.filename||"input",M=k.replace(/[^/\\]*$/,"");b={filename:k,rewriteUrls:l.rewriteUrls,rootpath:l.rootpath||"",currentDirectory:M,entryPath:M,rootFilename:k},b.rootpath&&b.rootpath.slice(-1)!=="/"&&(b.rootpath+="/")}var o=new r(this,l,b);this.importManager=o,s.plugins&&s.plugins.forEach(function(f){var g,y;if(f.fileContent){if(y=f.fileContent.replace(/^\uFEFF/,""),g=E.Loader.evalPlugin(y,l,o,f.options,f.filename),g instanceof le)return i(g)}else E.addPlugin(f)}),new Ze(l,o,b).parse(a,function(f,g){if(f)return i(f);i(null,g,o,s)},s)}else{var c=this;return new Promise(function(f,g){n.call(c,a,s,function(y,w){y?g(y):f(w)})})}};return n}function Ri(e,t){var r=function(n,a,s){if(typeof a=="function"?(s=a,a=Ne(this.options,{})):a=Ne(this.options,a||{}),s)this.parse(n,a,function(c,l,b,E){if(c)return s(c);var k;try{var M=new t(l,b);k=M.toCSS(E)}catch(o){return s(o)}s(null,k)});else{var i=this;return new Promise(function(c,l){r.call(i,n,a,function(b,E){b?l(b):c(E)})})}};return r}var Pi="4.5.1";function Fi(e){var t=e.match(/^v(\d{1,2})\.(\d{1,2})\.(\d{1,2})(?:-([0-9A-Za-z-.]+))?(?:\+([0-9A-Za-z-.]+))?$/);if(!t)throw new Error("Unable to parse: "+e);var r={major:parseInt(t[1],10),minor:parseInt(t[2],10),patch:parseInt(t[3],10),pre:t[4]||"",build:t[5]||""};return r}var Li=Fi;function Bi(e,t){var r,n,a,s;e=new A(e,t),r=Ei(e),n=Ii(r,e),a=ki(n),s=Mi(e);var i=Ri(e,a),c=xi(e,a,s),l=Li("v".concat(Pi)),b={version:[l.major,l.minor,l.patch],data:H,tree:_,Environment:A,AbstractFileManager:Wr,AbstractPluginLoader:Kr,environment:e,visitors:it,Parser:Ze,functions:Ci(e),contexts:ue,SourceMapOutput:r,SourceMapBuilder:n,ParseTree:a,ImportManager:s,render:i,parse:c,LessError:le,transformTree:en,utils:_e,PluginManager:tn,logger:S},E=function(g){return function(){var y=Object.create(g.prototype);return g.apply(y,Array.prototype.slice.call(arguments,0)),y}},k,M=Object.create(b);for(var o in b.tree)if(k=b.tree[o],typeof k=="function")M[o.toLowerCase()]=E(k);else{M[o]=Object.create(null);for(var f in k)M[o][f.toLowerCase()]=E(k[f])}return b.parse=b.parse.bind(M),b.render=b.render.bind(M),M}var bt,rn,Ft={},nn=function(){};nn.prototype=Object.assign(new Wr,{alwaysMakePathsAbsolute:function(){return!0},join:function(e,t){return e?this.extractUrlParts(t,e).path:t},doXHR:function(e,t,r,n){var a=new XMLHttpRequest,s=bt.isFileProtocol?bt.fileAsync:!0;typeof a.overrideMimeType=="function"&&a.overrideMimeType("text/css"),rn.debug("XHR: Getting '".concat(e,"'")),a.open("GET",e,s),a.setRequestHeader("Accept",t||"text/x-less, text/css; q=0.9, */*; q=0.5"),a.send(null);function i(c,l,b){c.status>=200&&c.status<300?l(c.responseText,c.getResponseHeader("Last-Modified")):typeof b=="function"&&b(c.status,e)}bt.isFileProtocol&&!bt.fileAsync?a.status===0||a.status>=200&&a.status<300?r(a.responseText):n(a.status,e):s?a.onreadystatechange=function(){a.readyState==4&&i(a,r,n)}:i(a,r,n)},supports:function(){return!0},clearFileCache:function(){Ft={}},loadFile:function(e,t,r){t&&!this.isPathAbsolute(e)&&(e=t+e),e=r.ext?this.tryAppendExtension(e,r.ext):e,r=r||{};var n=this.extractUrlParts(e,window.location.href),a=n.url,s=this;return new Promise(function(i,c){if(r.useFileCache&&Ft[a])try{var l=Ft[a];return i({contents:l,filename:a,webInfo:{lastModified:new Date}})}catch(b){return c({filename:a,message:"Error loading file ".concat(a," error was ").concat(b.message)})}s.doXHR(a,r.mime,function(E,k){Ft[a]=E,i({contents:E,filename:a,webInfo:{lastModified:k}})},function(E,k){c({type:"File",message:"'".concat(k,"' wasn't found (").concat(E,")"),href:a})})})}});var Oi=(function(e,t){return bt=e,rn=t,nn}),an=function(e){this.less=e};an.prototype=Object.assign(new Kr,{loadPlugin:function(e,t,r,n,a){return new Promise(function(s,i){a.loadFile(e,t,r,n).then(s).catch(i)})}});var Ti=(function(e,t){var r=4,n=3,a=2,s=1;t.logLevel=typeof t.logLevel<"u"?t.logLevel:t.env==="development"?n:s,t.loggers||(t.loggers=[{debug:function(c){t.logLevel>=r&&console.log(c)},info:function(c){t.logLevel>=n&&console.log(c)},warn:function(c){t.logLevel>=a&&console.warn(c)},error:function(c){t.logLevel>=s&&console.error(c)}}]);for(var i=0;i<t.loggers.length;i++)e.logger.addListener(t.loggers[i])}),_i=(function(e,t,r){function n(l,b){var E="less-error-message:".concat(u(b||"")),k='<li><label>{line}</label><pre class="{class}">{content}</pre></li>',M=e.document.createElement("div"),o,f,g=[],y=l.filename||b,w=y.match(/([^/]+(\?.*)?)$/)[1];M.id=E,M.className="less-error-message",f="<h3>".concat(l.type||"Syntax","Error: ").concat(l.message||"There is an error in your .less file")+'</h3><p>in <a href="'.concat(y,'">').concat(w,"</a> ");var R=function(I,B,q){I.extract[B]!==void 0&&g.push(k.replace(/\{line\}/,(parseInt(I.line,10)||0)+(B-1)).replace(/\{class\}/,q).replace(/\{content\}/,I.extract[B]))};l.line&&(R(l,0,""),R(l,1,"line"),R(l,2,""),f+="on line ".concat(l.line,", column ").concat(l.column+1,":</p><ul>").concat(g.join(""),"</ul>")),l.stack&&(l.extract||r.logLevel>=4)&&(f+="<br/>Stack Trace</br />".concat(l.stack.split(`
`).slice(1).join("<br/>"))),M.innerHTML=f,v.createCSS(e.document,[".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join(`
`),{title:"error-message"}),M.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";"),r.env==="development"&&(o=setInterval(function(){var I=e.document,B=I.body;B&&(I.getElementById(E)?B.replaceChild(M,I.getElementById(E)):B.insertBefore(M,B.firstChild),clearInterval(o))},10))}function a(l){var b=e.document.getElementById("less-error-message:".concat(u(l)));b&&b.parentNode.removeChild(b)}function s(l){!r.errorReporting||r.errorReporting==="html"?a(l):r.errorReporting==="console"||typeof r.errorReporting=="function"&&r.errorReporting("remove",l)}function i(l,b){var E="{line} {content}",k=l.filename||b,M=[],o="".concat(l.type||"Syntax","Error: ").concat(l.message||"There is an error in your .less file"," in ").concat(k),f=function(g,y,w){g.extract[y]!==void 0&&M.push(E.replace(/\{line\}/,(parseInt(g.line,10)||0)+(y-1)).replace(/\{class\}/,w).replace(/\{content\}/,g.extract[y]))};l.line&&(f(l,0,""),f(l,1,"line"),f(l,2,""),o+=" on line ".concat(l.line,", column ").concat(l.column+1,`:
`).concat(M.join(`
`))),l.stack&&(l.extract||r.logLevel>=4)&&(o+=`
Stack Trace
`.concat(l.stack)),t.logger.error(o)}function c(l,b){!r.errorReporting||r.errorReporting==="html"?n(l,b):r.errorReporting==="console"?i(l,b):typeof r.errorReporting=="function"&&r.errorReporting("add",l,b)}return{add:c,remove:s}}),Di=(function(e,t,r){var n=null;if(t.env!=="development")try{n=typeof e.localStorage>"u"?null:e.localStorage}catch{}return{setCSS:function(a,s,i,c){if(n){r.info("saving ".concat(a," to cache."));try{n.setItem(a,c),n.setItem("".concat(a,":timestamp"),s),i&&n.setItem("".concat(a,":vars"),JSON.stringify(i))}catch{r.error('failed to save "'.concat(a,'" to local storage for caching.'))}}},getCSS:function(a,s,i){var c=n&&n.getItem(a),l=n&&n.getItem("".concat(a,":timestamp")),b=n&&n.getItem("".concat(a,":vars"));if(i=i||{},b=b||"{}",l&&s.lastModified&&new Date(s.lastModified).valueOf()===new Date(l).valueOf()&&JSON.stringify(i)===b)return c}}}),$i=(function(){function e(){throw{type:"Runtime",message:"Image size functions are not supported in browser version of less"}}var t={"image-size":function(r){return e(),-1},"image-width":function(r){return e(),-1},"image-height":function(r){return e(),-1}};be.addMultiple(t)}),Vi=(function(e,t){var r=e.document,n=Bi();n.options=t;var a=n.environment,s=Oi(t,n.logger),i=new s;a.addFileManager(i),n.FileManager=s,n.PluginLoader=an,Ti(n,t);var c=_i(e,n,t),l=n.cache=t.cache||Di(e,t,n.logger);$i(n.environment),t.functions&&n.functions.functionRegistry.addMultiple(t.functions);var b=/^text\/(x-)?less$/;function E(y){var w={};for(var R in y)Object.prototype.hasOwnProperty.call(y,R)&&(w[R]=y[R]);return w}function k(y,w){var R=Array.prototype.slice.call(arguments,2);return function(){var I=R.concat(Array.prototype.slice.call(arguments,0));return y.apply(w,I)}}function M(y){for(var w=r.getElementsByTagName("style"),R,I=0;I<w.length;I++)if(R=w[I],R.type.match(b)){var B=E(t);B.modifyVars=y;var q=R.innerHTML||"";B.filename=r.location.href.replace(/#.*$/,""),n.render(q,B,k(function(G,Q,K){Q?c.add(Q,"inline"):(G.type="text/css",G.styleSheet?G.styleSheet.cssText=K.css:G.innerHTML=K.css)},null,R))}}function o(y,w,R,I,B){var q=E(t);h(q,y),q.mime=y.type,B&&(q.modifyVars=B);function G(Q){var K=Q.contents,ie=Q.filename,oe=Q.webInfo,ne={currentDirectory:i.getPath(ie),filename:ie,rootFilename:ie,rewriteUrls:q.rewriteUrls};if(ne.entryPath=ne.currentDirectory,ne.rootpath=q.rootpath||ne.currentDirectory,oe){oe.remaining=I;var se=l.getCSS(ie,oe,q.modifyVars);if(!R&&se){oe.local=!0,w(null,se,K,y,oe,ie);return}}c.remove(ie),q.rootFileInfo=ne,n.render(K,q,function(ce,Ee){ce?(ce.href=ie,w(ce)):(l.setCSS(y.href,oe.lastModified,q.modifyVars,Ee.css),w(null,Ee.css,K,y,oe,ie))})}i.loadFile(y.href,null,q,a).then(function(Q){G(Q)}).catch(function(Q){console.log(Q),w(Q)})}function f(y,w,R){for(var I=0;I<n.sheets.length;I++)o(n.sheets[I],y,w,n.sheets.length-(I+1),R)}function g(){n.env==="development"&&(n.watchTimer=setInterval(function(){n.watchMode&&(i.clearFileCache(),f(function(y,w,R,I,B){y?c.add(y,y.href||I.href):w&&v.createCSS(e.document,w,I)}))},t.poll))}return n.watch=function(){return n.watchMode||(n.env="development",g()),this.watchMode=!0,!0},n.unwatch=function(){return clearInterval(n.watchTimer),this.watchMode=!1,!1},n.registerStylesheetsImmediately=function(){var y=r.getElementsByTagName("link");n.sheets=[];for(var w=0;w<y.length;w++)(y[w].rel==="stylesheet/less"||y[w].rel.match(/stylesheet/)&&y[w].type.match(b))&&n.sheets.push(y[w])},n.registerStylesheets=function(){return new Promise(function(y){n.registerStylesheetsImmediately(),y()})},n.modifyVars=function(y){return n.refresh(!0,y,!1)},n.refresh=function(y,w,R){return(y||R)&&R!==!1&&i.clearFileCache(),new Promise(function(I,B){var q,G,Q,K;q=G=new Date,K=n.sheets.length,K===0?(G=new Date,Q=G-q,n.logger.info("Less has finished and no sheets were loaded."),I({startTime:q,endTime:G,totalMilliseconds:Q,sheets:n.sheets.length})):f(function(ie,oe,ne,se,ce){if(ie){c.add(ie,ie.href||se.href),B(ie);return}ce.local?n.logger.info("Loading ".concat(se.href," from cache.")):n.logger.info("Rendered ".concat(se.href," successfully.")),v.createCSS(e.document,oe,se),n.logger.info("CSS for ".concat(se.href," generated in ").concat(new Date-G,"ms")),K--,K===0&&(Q=new Date-q,n.logger.info("Less has finished. CSS generated in ".concat(Q,"ms")),I({startTime:q,endTime:G,totalMilliseconds:Q,sheets:n.sheets.length})),G=new Date},y,w),M(w)})},n.refreshStyles=M,n}),He=p();if(window.less)for(var Yt in window.less)Object.prototype.hasOwnProperty.call(window.less,Yt)&&(He[Yt]=window.less[Yt]);C(window,He),He.plugins=He.plugins||[],window.LESS_PLUGINS&&(He.plugins=He.plugins.concat(window.LESS_PLUGINS));var et=Vi(window,He);window.less=et;var Zt,Xt,tt;function sn(e){e.filename&&console.warn(e),He.async||Xt.removeChild(tt)}return He.onReady&&(/!watch/.test(window.location.hash)&&et.watch(),He.async||(Zt="body { display: none !important }",Xt=document.head||document.getElementsByTagName("head")[0],tt=document.createElement("style"),tt.type="text/css",tt.styleSheet?tt.styleSheet.cssText=Zt:tt.appendChild(document.createTextNode(Zt)),Xt.appendChild(tt)),et.registerStylesheetsImmediately(),et.pageLoadFinished=et.refresh(et.env==="development").then(sn,sn)),et}))})(Bt)),Bt.exports}var oa=sa();const la=Pr(oa);var ft={},rr,hn;function ua(){return hn||(hn=1,rr=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),rr}var nr={},Qe={},dn;function rt(){if(dn)return Qe;dn=1;let d;const m=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Qe.getSymbolSize=function(u){if(!u)throw new Error('"version" cannot be null or undefined');if(u<1||u>40)throw new Error('"version" should be in range from 1 to 40');return u*4+17},Qe.getSymbolTotalCodewords=function(u){return m[u]},Qe.getBCHDigit=function(p){let u=0;for(;p!==0;)u++,p>>>=1;return u},Qe.setToSJISFunction=function(u){if(typeof u!="function")throw new Error('"toSJISFunc" is not a valid function.');d=u},Qe.isKanjiModeEnabled=function(){return typeof d<"u"},Qe.toSJIS=function(u){return d(u)},Qe}var ir={},pn;function Fr(){return pn||(pn=1,(function(d){d.L={bit:1},d.M={bit:0},d.Q={bit:3},d.H={bit:2};function m(p){if(typeof p!="string")throw new Error("Param is not a string");switch(p.toLowerCase()){case"l":case"low":return d.L;case"m":case"medium":return d.M;case"q":case"quartile":return d.Q;case"h":case"high":return d.H;default:throw new Error("Unknown EC Level: "+p)}}d.isValid=function(u){return u&&typeof u.bit<"u"&&u.bit>=0&&u.bit<4},d.from=function(u,h){if(d.isValid(u))return u;try{return m(u)}catch{return h}}})(ir)),ir}var ar,vn;function ca(){if(vn)return ar;vn=1;function d(){this.buffer=[],this.length=0}return d.prototype={get:function(m){const p=Math.floor(m/8);return(this.buffer[p]>>>7-m%8&1)===1},put:function(m,p){for(let u=0;u<p;u++)this.putBit((m>>>p-u-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(m){const p=Math.floor(this.length/8);this.buffer.length<=p&&this.buffer.push(0),m&&(this.buffer[p]|=128>>>this.length%8),this.length++}},ar=d,ar}var sr,gn;function fa(){if(gn)return sr;gn=1;function d(m){if(!m||m<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=m,this.data=new Uint8Array(m*m),this.reservedBit=new Uint8Array(m*m)}return d.prototype.set=function(m,p,u,h){const v=m*this.size+p;this.data[v]=u,h&&(this.reservedBit[v]=!0)},d.prototype.get=function(m,p){return this.data[m*this.size+p]},d.prototype.xor=function(m,p,u){this.data[m*this.size+p]^=u},d.prototype.isReserved=function(m,p){return this.reservedBit[m*this.size+p]},sr=d,sr}var or={},mn;function ha(){return mn||(mn=1,(function(d){const m=rt().getSymbolSize;d.getRowColCoords=function(u){if(u===1)return[];const h=Math.floor(u/7)+2,v=m(u),C=v===145?26:Math.ceil((v-13)/(2*h-2))*2,S=[v-7];for(let A=1;A<h-1;A++)S[A]=S[A-1]-C;return S.push(6),S.reverse()},d.getPositions=function(u){const h=[],v=d.getRowColCoords(u),C=v.length;for(let S=0;S<C;S++)for(let A=0;A<C;A++)S===0&&A===0||S===0&&A===C-1||S===C-1&&A===0||h.push([v[S],v[A]]);return h}})(or)),or}var lr={},yn;function da(){if(yn)return lr;yn=1;const d=rt().getSymbolSize,m=7;return lr.getPositions=function(u){const h=d(u);return[[0,0],[h-m,0],[0,h-m]]},lr}var ur={},wn;function pa(){return wn||(wn=1,(function(d){d.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const m={N1:3,N2:3,N3:40,N4:10};d.isValid=function(h){return h!=null&&h!==""&&!isNaN(h)&&h>=0&&h<=7},d.from=function(h){return d.isValid(h)?parseInt(h,10):void 0},d.getPenaltyN1=function(h){const v=h.size;let C=0,S=0,A=0,O=null,V=null;for(let H=0;H<v;H++){S=A=0,O=V=null;for(let T=0;T<v;T++){let j=h.get(H,T);j===O?S++:(S>=5&&(C+=m.N1+(S-5)),O=j,S=1),j=h.get(T,H),j===V?A++:(A>=5&&(C+=m.N1+(A-5)),V=j,A=1)}S>=5&&(C+=m.N1+(S-5)),A>=5&&(C+=m.N1+(A-5))}return C},d.getPenaltyN2=function(h){const v=h.size;let C=0;for(let S=0;S<v-1;S++)for(let A=0;A<v-1;A++){const O=h.get(S,A)+h.get(S,A+1)+h.get(S+1,A)+h.get(S+1,A+1);(O===4||O===0)&&C++}return C*m.N2},d.getPenaltyN3=function(h){const v=h.size;let C=0,S=0,A=0;for(let O=0;O<v;O++){S=A=0;for(let V=0;V<v;V++)S=S<<1&2047|h.get(O,V),V>=10&&(S===1488||S===93)&&C++,A=A<<1&2047|h.get(V,O),V>=10&&(A===1488||A===93)&&C++}return C*m.N3},d.getPenaltyN4=function(h){let v=0;const C=h.data.length;for(let A=0;A<C;A++)v+=h.data[A];return Math.abs(Math.ceil(v*100/C/5)-10)*m.N4};function p(u,h,v){switch(u){case d.Patterns.PATTERN000:return(h+v)%2===0;case d.Patterns.PATTERN001:return h%2===0;case d.Patterns.PATTERN010:return v%3===0;case d.Patterns.PATTERN011:return(h+v)%3===0;case d.Patterns.PATTERN100:return(Math.floor(h/2)+Math.floor(v/3))%2===0;case d.Patterns.PATTERN101:return h*v%2+h*v%3===0;case d.Patterns.PATTERN110:return(h*v%2+h*v%3)%2===0;case d.Patterns.PATTERN111:return(h*v%3+(h+v)%2)%2===0;default:throw new Error("bad maskPattern:"+u)}}d.applyMask=function(h,v){const C=v.size;for(let S=0;S<C;S++)for(let A=0;A<C;A++)v.isReserved(A,S)||v.xor(A,S,p(h,A,S))},d.getBestMask=function(h,v){const C=Object.keys(d.Patterns).length;let S=0,A=1/0;for(let O=0;O<C;O++){v(O),d.applyMask(O,h);const V=d.getPenaltyN1(h)+d.getPenaltyN2(h)+d.getPenaltyN3(h)+d.getPenaltyN4(h);d.applyMask(O,h),V<A&&(A=V,S=O)}return S}})(ur)),ur}var Lt={},bn;function Gn(){if(bn)return Lt;bn=1;const d=Fr(),m=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],p=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Lt.getBlocksCount=function(h,v){switch(v){case d.L:return m[(h-1)*4+0];case d.M:return m[(h-1)*4+1];case d.Q:return m[(h-1)*4+2];case d.H:return m[(h-1)*4+3];default:return}},Lt.getTotalCodewordsCount=function(h,v){switch(v){case d.L:return p[(h-1)*4+0];case d.M:return p[(h-1)*4+1];case d.Q:return p[(h-1)*4+2];case d.H:return p[(h-1)*4+3];default:return}},Lt}var cr={},At={},Sn;function va(){if(Sn)return At;Sn=1;const d=new Uint8Array(512),m=new Uint8Array(256);return(function(){let u=1;for(let h=0;h<255;h++)d[h]=u,m[u]=h,u<<=1,u&256&&(u^=285);for(let h=255;h<512;h++)d[h]=d[h-255]})(),At.log=function(u){if(u<1)throw new Error("log("+u+")");return m[u]},At.exp=function(u){return d[u]},At.mul=function(u,h){return u===0||h===0?0:d[m[u]+m[h]]},At}var Cn;function ga(){return Cn||(Cn=1,(function(d){const m=va();d.mul=function(u,h){const v=new Uint8Array(u.length+h.length-1);for(let C=0;C<u.length;C++)for(let S=0;S<h.length;S++)v[C+S]^=m.mul(u[C],h[S]);return v},d.mod=function(u,h){let v=new Uint8Array(u);for(;v.length-h.length>=0;){const C=v[0];for(let A=0;A<h.length;A++)v[A]^=m.mul(h[A],C);let S=0;for(;S<v.length&&v[S]===0;)S++;v=v.slice(S)}return v},d.generateECPolynomial=function(u){let h=new Uint8Array([1]);for(let v=0;v<u;v++)h=d.mul(h,new Uint8Array([1,m.exp(v)]));return h}})(cr)),cr}var fr,An;function ma(){if(An)return fr;An=1;const d=ga();function m(p){this.genPoly=void 0,this.degree=p,this.degree&&this.initialize(this.degree)}return m.prototype.initialize=function(u){this.degree=u,this.genPoly=d.generateECPolynomial(this.degree)},m.prototype.encode=function(u){if(!this.genPoly)throw new Error("Encoder not initialized");const h=new Uint8Array(u.length+this.degree);h.set(u);const v=d.mod(h,this.genPoly),C=this.degree-v.length;if(C>0){const S=new Uint8Array(this.degree);return S.set(v,C),S}return v},fr=m,fr}var hr={},dr={},pr={},En;function Jn(){return En||(En=1,pr.isValid=function(m){return!isNaN(m)&&m>=1&&m<=40}),pr}var Ge={},In;function Wn(){if(In)return Ge;In=1;const d="[0-9]+",m="[A-Z $%*+\\-./:]+";let p="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";p=p.replace(/u/g,"\\u");const u="(?:(?![A-Z0-9 $%*+\\-./:]|"+p+`)(?:.|[\r
]))+`;Ge.KANJI=new RegExp(p,"g"),Ge.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ge.BYTE=new RegExp(u,"g"),Ge.NUMERIC=new RegExp(d,"g"),Ge.ALPHANUMERIC=new RegExp(m,"g");const h=new RegExp("^"+p+"$"),v=new RegExp("^"+d+"$"),C=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ge.testKanji=function(A){return h.test(A)},Ge.testNumeric=function(A){return v.test(A)},Ge.testAlphanumeric=function(A){return C.test(A)},Ge}var kn;function nt(){return kn||(kn=1,(function(d){const m=Jn(),p=Wn();d.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},d.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},d.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},d.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},d.MIXED={bit:-1},d.getCharCountIndicator=function(v,C){if(!v.ccBits)throw new Error("Invalid mode: "+v);if(!m.isValid(C))throw new Error("Invalid version: "+C);return C>=1&&C<10?v.ccBits[0]:C<27?v.ccBits[1]:v.ccBits[2]},d.getBestModeForData=function(v){return p.testNumeric(v)?d.NUMERIC:p.testAlphanumeric(v)?d.ALPHANUMERIC:p.testKanji(v)?d.KANJI:d.BYTE},d.toString=function(v){if(v&&v.id)return v.id;throw new Error("Invalid mode")},d.isValid=function(v){return v&&v.bit&&v.ccBits};function u(h){if(typeof h!="string")throw new Error("Param is not a string");switch(h.toLowerCase()){case"numeric":return d.NUMERIC;case"alphanumeric":return d.ALPHANUMERIC;case"kanji":return d.KANJI;case"byte":return d.BYTE;default:throw new Error("Unknown mode: "+h)}}d.from=function(v,C){if(d.isValid(v))return v;try{return u(v)}catch{return C}}})(dr)),dr}var Mn;function ya(){return Mn||(Mn=1,(function(d){const m=rt(),p=Gn(),u=Fr(),h=nt(),v=Jn(),C=7973,S=m.getBCHDigit(C);function A(T,j,te){for(let U=1;U<=40;U++)if(j<=d.getCapacity(U,te,T))return U}function O(T,j){return h.getCharCountIndicator(T,j)+4}function V(T,j){let te=0;return T.forEach(function(U){const W=O(U.mode,j);te+=W+U.getBitsLength()}),te}function H(T,j){for(let te=1;te<=40;te++)if(V(T,te)<=d.getCapacity(te,j,h.MIXED))return te}d.from=function(j,te){return v.isValid(j)?parseInt(j,10):te},d.getCapacity=function(j,te,U){if(!v.isValid(j))throw new Error("Invalid QR Code version");typeof U>"u"&&(U=h.BYTE);const W=m.getSymbolTotalCodewords(j),J=p.getTotalCodewordsCount(j,te),x=(W-J)*8;if(U===h.MIXED)return x;const P=x-O(U,j);switch(U){case h.NUMERIC:return Math.floor(P/10*3);case h.ALPHANUMERIC:return Math.floor(P/11*2);case h.KANJI:return Math.floor(P/13);case h.BYTE:default:return Math.floor(P/8)}},d.getBestVersionForData=function(j,te){let U;const W=u.from(te,u.M);if(Array.isArray(j)){if(j.length>1)return H(j,W);if(j.length===0)return 1;U=j[0]}else U=j;return A(U.mode,U.getLength(),W)},d.getEncodedBits=function(j){if(!v.isValid(j)||j<7)throw new Error("Invalid QR Code version");let te=j<<12;for(;m.getBCHDigit(te)-S>=0;)te^=C<<m.getBCHDigit(te)-S;return j<<12|te}})(hr)),hr}var vr={},xn;function wa(){if(xn)return vr;xn=1;const d=rt(),m=1335,p=21522,u=d.getBCHDigit(m);return vr.getEncodedBits=function(v,C){const S=v.bit<<3|C;let A=S<<10;for(;d.getBCHDigit(A)-u>=0;)A^=m<<d.getBCHDigit(A)-u;return(S<<10|A)^p},vr}var gr={},mr,Rn;function ba(){if(Rn)return mr;Rn=1;const d=nt();function m(p){this.mode=d.NUMERIC,this.data=p.toString()}return m.getBitsLength=function(u){return 10*Math.floor(u/3)+(u%3?u%3*3+1:0)},m.prototype.getLength=function(){return this.data.length},m.prototype.getBitsLength=function(){return m.getBitsLength(this.data.length)},m.prototype.write=function(u){let h,v,C;for(h=0;h+3<=this.data.length;h+=3)v=this.data.substr(h,3),C=parseInt(v,10),u.put(C,10);const S=this.data.length-h;S>0&&(v=this.data.substr(h),C=parseInt(v,10),u.put(C,S*3+1))},mr=m,mr}var yr,Pn;function Sa(){if(Pn)return yr;Pn=1;const d=nt(),m=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function p(u){this.mode=d.ALPHANUMERIC,this.data=u}return p.getBitsLength=function(h){return 11*Math.floor(h/2)+6*(h%2)},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(h){let v;for(v=0;v+2<=this.data.length;v+=2){let C=m.indexOf(this.data[v])*45;C+=m.indexOf(this.data[v+1]),h.put(C,11)}this.data.length%2&&h.put(m.indexOf(this.data[v]),6)},yr=p,yr}var wr,Fn;function Ca(){if(Fn)return wr;Fn=1;const d=nt();function m(p){this.mode=d.BYTE,typeof p=="string"?this.data=new TextEncoder().encode(p):this.data=new Uint8Array(p)}return m.getBitsLength=function(u){return u*8},m.prototype.getLength=function(){return this.data.length},m.prototype.getBitsLength=function(){return m.getBitsLength(this.data.length)},m.prototype.write=function(p){for(let u=0,h=this.data.length;u<h;u++)p.put(this.data[u],8)},wr=m,wr}var br,Ln;function Aa(){if(Ln)return br;Ln=1;const d=nt(),m=rt();function p(u){this.mode=d.KANJI,this.data=u}return p.getBitsLength=function(h){return h*13},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(u){let h;for(h=0;h<this.data.length;h++){let v=m.toSJIS(this.data[h]);if(v>=33088&&v<=40956)v-=33088;else if(v>=57408&&v<=60351)v-=49472;else throw new Error("Invalid SJIS character: "+this.data[h]+`
Make sure your charset is UTF-8`);v=(v>>>8&255)*192+(v&255),u.put(v,13)}},br=p,br}var Sr={exports:{}},Bn;function Ea(){return Bn||(Bn=1,(function(d){var m={single_source_shortest_paths:function(p,u,h){var v={},C={};C[u]=0;var S=m.PriorityQueue.make();S.push(u,0);for(var A,O,V,H,T,j,te,U,W;!S.empty();){A=S.pop(),O=A.value,H=A.cost,T=p[O]||{};for(V in T)T.hasOwnProperty(V)&&(j=T[V],te=H+j,U=C[V],W=typeof C[V]>"u",(W||U>te)&&(C[V]=te,S.push(V,te),v[V]=O))}if(typeof h<"u"&&typeof C[h]>"u"){var J=["Could not find a path from ",u," to ",h,"."].join("");throw new Error(J)}return v},extract_shortest_path_from_predecessor_list:function(p,u){for(var h=[],v=u;v;)h.push(v),p[v],v=p[v];return h.reverse(),h},find_path:function(p,u,h){var v=m.single_source_shortest_paths(p,u,h);return m.extract_shortest_path_from_predecessor_list(v,h)},PriorityQueue:{make:function(p){var u=m.PriorityQueue,h={},v;p=p||{};for(v in u)u.hasOwnProperty(v)&&(h[v]=u[v]);return h.queue=[],h.sorter=p.sorter||u.default_sorter,h},default_sorter:function(p,u){return p.cost-u.cost},push:function(p,u){var h={value:p,cost:u};this.queue.push(h),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};d.exports=m})(Sr)),Sr.exports}var On;function Ia(){return On||(On=1,(function(d){const m=nt(),p=ba(),u=Sa(),h=Ca(),v=Aa(),C=Wn(),S=rt(),A=Ea();function O(J){return unescape(encodeURIComponent(J)).length}function V(J,x,P){const L=[];let D;for(;(D=J.exec(P))!==null;)L.push({data:D[0],index:D.index,mode:x,length:D[0].length});return L}function H(J){const x=V(C.NUMERIC,m.NUMERIC,J),P=V(C.ALPHANUMERIC,m.ALPHANUMERIC,J);let L,D;return S.isKanjiModeEnabled()?(L=V(C.BYTE,m.BYTE,J),D=V(C.KANJI,m.KANJI,J)):(L=V(C.BYTE_KANJI,m.BYTE,J),D=[]),x.concat(P,L,D).sort(function(N,z){return N.index-z.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function T(J,x){switch(x){case m.NUMERIC:return p.getBitsLength(J);case m.ALPHANUMERIC:return u.getBitsLength(J);case m.KANJI:return v.getBitsLength(J);case m.BYTE:return h.getBitsLength(J)}}function j(J){return J.reduce(function(x,P){const L=x.length-1>=0?x[x.length-1]:null;return L&&L.mode===P.mode?(x[x.length-1].data+=P.data,x):(x.push(P),x)},[])}function te(J){const x=[];for(let P=0;P<J.length;P++){const L=J[P];switch(L.mode){case m.NUMERIC:x.push([L,{data:L.data,mode:m.ALPHANUMERIC,length:L.length},{data:L.data,mode:m.BYTE,length:L.length}]);break;case m.ALPHANUMERIC:x.push([L,{data:L.data,mode:m.BYTE,length:L.length}]);break;case m.KANJI:x.push([L,{data:L.data,mode:m.BYTE,length:O(L.data)}]);break;case m.BYTE:x.push([{data:L.data,mode:m.BYTE,length:O(L.data)}])}}return x}function U(J,x){const P={},L={start:{}};let D=["start"];for(let F=0;F<J.length;F++){const N=J[F],z=[];for(let $=0;$<N.length;$++){const Y=N[$],Z=""+F+$;z.push(Z),P[Z]={node:Y,lastCount:0},L[Z]={};for(let X=0;X<D.length;X++){const re=D[X];P[re]&&P[re].node.mode===Y.mode?(L[re][Z]=T(P[re].lastCount+Y.length,Y.mode)-T(P[re].lastCount,Y.mode),P[re].lastCount+=Y.length):(P[re]&&(P[re].lastCount=Y.length),L[re][Z]=T(Y.length,Y.mode)+4+m.getCharCountIndicator(Y.mode,x))}}D=z}for(let F=0;F<D.length;F++)L[D[F]].end=0;return{map:L,table:P}}function W(J,x){let P;const L=m.getBestModeForData(J);if(P=m.from(x,L),P!==m.BYTE&&P.bit<L.bit)throw new Error('"'+J+'" cannot be encoded with mode '+m.toString(P)+`.
 Suggested mode is: `+m.toString(L));switch(P===m.KANJI&&!S.isKanjiModeEnabled()&&(P=m.BYTE),P){case m.NUMERIC:return new p(J);case m.ALPHANUMERIC:return new u(J);case m.KANJI:return new v(J);case m.BYTE:return new h(J)}}d.fromArray=function(x){return x.reduce(function(P,L){return typeof L=="string"?P.push(W(L,null)):L.data&&P.push(W(L.data,L.mode)),P},[])},d.fromString=function(x,P){const L=H(x,S.isKanjiModeEnabled()),D=te(L),F=U(D,P),N=A.find_path(F.map,"start","end"),z=[];for(let $=1;$<N.length-1;$++)z.push(F.table[N[$]].node);return d.fromArray(j(z))},d.rawSplit=function(x){return d.fromArray(H(x,S.isKanjiModeEnabled()))}})(gr)),gr}var Tn;function ka(){if(Tn)return nr;Tn=1;const d=rt(),m=Fr(),p=ca(),u=fa(),h=ha(),v=da(),C=pa(),S=Gn(),A=ma(),O=ya(),V=wa(),H=nt(),T=Ia();function j(F,N){const z=F.size,$=v.getPositions(N);for(let Y=0;Y<$.length;Y++){const Z=$[Y][0],X=$[Y][1];for(let re=-1;re<=7;re++)if(!(Z+re<=-1||z<=Z+re))for(let ee=-1;ee<=7;ee++)X+ee<=-1||z<=X+ee||(re>=0&&re<=6&&(ee===0||ee===6)||ee>=0&&ee<=6&&(re===0||re===6)||re>=2&&re<=4&&ee>=2&&ee<=4?F.set(Z+re,X+ee,!0,!0):F.set(Z+re,X+ee,!1,!0))}}function te(F){const N=F.size;for(let z=8;z<N-8;z++){const $=z%2===0;F.set(z,6,$,!0),F.set(6,z,$,!0)}}function U(F,N){const z=h.getPositions(N);for(let $=0;$<z.length;$++){const Y=z[$][0],Z=z[$][1];for(let X=-2;X<=2;X++)for(let re=-2;re<=2;re++)X===-2||X===2||re===-2||re===2||X===0&&re===0?F.set(Y+X,Z+re,!0,!0):F.set(Y+X,Z+re,!1,!0)}}function W(F,N){const z=F.size,$=O.getEncodedBits(N);let Y,Z,X;for(let re=0;re<18;re++)Y=Math.floor(re/3),Z=re%3+z-8-3,X=($>>re&1)===1,F.set(Y,Z,X,!0),F.set(Z,Y,X,!0)}function J(F,N,z){const $=F.size,Y=V.getEncodedBits(N,z);let Z,X;for(Z=0;Z<15;Z++)X=(Y>>Z&1)===1,Z<6?F.set(Z,8,X,!0):Z<8?F.set(Z+1,8,X,!0):F.set($-15+Z,8,X,!0),Z<8?F.set(8,$-Z-1,X,!0):Z<9?F.set(8,15-Z-1+1,X,!0):F.set(8,15-Z-1,X,!0);F.set($-8,8,1,!0)}function x(F,N){const z=F.size;let $=-1,Y=z-1,Z=7,X=0;for(let re=z-1;re>0;re-=2)for(re===6&&re--;;){for(let ee=0;ee<2;ee++)if(!F.isReserved(Y,re-ee)){let ke=!1;X<N.length&&(ke=(N[X]>>>Z&1)===1),F.set(Y,re-ee,ke),Z--,Z===-1&&(X++,Z=7)}if(Y+=$,Y<0||z<=Y){Y-=$,$=-$;break}}}function P(F,N,z){const $=new p;z.forEach(function(ee){$.put(ee.mode.bit,4),$.put(ee.getLength(),H.getCharCountIndicator(ee.mode,F)),ee.write($)});const Y=d.getSymbolTotalCodewords(F),Z=S.getTotalCodewordsCount(F,N),X=(Y-Z)*8;for($.getLengthInBits()+4<=X&&$.put(0,4);$.getLengthInBits()%8!==0;)$.putBit(0);const re=(X-$.getLengthInBits())/8;for(let ee=0;ee<re;ee++)$.put(ee%2?17:236,8);return L($,F,N)}function L(F,N,z){const $=d.getSymbolTotalCodewords(N),Y=S.getTotalCodewordsCount(N,z),Z=$-Y,X=S.getBlocksCount(N,z),re=$%X,ee=X-re,ke=Math.floor($/X),Ve=Math.floor(Z/X),Ne=Ve+1,pe=ke-Ve,Se=new A(pe);let Me=0;const _e=new Array(X),ye=new Array(X);let le=0;const Le=new Uint8Array(F.buffer);for(let we=0;we<X;we++){const ue=we<ee?Ve:Ne;_e[we]=Le.slice(Me,Me+ue),ye[we]=Se.encode(_e[we]),Me+=ue,le=Math.max(le,ue)}const De=new Uint8Array($);let Ue=0,me,Ce;for(me=0;me<le;me++)for(Ce=0;Ce<X;Ce++)me<_e[Ce].length&&(De[Ue++]=_e[Ce][me]);for(me=0;me<pe;me++)for(Ce=0;Ce<X;Ce++)De[Ue++]=ye[Ce][me];return De}function D(F,N,z,$){let Y;if(Array.isArray(F))Y=T.fromArray(F);else if(typeof F=="string"){let ke=N;if(!ke){const Ve=T.rawSplit(F);ke=O.getBestVersionForData(Ve,z)}Y=T.fromString(F,ke||40)}else throw new Error("Invalid data");const Z=O.getBestVersionForData(Y,z);if(!Z)throw new Error("The amount of data is too big to be stored in a QR Code");if(!N)N=Z;else if(N<Z)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Z+`.
`);const X=P(N,z,Y),re=d.getSymbolSize(N),ee=new u(re);return j(ee,N),te(ee),U(ee,N),J(ee,z,0),N>=7&&W(ee,N),x(ee,X),isNaN($)&&($=C.getBestMask(ee,J.bind(null,ee,z))),C.applyMask($,ee),J(ee,z,$),{modules:ee,version:N,errorCorrectionLevel:z,maskPattern:$,segments:Y}}return nr.create=function(N,z){if(typeof N>"u"||N==="")throw new Error("No input text");let $=m.M,Y,Z;return typeof z<"u"&&($=m.from(z.errorCorrectionLevel,m.M),Y=O.from(z.version),Z=C.from(z.maskPattern),z.toSJISFunc&&d.setToSJISFunction(z.toSJISFunc)),D(N,Y,$,Z)},nr}var Cr={},Ar={},_n;function Kn(){return _n||(_n=1,(function(d){function m(p){if(typeof p=="number"&&(p=p.toString()),typeof p!="string")throw new Error("Color should be defined as hex string");let u=p.slice().replace("#","").split("");if(u.length<3||u.length===5||u.length>8)throw new Error("Invalid hex color: "+p);(u.length===3||u.length===4)&&(u=Array.prototype.concat.apply([],u.map(function(v){return[v,v]}))),u.length===6&&u.push("F","F");const h=parseInt(u.join(""),16);return{r:h>>24&255,g:h>>16&255,b:h>>8&255,a:h&255,hex:"#"+u.slice(0,6).join("")}}d.getOptions=function(u){u||(u={}),u.color||(u.color={});const h=typeof u.margin>"u"||u.margin===null||u.margin<0?4:u.margin,v=u.width&&u.width>=21?u.width:void 0,C=u.scale||4;return{width:v,scale:v?4:C,margin:h,color:{dark:m(u.color.dark||"#000000ff"),light:m(u.color.light||"#ffffffff")},type:u.type,rendererOpts:u.rendererOpts||{}}},d.getScale=function(u,h){return h.width&&h.width>=u+h.margin*2?h.width/(u+h.margin*2):h.scale},d.getImageWidth=function(u,h){const v=d.getScale(u,h);return Math.floor((u+h.margin*2)*v)},d.qrToImageData=function(u,h,v){const C=h.modules.size,S=h.modules.data,A=d.getScale(C,v),O=Math.floor((C+v.margin*2)*A),V=v.margin*A,H=[v.color.light,v.color.dark];for(let T=0;T<O;T++)for(let j=0;j<O;j++){let te=(T*O+j)*4,U=v.color.light;if(T>=V&&j>=V&&T<O-V&&j<O-V){const W=Math.floor((T-V)/A),J=Math.floor((j-V)/A);U=H[S[W*C+J]?1:0]}u[te++]=U.r,u[te++]=U.g,u[te++]=U.b,u[te]=U.a}}})(Ar)),Ar}var Dn;function Ma(){return Dn||(Dn=1,(function(d){const m=Kn();function p(h,v,C){h.clearRect(0,0,v.width,v.height),v.style||(v.style={}),v.height=C,v.width=C,v.style.height=C+"px",v.style.width=C+"px"}function u(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}d.render=function(v,C,S){let A=S,O=C;typeof A>"u"&&(!C||!C.getContext)&&(A=C,C=void 0),C||(O=u()),A=m.getOptions(A);const V=m.getImageWidth(v.modules.size,A),H=O.getContext("2d"),T=H.createImageData(V,V);return m.qrToImageData(T.data,v,A),p(H,O,V),H.putImageData(T,0,0),O},d.renderToDataURL=function(v,C,S){let A=S;typeof A>"u"&&(!C||!C.getContext)&&(A=C,C=void 0),A||(A={});const O=d.render(v,C,A),V=A.type||"image/png",H=A.rendererOpts||{};return O.toDataURL(V,H.quality)}})(Cr)),Cr}var Er={},$n;function xa(){if($n)return Er;$n=1;const d=Kn();function m(h,v){const C=h.a/255,S=v+'="'+h.hex+'"';return C<1?S+" "+v+'-opacity="'+C.toFixed(2).slice(1)+'"':S}function p(h,v,C){let S=h+v;return typeof C<"u"&&(S+=" "+C),S}function u(h,v,C){let S="",A=0,O=!1,V=0;for(let H=0;H<h.length;H++){const T=Math.floor(H%v),j=Math.floor(H/v);!T&&!O&&(O=!0),h[H]?(V++,H>0&&T>0&&h[H-1]||(S+=O?p("M",T+C,.5+j+C):p("m",A,0),A=0,O=!1),T+1<v&&h[H+1]||(S+=p("h",V),V=0)):A++}return S}return Er.render=function(v,C,S){const A=d.getOptions(C),O=v.modules.size,V=v.modules.data,H=O+A.margin*2,T=A.color.light.a?"<path "+m(A.color.light,"fill")+' d="M0 0h'+H+"v"+H+'H0z"/>':"",j="<path "+m(A.color.dark,"stroke")+' d="'+u(V,O,A.margin)+'"/>',te='viewBox="0 0 '+H+" "+H+'"',W='<svg xmlns="http://www.w3.org/2000/svg" '+(A.width?'width="'+A.width+'" height="'+A.width+'" ':"")+te+' shape-rendering="crispEdges">'+T+j+`</svg>
`;return typeof S=="function"&&S(null,W),W},Er}var Vn;function Ra(){if(Vn)return ft;Vn=1;const d=ua(),m=ka(),p=Ma(),u=xa();function h(v,C,S,A,O){const V=[].slice.call(arguments,1),H=V.length,T=typeof V[H-1]=="function";if(!T&&!d())throw new Error("Callback required as last argument");if(T){if(H<2)throw new Error("Too few arguments provided");H===2?(O=S,S=C,C=A=void 0):H===3&&(C.getContext&&typeof O>"u"?(O=A,A=void 0):(O=A,A=S,S=C,C=void 0))}else{if(H<1)throw new Error("Too few arguments provided");return H===1?(S=C,C=A=void 0):H===2&&!C.getContext&&(A=S,S=C,C=void 0),new Promise(function(j,te){try{const U=m.create(S,A);j(v(U,C,A))}catch(U){te(U)}})}try{const j=m.create(S,A);O(null,v(j,C,A))}catch(j){O(j)}}return ft.create=m.create,ft.toCanvas=h.bind(null,p.render),ft.toDataURL=h.bind(null,p.renderToDataURL),ft.toString=h.bind(null,function(v,C,S){return u.render(v,S)}),ft}var Pa=Ra();const Fa=Pr(Pa);function La(d){const p=new DOMParser().parseFromString(`<div>${d}</div>`,"text/html"),u=p.body.firstElementChild;return p.querySelectorAll("script, style").forEach(h=>h.remove()),p.querySelectorAll("*").forEach(h=>{Array.from(h.attributes).forEach(v=>{const C=v.name.toLowerCase(),S=(v.value||"").trim();if(C.startsWith("on")){h.removeAttribute(v.name);return}(C==="src"||C==="href")&&/^javascript:/i.test(S)&&h.removeAttribute(v.name)})}),u?u.innerHTML:p.body.innerHTML}async function Ba(d,m){const p=Te.render(d,m),u=La(p);return await Oa(u)}async function Qn(d){return(await la.render(d,{javascriptEnabled:!1})).css}function Nn(d,{html:m,css:p,widthMm:u,heightMm:h}){if(!d)return;const v=Number.isFinite(u)&&u>0?u:90,C=Number.isFinite(h)&&h>0?h:55,A=`
<!doctype html>
<html>
  <head>
    <style>
      ${`
    :root { box-sizing: border-box; }
    *, *::before, *::after { box-sizing: inherit; }
    html, body { margin: 0; padding: 0; width: 100%; height: 100%; }
    body { overflow: hidden; display: flex; align-items: center; justify-content: center; }
    .playground-viewport {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background-image:
        linear-gradient(45deg, #e5e7eb 25%, transparent 25%, transparent 75%, #e5e7eb 75%, #e5e7eb),
        linear-gradient(45deg, #e5e7eb 25%, transparent 25%, transparent 75%, #e5e7eb 75%, #e5e7eb);
      background-size: 12px 12px;
      background-position: 0 0, 6px 6px;
      background-color: #f8fafc;
    }
    .badge-box {
      width: ${v}mm;
      height: ${C}mm;
      position: relative;
    }
    .badge-box > .badge-surface {
      width: 100%;
      height: 100%;
      min-height: 100%;
    }
  `}
      ${p||""}
    </style>
  </head>
  <body>
    <div class="playground-viewport">
      <div class="badge-box">
        ${m}
      </div>
    </div>
  </body>
</html>`;d.setAttribute("sandbox",""),d.srcdoc=A,d.style.width="100%",d.style.height="100%"}async function Oa(d){const p=new DOMParser().parseFromString(`<div>${d}</div>`,"text/html"),u=p.body.firstElementChild||p.body,h=Array.from(u.querySelectorAll(".qr-holder[data-qr]"));return h.length&&await Promise.all(h.map(async v=>{const C=v.getAttribute("data-qr");if(C)try{const S=await Fa.toDataURL(C,{errorCorrectionLevel:"M",margin:0}),A=p.createElement("img");A.className=v.className?`${v.className} qr`:"qr",A.setAttribute("alt","QR code"),A.setAttribute("src",S),A.setAttribute("width",v.getAttribute("width")||""),A.setAttribute("height",v.getAttribute("height")||""),v.replaceWith(A)}catch{}})),u.innerHTML}const Ta={meta:{eventName:"Fallback Expo",eventDate:"2025-08-01",eventLocation:"Online",eventLogo:"",sponsorLogo:""},participants:[{id:"p-001",firstName:"Avery",lastName:"Lin",displayName:"Avery Lin",role:"Designer",company:"Northwind",email:"avery@example.com",badgeType:"VIP",qrValue:"https://example.com/avery"},{id:"p-002",firstName:"Jordan",lastName:"Smith",displayName:"Jordan Smith",role:"Engineer",company:"Contoso",email:"jordan@example.com",badgeType:"Standard",qrValue:"https://example.com/jordan"}]};async function _a(){try{const d=await fetch("/example/sample.json",{cache:"no-cache"});if(!d.ok)throw new Error(`Request failed: ${d.status}`);return await d.json()}catch{return{...Ta}}}function Ir(d,m){const p=new Blob([m],{type:"text/plain;charset=utf-8"}),u=URL.createObjectURL(p),h=document.createElement("a");h.href=u,h.download=d,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(u)}function kr(d){return new Promise((m,p)=>{const u=new FileReader;u.onload=()=>m(u.result),u.onerror=()=>p(u.error),u.readAsText(d)})}var Mr={exports:{}},Un;function Da(){return Un||(Un=1,(function(d){var m=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var p=(function(u){var h=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,v=0,C={},S={manual:u.Prism&&u.Prism.manual,disableWorkerMessageHandler:u.Prism&&u.Prism.disableWorkerMessageHandler,util:{encode:function x(P){return P instanceof A?new A(P.type,x(P.content),P.alias):Array.isArray(P)?P.map(x):P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(x){return Object.prototype.toString.call(x).slice(8,-1)},objId:function(x){return x.__id||Object.defineProperty(x,"__id",{value:++v}),x.__id},clone:function x(P,L){L=L||{};var D,F;switch(S.util.type(P)){case"Object":if(F=S.util.objId(P),L[F])return L[F];D={},L[F]=D;for(var N in P)P.hasOwnProperty(N)&&(D[N]=x(P[N],L));return D;case"Array":return F=S.util.objId(P),L[F]?L[F]:(D=[],L[F]=D,P.forEach(function(z,$){D[$]=x(z,L)}),D);default:return P}},getLanguage:function(x){for(;x;){var P=h.exec(x.className);if(P)return P[1].toLowerCase();x=x.parentElement}return"none"},setLanguage:function(x,P){x.className=x.className.replace(RegExp(h,"gi"),""),x.classList.add("language-"+P)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(D){var x=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(D.stack)||[])[1];if(x){var P=document.getElementsByTagName("script");for(var L in P)if(P[L].src==x)return P[L]}return null}},isActive:function(x,P,L){for(var D="no-"+P;x;){var F=x.classList;if(F.contains(P))return!0;if(F.contains(D))return!1;x=x.parentElement}return!!L}},languages:{plain:C,plaintext:C,text:C,txt:C,extend:function(x,P){var L=S.util.clone(S.languages[x]);for(var D in P)L[D]=P[D];return L},insertBefore:function(x,P,L,D){D=D||S.languages;var F=D[x],N={};for(var z in F)if(F.hasOwnProperty(z)){if(z==P)for(var $ in L)L.hasOwnProperty($)&&(N[$]=L[$]);L.hasOwnProperty(z)||(N[z]=F[z])}var Y=D[x];return D[x]=N,S.languages.DFS(S.languages,function(Z,X){X===Y&&Z!=x&&(this[Z]=N)}),N},DFS:function x(P,L,D,F){F=F||{};var N=S.util.objId;for(var z in P)if(P.hasOwnProperty(z)){L.call(P,z,P[z],D||z);var $=P[z],Y=S.util.type($);Y==="Object"&&!F[N($)]?(F[N($)]=!0,x($,L,null,F)):Y==="Array"&&!F[N($)]&&(F[N($)]=!0,x($,L,z,F))}}},plugins:{},highlightAll:function(x,P){S.highlightAllUnder(document,x,P)},highlightAllUnder:function(x,P,L){var D={callback:L,container:x,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};S.hooks.run("before-highlightall",D),D.elements=Array.prototype.slice.apply(D.container.querySelectorAll(D.selector)),S.hooks.run("before-all-elements-highlight",D);for(var F=0,N;N=D.elements[F++];)S.highlightElement(N,P===!0,D.callback)},highlightElement:function(x,P,L){var D=S.util.getLanguage(x),F=S.languages[D];S.util.setLanguage(x,D);var N=x.parentElement;N&&N.nodeName.toLowerCase()==="pre"&&S.util.setLanguage(N,D);var z=x.textContent,$={element:x,language:D,grammar:F,code:z};function Y(X){$.highlightedCode=X,S.hooks.run("before-insert",$),$.element.innerHTML=$.highlightedCode,S.hooks.run("after-highlight",$),S.hooks.run("complete",$),L&&L.call($.element)}if(S.hooks.run("before-sanity-check",$),N=$.element.parentElement,N&&N.nodeName.toLowerCase()==="pre"&&!N.hasAttribute("tabindex")&&N.setAttribute("tabindex","0"),!$.code){S.hooks.run("complete",$),L&&L.call($.element);return}if(S.hooks.run("before-highlight",$),!$.grammar){Y(S.util.encode($.code));return}if(P&&u.Worker){var Z=new Worker(S.filename);Z.onmessage=function(X){Y(X.data)},Z.postMessage(JSON.stringify({language:$.language,code:$.code,immediateClose:!0}))}else Y(S.highlight($.code,$.grammar,$.language))},highlight:function(x,P,L){var D={code:x,grammar:P,language:L};if(S.hooks.run("before-tokenize",D),!D.grammar)throw new Error('The language "'+D.language+'" has no grammar.');return D.tokens=S.tokenize(D.code,D.grammar),S.hooks.run("after-tokenize",D),A.stringify(S.util.encode(D.tokens),D.language)},tokenize:function(x,P){var L=P.rest;if(L){for(var D in L)P[D]=L[D];delete P.rest}var F=new H;return T(F,F.head,x),V(x,F,P,F.head,0),te(F)},hooks:{all:{},add:function(x,P){var L=S.hooks.all;L[x]=L[x]||[],L[x].push(P)},run:function(x,P){var L=S.hooks.all[x];if(!(!L||!L.length))for(var D=0,F;F=L[D++];)F(P)}},Token:A};u.Prism=S;function A(x,P,L,D){this.type=x,this.content=P,this.alias=L,this.length=(D||"").length|0}A.stringify=function x(P,L){if(typeof P=="string")return P;if(Array.isArray(P)){var D="";return P.forEach(function(Y){D+=x(Y,L)}),D}var F={type:P.type,content:x(P.content,L),tag:"span",classes:["token",P.type],attributes:{},language:L},N=P.alias;N&&(Array.isArray(N)?Array.prototype.push.apply(F.classes,N):F.classes.push(N)),S.hooks.run("wrap",F);var z="";for(var $ in F.attributes)z+=" "+$+'="'+(F.attributes[$]||"").replace(/"/g,"&quot;")+'"';return"<"+F.tag+' class="'+F.classes.join(" ")+'"'+z+">"+F.content+"</"+F.tag+">"};function O(x,P,L,D){x.lastIndex=P;var F=x.exec(L);if(F&&D&&F[1]){var N=F[1].length;F.index+=N,F[0]=F[0].slice(N)}return F}function V(x,P,L,D,F,N){for(var z in L)if(!(!L.hasOwnProperty(z)||!L[z])){var $=L[z];$=Array.isArray($)?$:[$];for(var Y=0;Y<$.length;++Y){if(N&&N.cause==z+","+Y)return;var Z=$[Y],X=Z.inside,re=!!Z.lookbehind,ee=!!Z.greedy,ke=Z.alias;if(ee&&!Z.pattern.global){var Ve=Z.pattern.toString().match(/[imsuy]*$/)[0];Z.pattern=RegExp(Z.pattern.source,Ve+"g")}for(var Ne=Z.pattern||Z,pe=D.next,Se=F;pe!==P.tail&&!(N&&Se>=N.reach);Se+=pe.value.length,pe=pe.next){var Me=pe.value;if(P.length>x.length)return;if(!(Me instanceof A)){var _e=1,ye;if(ee){if(ye=O(Ne,Se,x,re),!ye||ye.index>=x.length)break;var Ue=ye.index,le=ye.index+ye[0].length,Le=Se;for(Le+=pe.value.length;Ue>=Le;)pe=pe.next,Le+=pe.value.length;if(Le-=pe.value.length,Se=Le,pe.value instanceof A)continue;for(var De=pe;De!==P.tail&&(Le<le||typeof De.value=="string");De=De.next)_e++,Le+=De.value.length;_e--,Me=x.slice(Se,Le),ye.index-=Se}else if(ye=O(Ne,0,Me,re),!ye)continue;var Ue=ye.index,me=ye[0],Ce=Me.slice(0,Ue),we=Me.slice(Ue+me.length),ue=Se+Me.length;N&&ue>N.reach&&(N.reach=ue);var Ye=pe.prev;Ce&&(Ye=T(P,Ye,Ce),Se+=Ce.length),j(P,Ye,_e);var _t=new A(z,X?S.tokenize(me,X):me,ke,me);if(pe=T(P,Ye,_t),we&&T(P,pe,we),_e>1){var vt={cause:z+","+Y,reach:ue};V(x,P,L,pe.prev,Se,vt),N&&vt.reach>N.reach&&(N.reach=vt.reach)}}}}}}function H(){var x={value:null,prev:null,next:null},P={value:null,prev:x,next:null};x.next=P,this.head=x,this.tail=P,this.length=0}function T(x,P,L){var D=P.next,F={value:L,prev:P,next:D};return P.next=F,D.prev=F,x.length++,F}function j(x,P,L){for(var D=P.next,F=0;F<L&&D!==x.tail;F++)D=D.next;P.next=D,D.prev=P,x.length-=F}function te(x){for(var P=[],L=x.head.next;L!==x.tail;)P.push(L.value),L=L.next;return P}if(!u.document)return u.addEventListener&&(S.disableWorkerMessageHandler||u.addEventListener("message",function(x){var P=JSON.parse(x.data),L=P.language,D=P.code,F=P.immediateClose;u.postMessage(S.highlight(D,S.languages[L],L)),F&&u.close()},!1)),S;var U=S.util.currentScript();U&&(S.filename=U.src,U.hasAttribute("data-manual")&&(S.manual=!0));function W(){S.manual||S.highlightAll()}if(!S.manual){var J=document.readyState;J==="loading"||J==="interactive"&&U&&U.defer?document.addEventListener("DOMContentLoaded",W):window.requestAnimationFrame?window.requestAnimationFrame(W):window.setTimeout(W,16)}return S})(m);d.exports&&(d.exports=p),typeof cn<"u"&&(cn.Prism=p),p.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},p.languages.markup.tag.inside["attr-value"].inside.entity=p.languages.markup.entity,p.languages.markup.doctype.inside["internal-subset"].inside=p.languages.markup,p.hooks.add("wrap",function(u){u.type==="entity"&&(u.attributes.title=u.content.replace(/&amp;/,"&"))}),Object.defineProperty(p.languages.markup.tag,"addInlined",{value:function(h,v){var C={};C["language-"+v]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:p.languages[v]},C.cdata=/^<!\[CDATA\[|\]\]>$/i;var S={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:C}};S["language-"+v]={pattern:/[\s\S]+/,inside:p.languages[v]};var A={};A[h]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return h}),"i"),lookbehind:!0,greedy:!0,inside:S},p.languages.insertBefore("markup","cdata",A)}}),Object.defineProperty(p.languages.markup.tag,"addAttribute",{value:function(u,h){p.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+u+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[h,"language-"+h],inside:p.languages[h]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),p.languages.html=p.languages.markup,p.languages.mathml=p.languages.markup,p.languages.svg=p.languages.markup,p.languages.xml=p.languages.extend("markup",{}),p.languages.ssml=p.languages.xml,p.languages.atom=p.languages.xml,p.languages.rss=p.languages.xml,(function(u){var h=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;u.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+h.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+h.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+h.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+h.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:h,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},u.languages.css.atrule.inside.rest=u.languages.css;var v=u.languages.markup;v&&(v.tag.addInlined("style","css"),v.tag.addAttribute("style","css"))})(p),p.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},p.languages.javascript=p.languages.extend("clike",{"class-name":[p.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),p.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,p.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:p.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:p.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:p.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:p.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:p.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),p.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:p.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),p.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),p.languages.markup&&(p.languages.markup.tag.addInlined("script","javascript"),p.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),p.languages.js=p.languages.javascript,(function(){if(typeof p>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var u="Loading",h=function(U,W){return" Error "+U+" while fetching file: "+W},v=" Error: File does not exist or is empty",C={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},S="data-src-status",A="loading",O="loaded",V="failed",H="pre[data-src]:not(["+S+'="'+O+'"]):not(['+S+'="'+A+'"])';function T(U,W,J){var x=new XMLHttpRequest;x.open("GET",U,!0),x.onreadystatechange=function(){x.readyState==4&&(x.status<400&&x.responseText?W(x.responseText):x.status>=400?J(h(x.status,x.statusText)):J(v))},x.send(null)}function j(U){var W=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(U||"");if(W){var J=Number(W[1]),x=W[2],P=W[3];return x?P?[J,Number(P)]:[J,void 0]:[J,J]}}p.hooks.add("before-highlightall",function(U){U.selector+=", "+H}),p.hooks.add("before-sanity-check",function(U){var W=U.element;if(W.matches(H)){U.code="",W.setAttribute(S,A);var J=W.appendChild(document.createElement("CODE"));J.textContent=u;var x=W.getAttribute("data-src"),P=U.language;if(P==="none"){var L=(/\.(\w+)$/.exec(x)||[,"none"])[1];P=C[L]||L}p.util.setLanguage(J,P),p.util.setLanguage(W,P);var D=p.plugins.autoloader;D&&D.loadLanguages(P),T(x,function(F){W.setAttribute(S,O);var N=j(W.getAttribute("data-range"));if(N){var z=F.split(/\r\n?|\n/g),$=N[0],Y=N[1]==null?z.length:N[1];$<0&&($+=z.length),$=Math.max(0,Math.min($-1,z.length)),Y<0&&(Y+=z.length),Y=Math.max(0,Math.min(Y,z.length)),F=z.slice($,Y).join(`
`),W.hasAttribute("data-start")||W.setAttribute("data-start",String($+1))}J.textContent=F,p.highlightElement(J)},function(F){W.setAttribute(S,V),J.textContent=F})}}),p.plugins.fileHighlight={highlight:function(W){for(var J=(W||document).querySelectorAll(H),x=0,P;P=J[x++];)p.highlightElement(P)}};var te=!1;p.fileHighlight=function(){te||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),te=!0),p.plugins.fileHighlight.highlight.apply(this,arguments)}})()})(Mr)),Mr.exports}var $a=Da();const xr=Pr($a);(function(d){function m(p,u){return"___"+p.toUpperCase()+u+"___"}Object.defineProperties(d.languages["markup-templating"]={},{buildPlaceholders:{value:function(p,u,h,v){if(p.language===u){var C=p.tokenStack=[];p.code=p.code.replace(h,function(S){if(typeof v=="function"&&!v(S))return S;for(var A=C.length,O;p.code.indexOf(O=m(u,A))!==-1;)++A;return C[A]=S,O}),p.grammar=d.languages.markup}}},tokenizePlaceholders:{value:function(p,u){if(p.language!==u||!p.tokenStack)return;p.grammar=d.languages[u];var h=0,v=Object.keys(p.tokenStack);function C(S){for(var A=0;A<S.length&&!(h>=v.length);A++){var O=S[A];if(typeof O=="string"||O.content&&typeof O.content=="string"){var V=v[h],H=p.tokenStack[V],T=typeof O=="string"?O:O.content,j=m(u,V),te=T.indexOf(j);if(te>-1){++h;var U=T.substring(0,te),W=new d.Token(u,d.tokenize(H,p.grammar),"language-"+u,H),J=T.substring(te+j.length),x=[];U&&x.push.apply(x,C([U])),x.push(W),J&&x.push.apply(x,C([J])),typeof O=="string"?S.splice.apply(S,[A,1].concat(x)):O.content=x}}else O.content&&C(O.content)}return S}C(p.tokens)}}})})(Prism);Prism.languages.less=Prism.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/});Prism.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}});const Va={Required:["id","firstName","lastName"],Recommended:["displayName","role","company","title","country","city","email","phone","qrValue","badgeType","note"],Event:["eventName","eventDate","eventLocation","eventLogo","sponsorLogo"]},Na={base:Hn.trim(),conditional:'{{#company}}<div class="company">{{company}}</div>{{/company}}',image:'{{#eventLogo}}<img class="logo" src="{{eventLogo}}" alt="logo" />{{/eventLogo}}'};function Ua(){const d=document.getElementById("app");if(!d)return;const m=Yn(qi),p=Tt(m.size||"90x55mm"),u={htmlTemplate:Hn.trim(),lessSource:Ui.trim(),templateMeta:{name:m.name||"",description:m.description||"",size:m.size||Lr(p.widthMm,p.heightMm)},widthMm:p.widthMm,heightMm:p.heightMm,sampleData:null,participantIndex:0};d.innerHTML=qa();const h=document.getElementById("html-editor"),v=document.getElementById("less-editor");document.getElementById("html-highlight"),document.getElementById("less-highlight");const C=document.getElementById("meta-name"),S=document.getElementById("meta-description"),A=document.getElementById("meta-size"),O=document.getElementById("width-mm"),V=document.getElementById("height-mm"),H=document.getElementById("participant-select"),T=document.getElementById("error-panel"),j=document.getElementById("preview-frame");It(h,u.htmlTemplate),It(v,u.lessSource),Oe(h,u.htmlTemplate,"markup"),Oe(v,u.lessSource,"less"),C.value=u.templateMeta.name,S.value=u.templateMeta.description,A.value=u.templateMeta.size,O.value=u.widthMm,V.value=u.heightMm,ja(h,u,U),za(h,u,U),Ha(u,h,v,C,S,A,O,V,U),Ga(u,h,v),h.addEventListener("input",()=>{const W=ht(h);u.htmlTemplate=We(h),Oe(h,u.htmlTemplate,"markup",W),U()}),v.addEventListener("input",()=>{const W=ht(v);u.lessSource=We(v),Oe(v,u.lessSource,"less",W),U()}),h.addEventListener("keydown",W=>{W.key==="Enter"&&(W.preventDefault(),Ot(h,`
`),u.htmlTemplate=We(h),Oe(h,u.htmlTemplate,"markup",ht(h)),U())}),v.addEventListener("keydown",W=>{W.key==="Enter"&&(W.preventDefault(),Ot(v,`
`),u.lessSource=We(v),Oe(v,u.lessSource,"less",ht(v)),U())}),C.addEventListener("input",()=>qn(u,"name",C.value,A,O,V,U)),S.addEventListener("input",()=>qn(u,"description",S.value,A,O,V,U)),A.addEventListener("input",()=>Ja(u,A.value,O,V,U)),O.addEventListener("input",()=>jn(u,O,V,A,U)),V.addEventListener("input",()=>jn(u,O,V,A,U)),H.addEventListener("change",()=>{u.participantIndex=Number(H.value)||0,U()}),document.getElementById("reload-sample").addEventListener("click",async()=>{await zn(u,H,U)});const te=Za(()=>Ka(u,j,T),250);function U(){te()}zn(u,H,U).then(()=>U())}function qa(){return`
    <div class="topbar">
      <div class="title">Template Playground</div>
      <div class="toolbar">
        <button class="btn small" id="download-template">Download template.json</button>
        <button class="btn small" id="download-html">Download badge.mustache</button>
        <button class="btn small" id="download-less">Download theme.css</button>
        <label class="btn small secondary">
          Load template.json
          <input type="file" id="load-template" accept="application/json" hidden />
        </label>
        <label class="btn small secondary">
          Load badge.mustache
          <input type="file" id="load-html" accept=".mustache,.html,text/plain" hidden />
        </label>
        <label class="btn small secondary">
          Load theme.less
          <input type="file" id="load-less" accept=".less,.css,text/plain" hidden />
        </label>
      </div>
    </div>
    <div class="layout">
      <section class="panel toolbox-panel">
        <h4 class="section-title">Fields</h4>
        ${Object.entries(Va).map(([d,m])=>`
            <div class="field-group">
              <div class="hint">${d}</div>
              <div class="chip-group">
                ${m.map(p=>`<button class="chip" data-insert="{{${p}}}">${p}</button>`).join("")}
              </div>
            </div>
          `).join("")}
        <h4 class="section-title" style="margin-top:12px;">Snippets</h4>
        <div class="snippet-buttons">
          <button class="btn small" data-snippet="base">Insert base badge HTML</button>
          <button class="btn small secondary" data-snippet="conditional">Insert conditional block</button>
          <button class="btn small secondary" data-snippet="image">Insert image example</button>
        </div>
      </section>
      <section class="panel editors">
        <div class="editor-block">
          <div class="editor-header">
            <div class="section-title">HTML (Mustache)</div>
          </div>
          <pre id="html-editor" class="editor-shell code-editor language-markup" spellcheck="false" contenteditable="true" tabindex="0"></pre>
        </div>
        <div class="editor-block">
          <div class="editor-header">
            <div class="section-title">LESS Styles</div>
          </div>
          <pre id="less-editor" class="editor-shell code-editor language-less" spellcheck="false" contenteditable="true" tabindex="0"></pre>
        </div>
      </section>
      <section class="panel preview-panel">
        <div class="preview-shell">
          <div class="badge-stage">
            <iframe id="preview-frame" class="badge-frame" title="Badge preview"></iframe>
          </div>
        </div>
        <div>
          <div class="section-title">Template Meta & Size</div>
          <div class="settings-grid">
            <div class="field">
              <label for="meta-name">Name</label>
              <input id="meta-name" placeholder="Template name" />
            </div>
            <div class="field">
              <label for="meta-description">Description</label>
              <input id="meta-description" placeholder="Short description" />
            </div>
            <div class="field">
              <label for="meta-size">Size label</label>
              <input id="meta-size" placeholder="90x55mm" />
            </div>
          </div>
          <div class="badge-size" style="margin-top:8px;">
            <div class="field">
              <label for="width-mm">Width (mm)</label>
              <input id="width-mm" type="number" min="20" step="1" />
            </div>
            <div class="field">
              <label for="height-mm">Height (mm)</label>
              <input id="height-mm" type="number" min="20" step="1" />
            </div>
          </div>
          <div class="hint" style="margin-top:6px;">Size syncs both the label and the live preview frame.</div>
        </div>
        <div>
          <div class="section-title">Sample Data</div>
          <div class="loaders">
            <button class="btn small" id="reload-sample">Load /example/sample.json</button>
            <div class="field" style="min-width:160px;">
              <label for="participant-select">Participant</label>
              <select id="participant-select"></select>
            </div>
          </div>
          <div class="hint" style="margin-top:6px;">Context merges meta + participant, with extras fullName and badgeClass.</div>
          <div id="error-panel" class="error-panel empty" style="margin-top:8px;">No errors.</div>
        </div>
      </section>
    </div>
  `}function Yn(d){try{return JSON.parse(d)}catch{return{name:"",description:"",size:"90x55mm"}}}function Tt(d){const m=/([0-9.]+)\s*x\s*([0-9.]+)\s*mm?/i.exec(d||"");return m?{widthMm:parseFloat(m[1]),heightMm:parseFloat(m[2])}:{widthMm:90,heightMm:55}}function Lr(d,m){const p=Number.isFinite(d)?d:90,u=Number.isFinite(m)?m:55;return`${p}x${u}mm`}function ja(d,m,p){document.querySelectorAll(".chip[data-insert]").forEach(u=>{u.addEventListener("click",()=>{Ot(d,u.dataset.insert),m.htmlTemplate=We(d),Oe(d,m.htmlTemplate,"markup"),p()})})}function za(d,m,p){document.querySelectorAll("[data-snippet]").forEach(u=>{u.addEventListener("click",()=>{const h=u.dataset.snippet,v=Na[h]||"";v&&(h==="base"?It(d,v):Ot(d,v),m.htmlTemplate=We(d),Oe(d,m.htmlTemplate,"markup"),p())})})}function Ha(d,m,p,u,h,v,C,S,A){document.getElementById("load-template").addEventListener("change",async O=>{const V=O.target.files?.[0];if(V)try{const H=await kr(V),T=Yn(H);d.templateMeta={name:T.name||"",description:T.description||"",size:T.size||d.templateMeta.size};const j=Tt(d.templateMeta.size);d.widthMm=j.widthMm,d.heightMm=j.heightMm,u.value=d.templateMeta.name,h.value=d.templateMeta.description,v.value=d.templateMeta.size,C.value=d.widthMm,S.value=d.heightMm,A()}catch(H){alert(`Failed to load template.json: ${H.message}`)}finally{O.target.value=""}}),document.getElementById("load-html").addEventListener("change",async O=>{const V=O.target.files?.[0];if(V)try{const H=await kr(V);It(m,H),d.htmlTemplate=H,Oe(m,d.htmlTemplate,"markup"),A()}catch(H){alert(`Failed to load badge.mustache: ${H.message}`)}finally{O.target.value=""}}),document.getElementById("load-less").addEventListener("change",async O=>{const V=O.target.files?.[0];if(V)try{const H=await kr(V);It(p,H),d.lessSource=H,Oe(p,d.lessSource,"less"),A()}catch(H){alert(`Failed to load theme.less: ${H.message}`)}finally{O.target.value=""}})}function Ga(d,m,p){document.getElementById("download-template").addEventListener("click",()=>{Ir("template.json",Wa(d))}),document.getElementById("download-html").addEventListener("click",()=>{Ir("badge.mustache",We(m))}),document.getElementById("download-less").addEventListener("click",async()=>{try{const u=await Qn(We(p));Ir("theme.css",u)}catch(u){alert(`LESS compile failed: ${u.message}`)}})}function qn(d,m,p,u,h,v,C){if(d.templateMeta[m]=p,m==="size"){const S=Tt(p);d.widthMm=S.widthMm,d.heightMm=S.heightMm,h.value=d.widthMm,v.value=d.heightMm}else u.value=d.templateMeta.size;C()}function Ja(d,m,p,u,h){d.templateMeta.size=m;const v=Tt(m);d.widthMm=v.widthMm,d.heightMm=v.heightMm,p.value=d.widthMm,u.value=d.heightMm,h()}function jn(d,m,p,u,h){const v=parseFloat(m.value)||d.widthMm,C=parseFloat(p.value)||d.heightMm;d.widthMm=Math.max(20,v),d.heightMm=Math.max(20,C),u.value=Lr(d.widthMm,d.heightMm),d.templateMeta.size=u.value,h()}function Wa(d){return JSON.stringify({name:d.templateMeta.name,description:d.templateMeta.description,size:d.templateMeta.size||Lr(d.widthMm,d.heightMm)},null,2)}async function zn(d,m,p){d.sampleData=await _a();const u=d.sampleData.participants||[];m.innerHTML=u.map((h,v)=>`<option value="${v}">${v}: ${h.displayName||`${h.firstName||""} ${h.lastName||""}`.trim()||"Unnamed"}</option>`).join(""),u.length||(m.innerHTML='<option value="0">No participants</option>'),d.participantIndex=0,m.value="0",p()}async function Ka(d,m,p,u){const h=[],v=d.sampleData||{meta:{},participants:[]},C=v.participants[d.participantIndex]||v.participants[0]||{},S=v.meta||{},A=Qa(S,C);let O="";try{O=await Ba(d.htmlTemplate,A)}catch(H){h.push(`Mustache render: ${H.message}`)}let V="";try{V=await Qn(d.lessSource)}catch(H){h.push(`LESS: ${H.message}`)}if(Ya(p,h),h.length){Nn(m,{html:'<div style="padding:12px;font-family:sans-serif;color:#f8fafc;">Fix errors to see the badge.</div>',css:"",widthMm:d.widthMm,heightMm:d.heightMm});return}Nn(m,{html:O,css:V,widthMm:d.widthMm,heightMm:d.heightMm})}function Qa(d,m){const p={...d||{},...m||{}},u=p.displayName||`${p.firstName||""} ${p.lastName||""}`.trim();p.fullName=u.trim();const h=p.badgeType||p.role||"";return p.badgeClass=h?h.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""):"",p}function Ya(d,m){if(d){if(!m.length){d.textContent="No errors.",d.classList.add("empty");return}d.classList.remove("empty"),d.innerHTML=m.map(p=>`<div> ${Xa(p)}</div>`).join("")}}function Za(d,m=250){let p;return(...u)=>{clearTimeout(p),p=setTimeout(()=>d(...u),m)}}function Xa(d){return(d||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Oe(d,m,p,u){if(!d)return;const h=typeof u=="number"?u:ht(d),v=xr.languages[p]||xr.languages.markup;d.innerHTML=xr.highlight(m||"",v,p),es(d,h)}function Ot(d,m){const p=ht(d),u=We(d),h=u.slice(0,p)+m+u.slice(p);Oe(d,h,d.classList.contains("language-less")?"less":"markup",p+m.length)}function We(d){return d?.innerText||""}function It(d,m){d&&Oe(d,m,d.classList.contains("language-less")?"less":"markup",m?m.length:0)}function ht(d){const m=window.getSelection();if(!m||!m.rangeCount)return 0;const p=m.getRangeAt(0);if(!d.contains(p.startContainer))return 0;const u=p.cloneRange();return u.selectNodeContents(d),u.setEnd(p.startContainer,p.startOffset),u.toString().length}function es(d,m){const p=document.createTreeWalker(d,NodeFilter.SHOW_TEXT,null);let u=0,h=p.nextNode(),v=null;for(;h;){v=h;const C=u+h.textContent.length;if(m<=C){const S=document.createRange(),A=Math.max(0,m-u);S.setStart(h,A),S.collapse(!0);const O=window.getSelection();O.removeAllRanges(),O.addRange(S);return}u=C,h=p.nextNode()}if(v){const C=document.createRange();C.setStart(v,v.textContent.length),C.collapse(!0);const S=window.getSelection();S.removeAllRanges(),S.addRange(C)}}document.addEventListener("DOMContentLoaded",()=>{Ua()});
